<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Code generator HTTP api | Compas</title>
    <meta name="description" content="Unified backend tooling">
    <link rel="stylesheet" href="/assets/style.c3210e46.css">
    <link rel="modulepreload" href="/assets/app.cf930e1c.js">
    <link rel="modulepreload" href="/assets/features_code-gen-api.md.5566d552.lean.js">
    
    <meta name="twitter:title" content="Code generator HTTP api | Compas">
  <meta property="og:title" content="Code generator HTTP api | Compas">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Compas, back to home" data-v-675d8756 data-v-cc01ef16><!----> Compas</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/getting-started.html" data-v-b8818f8c>Docs <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/examples.html" data-v-b8818f8c>Examples <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/changelog" data-v-b8818f8c>Changelog <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/releases/index.html" data-v-b8818f8c>Release notes <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/compasjs/compas" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/getting-started.html" data-v-b8818f8c>Docs <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/examples.html" data-v-b8818f8c>Examples <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/changelog" data-v-b8818f8c>Changelog <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/releases/index.html" data-v-b8818f8c>Release notes <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/compasjs/compas" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/getting-started.html">Getting started</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Features</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/features/cli.html">CLI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/lint-setup.html">Linting and formatting</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/typescript-setup.html">Typescript setup</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/logger-and-events.html">Logger &amp; events</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/config-files.html">Configuration files</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/test-and-bench-runner.html">Testing and benchmarking</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/http-server.html">HTTP server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/postgres-and-minio.html">Postgres and Minio</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-validators.html">Code generation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/features/code-gen-api.html">Code generation API</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#getting-started">Getting started</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#query-and-path-parameters">Query and path parameters</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#advanced-usages">Advanced usages</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-api-client.html">Code generation API client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-sql.html">Code generation SQL queries</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-crud.html">Code generation CRUD</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/migrations.html">Postgres migrations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/background-jobs.html">Background jobs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/session-handling.html">Session handling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/file-handling.html">File handling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/extending-the-cli.html">Extending the CLI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/route-invalidations.html">Route invalidations</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/examples.html">Examples</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">References</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/references/compas-config.html">Compas configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/references/cli.html">CLI Reference</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/migrations/index.html">Migrations</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/migrations/store.html">@compas/store</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="code-generator-http-api" tabindex="-1">Code generator HTTP api <a class="header-anchor" href="#code-generator-http-api" aria-hidden="true">#</a></h1><p>The next code generators all resolve around creating and consuming structured HTTP api&#39;s. If you are only interested in consuming Compas backed api&#39;s in frontend projects, see <a href="/features/code-gen-api-client.html">code gen api client</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Requires <code>@compas/cli</code>, <code>@compas/stdlib</code>, <code>@compas/server</code> and <code>@compas/code-gen</code> to be installed.</p></div><h2 id="getting-started" tabindex="-1">Getting started <a class="header-anchor" href="#getting-started" aria-hidden="true">#</a></h2><p>In the <a href="/features/code-gen-validators.html">validator &amp; type generator</a> we have seen how to utilize the Compas type system to generate types and validators. Here we are going to get some good use out of them. We are going to create API route definitions complete with integrated validators.</p><p>The <code>TypeCreator (T)</code> also contains the entry point for the route system, with <code>T.router(path)</code>. Let&#39;s define our first route:</p><div class="language-js"><pre><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeCreator</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">response</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>And add <code>&quot;router&quot;</code> to the <code>enabledGenerators</code> in our <code>app.generate()</code> call like so:</p><div class="language-js"><pre><code><span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">outputDirectory</span><span class="token operator">:</span> <span class="token string">&quot;./src/generated&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isNodeServer</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enabledGenerators</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;validator&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;router&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dumpStructure</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>And execute the &#39;magic&#39;, <code>compas generate</code>. This created a bunch of new files, so let&#39;s explain a few of them:</p><ul><li><code>src/generated/common/router.js</code>: this contains the full JavaScript route matcher, and the router entrypoint <code>router(ctx, next)</code> so you can add it to your Koa app.</li><li><code>src/generated/app/controller</code>: the file that contains the called controller functions, like our <code>hello</code> route.</li></ul><p>Since all generated files will be overwritten, we need to implement the controller in a new file. Create the follwing in <code>src/app/controller.js</code>:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> appHandlers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../generated/app/controller.js&quot;</span><span class="token punctuation">;</span>

appHandlers<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// These are Koa middleware, so we allow other middleware&#39;s to run next.</span>
  <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>And finally we need to mount the generated router on our Koa instance in <code>scripts/api.js</code>:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mainFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@compas/stdlib&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@compas/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../src/generated/common/router.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Since we don&#39;t import our controllers any where, we need import them here to load our implementation.</span>
  <span class="token comment">// Else we would get &#39;405 Not implemented&#39; which is the default generated implementation.</span>
  <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../src/app/controller.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>See <a href="/features/http-server.html">Http server</a> for more details on <code>getApp</code>.</p></div><p>Let&#39;s run the server and execute a request:</p><div class="language-shell"><pre><code>compas api
<span class="token function">curl</span> http://localhost:3000/hello
</code></pre></div><h2 id="query-and-path-parameters" tabindex="-1">Query and path parameters <a class="header-anchor" href="#query-and-path-parameters" aria-hidden="true">#</a></h2><p>Routes also support query and path parameters. Let&#39;s upgrade our <code>appHello</code> route (group &#39;app&#39;, route &#39;hello&#39;) to accept a thing to say greet, and if the greeting should be in uppercase.</p><div class="language-js"><pre><code>app<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
  <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/hello/:thing&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;helloToThing&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">params</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">things</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Note the convert. Query parameters are always strings,</span>
      <span class="token comment">// so to get and validate other primitives we need to enable conversion in the validators.</span>
      <span class="token literal-property property">upperCase</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">response</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Let&#39;s regenerate first, so we get our validators and typings and then add the controller implementation for <code>appHelloToThing</code> in <code>src/app/controller.js</code>:</p><div class="language-js"><pre><code>appHandlers<span class="token punctuation">.</span><span class="token function-variable function">helloToThing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>validatedParams<span class="token punctuation">.</span>thing<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>validatedQuery<span class="token punctuation">.</span>upperCase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    greeting <span class="token operator">=</span> greeting<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> greeting<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>The last thing we need to do is add a parser so the query string is parsed and thus can be validated. Change <code>srcipts/api.js</code> to:</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mainFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@compas/stdlib&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getApp<span class="token punctuation">,</span> createBodyParsers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@compas/server&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> router<span class="token punctuation">,</span> setBodyParsers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../src/generated/common/router.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setBodyParsers</span><span class="token punctuation">(</span><span class="token function">createBodyParsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Since we don&#39;t import our controllers any where, we need import them here to load our implementation.</span>
  <span class="token comment">// Else we would get &#39;405 Not implemented&#39; which is the default generated implementation.</span>
  <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../src/app/controller.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Lets startup the api again and execute some requests:</p><div class="language-shell"><pre><code>compas api
</code></pre></div><ul><li><code>curl http://localhost:3000/hello/world</code>: As expected, results in a <code>Hello world!</code></li><li><code>curl http://localhost:3000/hello/world?upperCase=true</code>: Results in <code>HELLO WORLD!</code>. Quite the greeting.</li><li><code>curl http://localhost:3000/hello/world?upperCase=5</code>: Oops a validator error. The query parameters are automatically validated based on the provided structure.</li><li><code>curl http://localhost:3000/hello/world/foo</code>: Path params match till the next <code>/</code> or the end of route. So appending <code>/foo</code> results in a 404.</li><li><code>curl http://localhost:3000/hello/world/</code>: However trailing slashes are allowed and ignored.</li></ul><h2 id="advanced-usages" tabindex="-1">Advanced usages <a class="header-anchor" href="#advanced-usages" aria-hidden="true">#</a></h2><ul><li><a href="/features/route-invalidations.html">Route invalidations</a></li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><a class="link" href="https://github.com/compasjs/compas/edit/main/docs/features/code-gen-api.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/features/code-gen-validators" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Code generation</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/features/code-gen-api-client" data-v-38ede35f><span class="text" data-v-38ede35f>Code generation API client</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"changelog.md\":\"a051c557\",\"contributing.md\":\"9bfce678\",\"examples.md\":\"20a7d50d\",\"features_background-jobs.md\":\"37d26688\",\"features_cli.md\":\"da0bbfcf\",\"features_code-gen-api-client.md\":\"4198e896\",\"features_code-gen-api.md\":\"5566d552\",\"features_code-gen-crud.md\":\"ef8194cf\",\"features_code-gen-sql.md\":\"c8c939a1\",\"features_code-gen-validators.md\":\"199472e2\",\"features_config-files.md\":\"0f11a587\",\"features_extending-the-cli.md\":\"6c205d8e\",\"features_file-handling.md\":\"8e8a72df\",\"features_http-server.md\":\"f0b10171\",\"features_lint-setup.md\":\"0e7b41d2\",\"features_logger-and-events.md\":\"9b76c254\",\"features_migrations.md\":\"233899ca\",\"features_postgres-and-minio.md\":\"507a97c4\",\"features_route-invalidations.md\":\"0e15fb4e\",\"features_session-handling.md\":\"098b3081\",\"features_test-and-bench-runner.md\":\"de3d5eee\",\"features_typescript-setup.md\":\"bae7af0c\",\"getting-started.md\":\"b88cae49\",\"index.md\":\"e7192c6b\",\"migrations_index.md\":\"83f1951e\",\"migrations_store.md\":\"6cddb0dd\",\"references_cli.md\":\"48cda47c\",\"references_compas-config.md\":\"fcd50741\",\"releases_0.0.103.md\":\"ffffe48f\",\"releases_0.0.115.md\":\"82be64cd\",\"releases_0.0.119.md\":\"857e335c\",\"releases_0.0.124.md\":\"64749ebb\",\"releases_0.0.138.md\":\"387d8339\",\"releases_0.0.158.md\":\"c5ef0701\",\"releases_0.0.171.md\":\"29980ce0\",\"releases_0.0.172.md\":\"f5893116\",\"releases_0.0.180.md\":\"4f4d6bea\",\"releases_0.0.79.md\":\"81bb756d\",\"releases_0.0.81.md\":\"f0c81d75\",\"releases_0.0.83.md\":\"9893b66f\",\"releases_0.0.84.md\":\"80f2a6ce\",\"releases_0.0.89.md\":\"389c7324\",\"releases_index.md\":\"d46c73ba\"}")</script>
    <script type="module" async src="/assets/app.cf930e1c.js"></script>
    
  </body>
</html>