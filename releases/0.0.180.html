<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Release notes v0.0.180 | Compas</title>
    <meta name="description" content="Unified backend tooling">
    <link rel="stylesheet" href="/assets/style.c3210e46.css">
    <link rel="modulepreload" href="/assets/app.cf930e1c.js">
    <link rel="modulepreload" href="/assets/releases_0.0.180.md.4f4d6bea.lean.js">
    
    <meta name="twitter:title" content="Release notes v0.0.180 | Compas">
  <meta property="og:title" content="Release notes v0.0.180 | Compas">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Compas, back to home" data-v-675d8756 data-v-cc01ef16><!----> Compas</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/getting-started.html" data-v-b8818f8c>Docs <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/examples.html" data-v-b8818f8c>Examples <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/changelog" data-v-b8818f8c>Changelog <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/releases/index.html" data-v-b8818f8c>Release notes <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/compasjs/compas" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/getting-started.html" data-v-b8818f8c>Docs <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/examples.html" data-v-b8818f8c>Examples <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/changelog" data-v-b8818f8c>Changelog <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/releases/index.html" data-v-b8818f8c>Release notes <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/compasjs/compas" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item active" href="/releases/0.0.180.html">Release v0.0.180</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#cli">CLI</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#breaking-changes">Breaking changes</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#other-notable-features">Other notable features</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#in-closing">In closing</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.172.html">Release v0.0.172</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.171.html">Release v0.0.171</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.158.html">Release v0.0.158</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.138.html">Release v0.0.138</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.124.html">Release v0.0.124</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.119.html">Release v0.0.119</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.115.html">Release v0.0.115</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.103.html">Release v0.0.103</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.89.html">Release v0.0.89</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.84.html">Release v0.0.84</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.83.html">Release v0.0.83</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.81.html">Release v0.0.81</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/0.0.79.html">Release v0.0.79</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="release-notes-v0-0-180" tabindex="-1">Release notes v0.0.180 <a class="header-anchor" href="#release-notes-v0-0-180" aria-hidden="true">#</a></h1><p>Quite a big release after the holiday season. Packed with features, breaking changes and the most likely bugs. Looking back at the past year of Compas features, we see a bunch of additions to existing features, making them more complete, a bunch of bug fixes, better docs and, of course, some new features. We started to promote development with the TypeScript Language Server even for JavaScript only projects. Cleaned up code generation by outputting each group in its own directory. Got an OpenAPI exporter, parallelized the test runner, added a config loader. And now start the new year fresh with a CLI refactor.</p><h2 id="cli" tabindex="-1">CLI <a class="header-anchor" href="#cli" aria-hidden="true">#</a></h2><p>The CLI got quite the overhaul, with a few focus areas.</p><p><strong>Improve discovery and documentation</strong>:</p><p>The new Compas CLI is now fully explorable by using <code>compas help [...command]</code> or <code>compas [...command] --help</code>. Resulting in a list of available sub commands and a list of flags with their types and descriptions. This also allowed us to create a full <a href="/references/cli.html">CLI reference</a>.</p><p><strong>Improve command and flag parsing</strong>:</p><p>Invalid inputs are now consistently handled by the command and flag parser. Giving suggestions of available sub commands, and allowing custom validators to directly validate flag values, so we can guide the user in successfully executing the command they need.</p><p><strong>Restructure commands to be more focused</strong>:</p><p>Over time, we added quite a bunch of features. But sometimes they were not logically grouped. Take for example <code>compas docker migrate</code>. Migration doesn&#39;t have anything to do with the management of docker containers, so we refactored it in a <code>compas migrate</code>. Which also allows better documentation of the <code>--connection-settings</code> flag. Another notable change here is that <code>compas coverage</code> is now <code>compast test --coverage</code>, since it is executing in exactly the same way.</p><h3 id="breaking-changes" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes" aria-hidden="true">#</a></h3><p>This is an incomplete list of breaking changes of the Compas CLI. Please verify all your usages.</p><ul><li>Implicit run of scripts is removed. So <code>compas generate</code> is now <code>compas run generate</code>. To get the old behaviour, upgrade your script to a project level CLI command via <a href="/features/extending-the-cli.html">extending the CLI</a>.</li><li>Passing arguments to scripts via <code>compas run</code> should use <code>--script-args &quot;--arg 1 --foo&quot;</code>.</li><li>Removed <code>--watch</code> completely and thus any export of <code>cliWatchOptions</code> can be removed as well. This will come back in a future version of Compas, but most likely in another format.</li><li>Migrating should be done via <code>compas migrate</code> instead of <code>compas docker migrate</code>.</li><li><code>compas docker reset</code> is removed and instead <code>compas docker clean --project</code> should be used.</li><li><code>compas coverage</code> is removed in favor of <code>compas test --coverage</code>. It also doesn&#39;t accept C8 arguments anymore. See <code>compas test --help</code> for more information.</li></ul><h2 id="other-notable-features" tabindex="-1">Other notable features <a class="header-anchor" href="#other-notable-features" aria-hidden="true">#</a></h2><p>We now support react-query@v4. It requires all (parts of) query keys to be an array. To do this, the <code>.baseKey</code> function on generated hooks now also returns an array.</p><p>The default log middleware injected by <code>getApp</code> from @compas/server, now has some options to log the event name if available. Since all communications of routes are based on the route group and name, this should make it easier to find logs about that route.</p><p>The generated query builder now uses a generator helper provided by @compas/store. This makes the generated output much cleaner, and improves the maintainability of the generator. It also migrated to use correlated sub-queries which should be as fast or even faster than the lateral joins used previously. This change is however breaking for if you used <code>execRaw</code>, so make sure to check the query output and update your code accordingly.</p><h2 id="in-closing" tabindex="-1">In closing <a class="header-anchor" href="#in-closing" aria-hidden="true">#</a></h2><p>I am quite happy with the progress last year, and in the last weeks with the new CLI. The docs are getting slowly but surely some more content, so the experience should only get better. All the best for the new year and as always, keep on generating 😃</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><a class="link" href="https://github.com/compasjs/compas/edit/main/docs/releases/0.0.180.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><!----></div><div class="next" data-v-38ede35f><a class="link" href="/releases/0.0.172" data-v-38ede35f><span class="text" data-v-38ede35f>Release v0.0.172</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"changelog.md\":\"a051c557\",\"contributing.md\":\"9bfce678\",\"examples.md\":\"20a7d50d\",\"features_background-jobs.md\":\"37d26688\",\"features_cli.md\":\"da0bbfcf\",\"features_code-gen-api-client.md\":\"4198e896\",\"features_code-gen-api.md\":\"5566d552\",\"features_code-gen-crud.md\":\"ef8194cf\",\"features_code-gen-sql.md\":\"c8c939a1\",\"features_code-gen-validators.md\":\"199472e2\",\"features_config-files.md\":\"0f11a587\",\"features_extending-the-cli.md\":\"6c205d8e\",\"features_file-handling.md\":\"8e8a72df\",\"features_http-server.md\":\"f0b10171\",\"features_lint-setup.md\":\"0e7b41d2\",\"features_logger-and-events.md\":\"9b76c254\",\"features_migrations.md\":\"233899ca\",\"features_postgres-and-minio.md\":\"507a97c4\",\"features_route-invalidations.md\":\"0e15fb4e\",\"features_session-handling.md\":\"098b3081\",\"features_test-and-bench-runner.md\":\"de3d5eee\",\"features_typescript-setup.md\":\"bae7af0c\",\"getting-started.md\":\"b88cae49\",\"index.md\":\"e7192c6b\",\"migrations_index.md\":\"83f1951e\",\"migrations_store.md\":\"6cddb0dd\",\"references_cli.md\":\"48cda47c\",\"references_compas-config.md\":\"fcd50741\",\"releases_0.0.103.md\":\"ffffe48f\",\"releases_0.0.115.md\":\"82be64cd\",\"releases_0.0.119.md\":\"857e335c\",\"releases_0.0.124.md\":\"64749ebb\",\"releases_0.0.138.md\":\"387d8339\",\"releases_0.0.158.md\":\"c5ef0701\",\"releases_0.0.171.md\":\"29980ce0\",\"releases_0.0.172.md\":\"f5893116\",\"releases_0.0.180.md\":\"4f4d6bea\",\"releases_0.0.79.md\":\"81bb756d\",\"releases_0.0.81.md\":\"f0c81d75\",\"releases_0.0.83.md\":\"9893b66f\",\"releases_0.0.84.md\":\"80f2a6ce\",\"releases_0.0.89.md\":\"389c7324\",\"releases_index.md\":\"d46c73ba\"}")</script>
    <script type="module" async src="/assets/app.cf930e1c.js"></script>
    
  </body>
</html>