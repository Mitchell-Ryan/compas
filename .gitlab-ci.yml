stages:
  - test

# Supported Node versions
.node13: &node13
  image: node:13

# Test

.build_lint_test:
  stage: test
  cache:
    paths:
      - node_modules/
  script:
    - yarn install
    - yarn lbu lint
    - yarn lbu test

build_lint_test_node13:
  <<: [*node13]
  extends: .build_lint_test
  cache:
    key: lightbase-node13
