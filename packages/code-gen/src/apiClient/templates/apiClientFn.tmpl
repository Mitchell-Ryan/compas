/**
 * Name: {{= name }}
 * Tags: {{= tags.join(", ") }}
 * Docs: {{= docs }}
{{ if (it.paramsValidator) { }}
 * @param { {{= paramsValidator }}_Optional} params
{{ } }}
{{ if (it.queryValidator) { }}
 * @param { {{= queryValidator }}_Optional} query
{{ } }}
{{ if (it.bodyValidator) { }}
 * @param { {{= bodyValidator }}_Optional} body
{{ } }}
{{ if (it.responseModel) { }}
 * @return {Promise.<{{= responseModel }}>}
{{ } else { }}
 * @return {Promise.<*>}
{{ } }}

 */
export const {{= name }} = async (
{{ if (it.paramsValidator) { }}
params,
{{ } }}
{{ if (it.queryValidator) { }}
query,
{{ } }}
{{ if (it.bodyValidator) { }}
body,
{{ } }}
) => {
    {{ const url = path.split("/").map(part => part.startsWith(":") ? "${params." + part.substring(1) + "}" : part).join("/"); }}
    checkApiClient();

    {{ if (opts.enableMocks && it.responseModel !== undefined) { }}
      try {
        const response = await _internalClient.request({
          url: `{{= url }}`,
          method: "{{= method.toLowerCase() }}",
          params: {{ if (it.queryValidator) { }}query{{ } else { }}{}{{ } }},
          data: {{ if (it.bodyValidator) { }}body{{ } else { }}{}{{ } }}
        });

        setXRequestId(response.headers);

        return response.data;
      } catch (e) {
        if (e.response && e.response.status === 405) {
          return mocks.mock{{= it.responseModel }}();
        }
        throw e;
      }
    {{ } else { }}
        const response = await _internalClient.request({
          url: `{{= url }}`,
          method: "{{= method.toLowerCase() }}",
          params: {{ if (it.queryValidator) { }}query{{ } else { }}{}{{ } }},
          data: {{ if (it.bodyValidator) { }}body{{ } else { }}{}{{ } }}
        });

        setXRequestId(response.headers);

        return response.data;
    {{ } }}
};
