// Generated by @lbu/code-gen {{= new Date().toISOString() }}

{{ if (opts.header !== undefined) { }}
{{= opts.header }}
{{ } }}

{{ if (opts.enableMocks) { }}
import * as mocks from "./mocks.js";
{{ } }}

let _internalClient = undefined;

function checkApiClient() {
  if (_internalClient === undefined) {
    throw new Error("Initialize api client with createApiClient");
  }
}

/**
 * Should set an axios compatible api client
 * @param {Axios} instance
 */
export function createApiClient(instance) {
  _internalClient = instance;
}

function setXRequestId(headers) {
  _internalClient.defaults.headers.common["X-Request-Id"] = headers["x-request-id"];
}

{{ if (it.routes && it.routes.length > 0) { }}
    {{ for (const group of routeGroups) { }}
    export const {{= group }} = {
        {{ for (const route of routes) { }}
        {{ if (route.group !== group) { continue; } }}
        {{= apiClientFn({...it, ...route, opts }) }}
        {{ } }}
    };
    {{ } }}
{{ } }}
