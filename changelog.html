<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Changelog | Compas</title>
    <meta name="description" content="Unified backend tooling">
    <link rel="stylesheet" href="/assets/style.c3210e46.css">
    <link rel="modulepreload" href="/assets/app.cf930e1c.js">
    <link rel="modulepreload" href="/assets/changelog.md.a051c557.lean.js">
    
    <meta name="twitter:title" content="Changelog | Compas">
  <meta property="og:title" content="Changelog | Compas">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Compas, back to home" data-v-675d8756 data-v-cc01ef16><!----> Compas</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/getting-started.html" data-v-b8818f8c>Docs <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/examples.html" data-v-b8818f8c>Examples <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/changelog" data-v-b8818f8c>Changelog <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/releases/index.html" data-v-b8818f8c>Release notes <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/compasjs/compas" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/getting-started.html" data-v-b8818f8c>Docs <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/examples.html" data-v-b8818f8c>Examples <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/changelog" data-v-b8818f8c>Changelog <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/releases/index.html" data-v-b8818f8c>Release notes <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/compasjs/compas" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/getting-started.html">Getting started</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">Features</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/features/cli.html">CLI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/lint-setup.html">Linting and formatting</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/typescript-setup.html">Typescript setup</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/logger-and-events.html">Logger &amp; events</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/config-files.html">Configuration files</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/test-and-bench-runner.html">Testing and benchmarking</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/http-server.html">HTTP server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/postgres-and-minio.html">Postgres and Minio</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-validators.html">Code generation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-api.html">Code generation API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-api-client.html">Code generation API client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-sql.html">Code generation SQL queries</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/code-gen-crud.html">Code generation CRUD</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/migrations.html">Postgres migrations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/background-jobs.html">Background jobs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/session-handling.html">Session handling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/file-handling.html">File handling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/extending-the-cli.html">Extending the CLI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/features/route-invalidations.html">Route invalidations</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/examples.html">Examples</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">References</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/references/compas-config.html">Compas configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/references/cli.html">CLI Reference</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/migrations/index.html">Migrations</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/migrations/store.html">@compas/store</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-hidden="true">#</a></h1><h3 id="v0-0-207" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.207" target="_blank" rel="noopener noreferrer">v0.0.207</a> <a class="header-anchor" href="#v0-0-207" aria-hidden="true">#</a></h3><h5 id="changes" tabindex="-1">Changes <a class="header-anchor" href="#changes" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.18.5 to 7.18.6 (<a href="https://github.com/compasjs/compas/pull/1877" target="_blank" rel="noopener noreferrer">#1877</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump cron-parser from 4.4.0 to 4.5.0 (<a href="https://github.com/compasjs/compas/pull/1878" target="_blank" rel="noopener noreferrer">#1878</a>) <ul><li><a href="https://github.com/harrisiirak/cron-parser/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore: update README&#39;s</li><li>chore(cli): remove bench command (<a href="https://github.com/compasjs/compas/pull/1874" target="_blank" rel="noopener noreferrer">#1874</a>)</li><li>feat(bench): detect flaky bench results <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1616" target="_blank" rel="noopener noreferrer">#1616</a></li></ul></li><li>feat(bench): remove support for writing bench results to a file</li><li>feat(code-gen): add support for filters on crud list routes (<a href="https://github.com/compasjs/compas/pull/1880" target="_blank" rel="noopener noreferrer">#1880</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(code-gen): only select primary key in CRUD count builder (<a href="https://github.com/compasjs/compas/pull/1882" target="_blank" rel="noopener noreferrer">#1882</a>)</li><li>feat(code-gen): support selecting a set of fields in the query builder (<a href="https://github.com/compasjs/compas/pull/1876" target="_blank" rel="noopener noreferrer">#1876</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1875" target="_blank" rel="noopener noreferrer">#1875</a></li></ul></li><li>feat(compas): initialize Compas package</li><li>perf(cli): only import chokidar and axios when used</li><li>perf(code-gen): improve performance of generated string and object validators</li><li>perf(code-gen): small speedups while generating</li><li>perf(stdlib): skip context merge for the logger</li><li>refactor(code-gen): format error strings inline (<a href="https://github.com/compasjs/compas/pull/1873" target="_blank" rel="noopener noreferrer">#1873</a>)</li></ul><h5 id="breaking-changes" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes" aria-hidden="true">#</a></h5><ul><li><strong>cli</strong>: remove bench command <ul><li>Removed <code>compas bench</code>, use <code>compas run ./path/to/file.bench.js</code> to run your benchmarks.</li></ul></li><li><strong>bench</strong>: remove support for writing bench results to a file <ul><li>The <code>benchmark_output.txt</code> is not created anymore when running benchmarks on CI.</li></ul></li><li><strong>stdlib</strong>: skip context merge for the logger <ul><li>The <code>ctx</code> provided to <code>newLogger</code> and the values passed to <code>extendGlobalLoggerContext</code> are now longer deeply merged, but are shallowly merged.</li></ul></li></ul><h3 id="v0-0-206" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.206" target="_blank" rel="noopener noreferrer">v0.0.206</a> <a class="header-anchor" href="#v0-0-206" aria-hidden="true">#</a></h3><h5 id="changes-1" tabindex="-1">Changes <a class="header-anchor" href="#changes-1" aria-hidden="true">#</a></h5><ul><li>fix(server): check correct err status (<a href="https://github.com/compasjs/compas/pull/1872" target="_blank" rel="noopener noreferrer">#1872</a>)</li></ul><h3 id="v0-0-205" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.205" target="_blank" rel="noopener noreferrer">v0.0.205</a> <a class="header-anchor" href="#v0-0-205" aria-hidden="true">#</a></h3><h5 id="changes-2" tabindex="-1">Changes <a class="header-anchor" href="#changes-2" aria-hidden="true">#</a></h5><ul><li>build(deps): bump pino from 8.0.0 to 8.1.0 (<a href="https://github.com/compasjs/compas/pull/1870" target="_blank" rel="noopener noreferrer">#1870</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump sharp from 0.30.6 to 0.30.7 (<a href="https://github.com/compasjs/compas/pull/1869" target="_blank" rel="noopener noreferrer">#1869</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>fix(server): ensure log level is inherited from AppError (<a href="https://github.com/compasjs/compas/pull/1868" target="_blank" rel="noopener noreferrer">#1868</a>)</li><li>fix(server): more explicit conversion to <code>AppError.serverError</code> on unknown errors (<a href="https://github.com/compasjs/compas/pull/1871" target="_blank" rel="noopener noreferrer">#1871</a>)</li></ul><h3 id="v0-0-204" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.204" target="_blank" rel="noopener noreferrer">v0.0.204</a> <a class="header-anchor" href="#v0-0-204" aria-hidden="true">#</a></h3><h5 id="changes-3" tabindex="-1">Changes <a class="header-anchor" href="#changes-3" aria-hidden="true">#</a></h5><ul><li>fix(code-gen): import and use correct response validator (<a href="https://github.com/compasjs/compas/pull/1867" target="_blank" rel="noopener noreferrer">#1867</a>)</li></ul><h3 id="v0-0-203" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.203" target="_blank" rel="noopener noreferrer">v0.0.203</a> <a class="header-anchor" href="#v0-0-203" aria-hidden="true">#</a></h3><h5 id="changes-4" tabindex="-1">Changes <a class="header-anchor" href="#changes-4" aria-hidden="true">#</a></h5><ul><li>build(deps): bump eslint from 8.17.0 to 8.18.0 (<a href="https://github.com/compasjs/compas/pull/1863" target="_blank" rel="noopener noreferrer">#1863</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 39.3.2 to 39.3.3 (<a href="https://github.com/compasjs/compas/pull/1864" target="_blank" rel="noopener noreferrer">#1864</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(docs): fix small nits related to crud</li><li>fix(code-gen): resolve out of group refs in router generator (<a href="https://github.com/compasjs/compas/pull/1866" target="_blank" rel="noopener noreferrer">#1866</a>)</li></ul><h3 id="v0-0-202" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.202" target="_blank" rel="noopener noreferrer">v0.0.202</a> <a class="header-anchor" href="#v0-0-202" aria-hidden="true">#</a></h3><h5 id="changes-5" tabindex="-1">Changes <a class="header-anchor" href="#changes-5" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.18.2 to 7.18.5 (<a href="https://github.com/compasjs/compas/pull/1852" target="_blank" rel="noopener noreferrer">#1852</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump actions/setup-node from 3.2.0 to 3.3.0 (<a href="https://github.com/compasjs/compas/pull/1844" target="_blank" rel="noopener noreferrer">#1844</a>) <ul><li><a href="https://github.com/actions/setup-node/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.16.0 to 8.17.0 (<a href="https://github.com/compasjs/compas/pull/1841" target="_blank" rel="noopener noreferrer">#1841</a>)</li><li>build(deps): bump file-type from 17.1.1 to 17.1.2 (<a href="https://github.com/compasjs/compas/pull/1834" target="_blank" rel="noopener noreferrer">#1834</a>) <ul><li><a href="https://github.com/sindresorhus/file-type/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.11.0 to 8.0.0 (<a href="https://github.com/compasjs/compas/pull/1833" target="_blank" rel="noopener noreferrer">#1833</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.6.2 to 2.7.1 (<a href="https://github.com/compasjs/compas/pull/1854" target="_blank" rel="noopener noreferrer">#1854</a> , <a href="https://github.com/compasjs/compas/pull/1860" target="_blank" rel="noopener noreferrer">#1860</a>)</li><li>chore(changelog): ignore <code>@types/node</code> updates</li><li>feat(code-gen): implement <code>T.crud()</code> (<a href="https://github.com/compasjs/compas/pull/1824" target="_blank" rel="noopener noreferrer">#1824</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1099" target="_blank" rel="noopener noreferrer">#1099</a></li></ul></li><li>chore(code-gen): add e2e tests for basic crud generation (<a href="https://github.com/compasjs/compas/pull/1846" target="_blank" rel="noopener noreferrer">#1846</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>chore(code-gen): test crud inline + various fixes (<a href="https://github.com/compasjs/compas/pull/1847" target="_blank" rel="noopener noreferrer">#1847</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>chore(code-gen): test crud nested + various fixes (<a href="https://github.com/compasjs/compas/pull/1848" target="_blank" rel="noopener noreferrer">#1848</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(code-gen): add check to prevent double <code>oneToOne</code> creation in crud (<a href="https://github.com/compasjs/compas/pull/1859" target="_blank" rel="noopener noreferrer">#1859</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(code-gen): add crud order by support (<a href="https://github.com/compasjs/compas/pull/1857" target="_blank" rel="noopener noreferrer">#1857</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(code-gen): add route invalidations to crud routes in a single group (<a href="https://github.com/compasjs/compas/pull/1850" target="_blank" rel="noopener noreferrer">#1850</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(code-gen): full dynamic primary key support in the crud generator (<a href="https://github.com/compasjs/compas/pull/1856" target="_blank" rel="noopener noreferrer">#1856</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(code-gen): support crud modifiers (<a href="https://github.com/compasjs/compas/pull/1862" target="_blank" rel="noopener noreferrer">#1862</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>feat(docs): add CRUD docs <ul><li>References <a href="https://github.com/compasjs/compas/pull/1843" target="_blank" rel="noopener noreferrer">#1843</a></li></ul></li><li>chore(types): fix type issues, let CI fail on the types</li><li>feat(cli): improve printing of &#39;actual&#39; values in <code>t.ok</code> and <code>t.notOk</code> (<a href="https://github.com/compasjs/compas/pull/1837" target="_blank" rel="noopener noreferrer">#1837</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1836" target="_blank" rel="noopener noreferrer">#1836</a></li></ul></li><li>feat(cli): support <code>ignoreDirectories</code> in the loaded <code>test/config.js</code></li><li>feat(code-gen): generalize compas order by types</li><li>feat(server): return <code>stack</code> and <code>cause</code> of errors when not in production (<a href="https://github.com/compasjs/compas/pull/1838" target="_blank" rel="noopener noreferrer">#1838</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1835" target="_blank" rel="noopener noreferrer">#1835</a></li></ul></li><li>fix(cli): don&#39;t load <code>.test.js</code> files when resolving CLI commands</li><li>fix(code-gen): correctly output invalidations using multiple params (<a href="https://github.com/compasjs/compas/pull/1851" target="_blank" rel="noopener noreferrer">#1851</a>)</li><li>fix(code-gen): satisfy tsc</li></ul><h5 id="breaking-changes-1" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-1" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump pino from 7.11.0 to 8.0.0 <ul><li>Major version bump</li></ul></li><li><strong>code-gen</strong>: generalize compas order by types <ul><li><code>CompasSqlOrderBy</code> and <code>CompasSqlOrderByOptionalField</code> are respectively named <code>CompasOrderBy</code> and <code>CompasOrderByOptional</code></li></ul></li></ul><h5 id="documentation-updates" tabindex="-1">Documentation updates <a class="header-anchor" href="#documentation-updates" aria-hidden="true">#</a></h5><ul><li>Added a new page describing the <a href="https://compasjs.com/features/code-gen-crud.html" target="_blank" rel="noopener noreferrer">CRUD generator features</a></li></ul><h3 id="v0-0-201" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.201" target="_blank" rel="noopener noreferrer">v0.0.201</a> <a class="header-anchor" href="#v0-0-201" aria-hidden="true">#</a></h3><h5 id="changes-6" tabindex="-1">Changes <a class="header-anchor" href="#changes-6" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.10 to 7.18.2 (<a href="https://github.com/compasjs/compas/pull/1809" target="_blank" rel="noopener noreferrer">#1809</a> , <a href="https://github.com/compasjs/compas/pull/1812" target="_blank" rel="noopener noreferrer">#1812</a>, <a href="https://github.com/compasjs/compas/pull/1821" target="_blank" rel="noopener noreferrer">#1821</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @babel/eslint-parser from 7.17.0 to 7.18.2 (<a href="https://github.com/compasjs/compas/pull/1819" target="_blank" rel="noopener noreferrer">#1819</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 17.0.33 to 17.0.36 (<a href="https://github.com/compasjs/compas/pull/1808" target="_blank" rel="noopener noreferrer">#1808</a> , <a href="https://github.com/compasjs/compas/pull/1813" target="_blank" rel="noopener noreferrer">#1813</a>, <a href="https://github.com/compasjs/compas/pull/1823" target="_blank" rel="noopener noreferrer">#1823</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.15.0 to 8.16.0 (<a href="https://github.com/compasjs/compas/pull/1814" target="_blank" rel="noopener noreferrer">#1814</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 39.2.9 to 39.3.2 (<a href="https://github.com/compasjs/compas/pull/1811" target="_blank" rel="noopener noreferrer">#1811</a> , <a href="https://github.com/compasjs/compas/pull/1817" target="_blank" rel="noopener noreferrer">#1817</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump postgres from 3.2.2 to 3.2.4 (<a href="https://github.com/compasjs/compas/pull/1816" target="_blank" rel="noopener noreferrer">#1816</a> , <a href="https://github.com/compasjs/compas/pull/1820" target="_blank" rel="noopener noreferrer">#1820</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump sharp from 0.30.4 to 0.30.6 (<a href="https://github.com/compasjs/compas/pull/1815" target="_blank" rel="noopener noreferrer">#1815</a> , <a href="https://github.com/compasjs/compas/pull/1826" target="_blank" rel="noopener noreferrer">#1826</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(code-gen): remove <code>validator.anyOf</code> errors (<a href="https://github.com/compasjs/compas/pull/1829" target="_blank" rel="noopener noreferrer">#1829</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1827" target="_blank" rel="noopener noreferrer">#1827</a></li></ul></li><li>feat(code-gen): return <code>foundKeys</code> and <code>expectedKeys</code> in ` validator.o… (<a href="https://github.com/compasjs/compas/pull/1830" target="_blank" rel="noopener noreferrer">#1830</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1828" target="_blank" rel="noopener noreferrer">#1828</a></li></ul></li></ul><h5 id="breaking-changes-2" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-2" aria-hidden="true">#</a></h5><ul><li><strong>code-gen</strong>: remove <code>validator.anyOf</code> errors <ul><li><code>validator.anyOf</code> is not an error key anymore. See <a href="https://github.com/compasjs/compas/pull/1827" target="_blank" rel="noopener noreferrer">#1827</a> for more information.</li></ul></li><li><strong>code-gen</strong>: return <code>foundKeys</code> and <code>expectedKeys</code> in `validator.o… <ul><li><code>info.extraKey</code> is replaced by <code>info.expectedKeys</code> and <code>info.foundKeys</code> in <code>validator.object.strict</code> errors. See <a href="https://github.com/compasjs/compas/pull/1828" target="_blank" rel="noopener noreferrer">#1828</a> for more information.</li></ul></li></ul><h3 id="v0-0-200" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.200" target="_blank" rel="noopener noreferrer">v0.0.200</a> <a class="header-anchor" href="#v0-0-200" aria-hidden="true">#</a></h3><h5 id="changes-7" tabindex="-1">Changes <a class="header-anchor" href="#changes-7" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 17.0.31 to 17.0.33 (<a href="https://github.com/compasjs/compas/pull/1798" target="_blank" rel="noopener noreferrer">#1798</a> , <a href="https://github.com/compasjs/compas/pull/1802" target="_blank" rel="noopener noreferrer">#1802</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump c8 from 7.11.2 to 7.11.3 (<a href="https://github.com/compasjs/compas/pull/1807" target="_blank" rel="noopener noreferrer">#1807</a>) <ul><li><a href="https://github.com/bcoe/c8/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump dotenv from 16.0.0 to 16.0.1 (<a href="https://github.com/compasjs/compas/pull/1799" target="_blank" rel="noopener noreferrer">#1799</a>) <ul><li><a href="https://github.com/motdotla/dotenv/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump postgres from 3.1.0 to 3.2.2 (<a href="https://github.com/compasjs/compas/pull/1806" target="_blank" rel="noopener noreferrer">#1806</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(changelog): support keywords with and without trailing <code>S</code> (<a href="https://github.com/compasjs/compas/pull/1805" target="_blank" rel="noopener noreferrer">#1805</a>)</li><li>feat(store,code-gen): support image/avif in <code>sendTransformedImage</code> (<a href="https://github.com/compasjs/compas/pull/1804" target="_blank" rel="noopener noreferrer">#1804</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1801" target="_blank" rel="noopener noreferrer">#1801</a></li></ul></li><li>fix(code-gen): support numbers in group names like before (<a href="https://github.com/compasjs/compas/pull/1803" target="_blank" rel="noopener noreferrer">#1803</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1800" target="_blank" rel="noopener noreferrer">#1800</a></li></ul></li></ul><h3 id="v0-0-199" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.199" target="_blank" rel="noopener noreferrer">v0.0.199</a> <a class="header-anchor" href="#v0-0-199" aria-hidden="true">#</a></h3><h5 id="changes-8" tabindex="-1">Changes <a class="header-anchor" href="#changes-8" aria-hidden="true">#</a></h5><ul><li>fix(cli): correctly use new code-gen structure helpers</li></ul><h3 id="v0-0-198" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.198" target="_blank" rel="noopener noreferrer">v0.0.198</a> <a class="header-anchor" href="#v0-0-198" aria-hidden="true">#</a></h3><h5 id="changes-9" tabindex="-1">Changes <a class="header-anchor" href="#changes-9" aria-hidden="true">#</a></h5><ul><li>feat(code-gen): remove <code>type</code> as a reserved group name</li></ul><h3 id="v0-0-197" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.197" target="_blank" rel="noopener noreferrer">v0.0.197</a> <a class="header-anchor" href="#v0-0-197" aria-hidden="true">#</a></h3><h5 id="changes-10" tabindex="-1">Changes <a class="header-anchor" href="#changes-10" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.9 to 7.17.10 (<a href="https://github.com/compasjs/compas/pull/1780" target="_blank" rel="noopener noreferrer">#1780</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/formidable from 2.0.4 to 2.0.5 (<a href="https://github.com/compasjs/compas/pull/1784" target="_blank" rel="noopener noreferrer">#1784</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 17.0.25 to 17.0.31 (<a href="https://github.com/compasjs/compas/pull/1754" target="_blank" rel="noopener noreferrer">#1754</a> , <a href="https://github.com/compasjs/compas/pull/1762" target="_blank" rel="noopener noreferrer">#1762</a>, <a href="https://github.com/compasjs/compas/pull/1768" target="_blank" rel="noopener noreferrer">#1768</a> , <a href="https://github.com/compasjs/compas/pull/1774" target="_blank" rel="noopener noreferrer">#1774</a>, <a href="https://github.com/compasjs/compas/pull/1782" target="_blank" rel="noopener noreferrer">#1782</a>)</li><li>build(deps): bump cron-parser from 4.3.0 to 4.4.0 (<a href="https://github.com/compasjs/compas/pull/1781" target="_blank" rel="noopener noreferrer">#1781</a>)</li><li>build(deps): bump eslint from 8.13.0 to 8.15.0 (<a href="https://github.com/compasjs/compas/pull/1753" target="_blank" rel="noopener noreferrer">#1753</a> , <a href="https://github.com/compasjs/compas/pull/1794" target="_blank" rel="noopener noreferrer">#1794</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 39.2.7 to 39.2.9 (<a href="https://github.com/compasjs/compas/pull/1751" target="_blank" rel="noopener noreferrer">#1751</a> , <a href="https://github.com/compasjs/compas/pull/1759" target="_blank" rel="noopener noreferrer">#1759</a>)</li><li>build(deps): bump github/codeql-action from 1 to 2 (<a href="https://github.com/compasjs/compas/pull/1763" target="_blank" rel="noopener noreferrer">#1763</a>)</li><li>build(deps): bump minio from 7.0.26 to 7.0.28 (<a href="https://github.com/compasjs/compas/pull/1760" target="_blank" rel="noopener noreferrer">#1760</a>)</li><li>build(deps): bump pino from 7.10.0 to 7.11.0 (<a href="https://github.com/compasjs/compas/pull/1766" target="_blank" rel="noopener noreferrer">#1766</a>)</li><li>build(deps): bump postgres from 2.0.0-beta.11 to 3.1.0 (<a href="https://github.com/compasjs/compas/pull/1750" target="_blank" rel="noopener noreferrer">#1750</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump recast from 0.20.5 to 0.21.1 (<a href="https://github.com/compasjs/compas/pull/1772" target="_blank" rel="noopener noreferrer">#1772</a>)</li><li>chore: migrate from Yarn to NPM workspaces (<a href="https://github.com/compasjs/compas/pull/1779" target="_blank" rel="noopener noreferrer">#1779</a>)</li><li>chore: support Node.js 18 (<a href="https://github.com/compasjs/compas/pull/1778" target="_blank" rel="noopener noreferrer">#1778</a>)</li><li>chore: update author + contributor fields</li><li>chore(code-gen): refactor internal structure helpers (<a href="https://github.com/compasjs/compas/pull/1789" target="_blank" rel="noopener noreferrer">#1789</a> ,<a href="https://github.com/compasjs/compas/pull/1790" target="_blank" rel="noopener noreferrer">#1790</a>,<a href="https://github.com/compasjs/compas/pull/1791" target="_blank" rel="noopener noreferrer">#1791</a>)</li><li>chore(code-gen): skip generating empty type for defined routes</li><li>feat(code-gen): add explicit error for empty <code>T.string().oneOf()</code> values (<a href="https://github.com/compasjs/compas/pull/1773" target="_blank" rel="noopener noreferrer">#1773</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1755" target="_blank" rel="noopener noreferrer">#1755</a></li></ul></li><li>feat(code-gen): explicit error on invalid group and type names (<a href="https://github.com/compasjs/compas/pull/1787" target="_blank" rel="noopener noreferrer">#1787</a>)</li><li>feat(code-gen): hard error on duplicate route param (<a href="https://github.com/compasjs/compas/pull/1796" target="_blank" rel="noopener noreferrer">#1796</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1792" target="_blank" rel="noopener noreferrer">#1792</a></li></ul></li><li>feat(code-gen): only report first error in &#39;anyOf&#39; validators (<a href="https://github.com/compasjs/compas/pull/1770" target="_blank" rel="noopener noreferrer">#1770</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1756" target="_blank" rel="noopener noreferrer">#1756</a></li></ul></li><li>feat(code-gen): support references in <code>T.pick</code> and <code>T.omit</code> (<a href="https://github.com/compasjs/compas/pull/1788" target="_blank" rel="noopener noreferrer">#1788</a>)</li><li>feat(server): remove <code>leakError</code> support (<a href="https://github.com/compasjs/compas/pull/1769" target="_blank" rel="noopener noreferrer">#1769</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1757" target="_blank" rel="noopener noreferrer">#1757</a></li></ul></li><li>feat(stdlib): support <code>COMPAS_LOG_PRINTER</code> env variable to select a log printer (<a href="https://github.com/compasjs/compas/pull/1785" target="_blank" rel="noopener noreferrer">#1785</a>)</li><li>feat(store): refactor job queue worker (<a href="https://github.com/compasjs/compas/pull/1776" target="_blank" rel="noopener noreferrer">#1776</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1095" target="_blank" rel="noopener noreferrer">#1095</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1704" target="_blank" rel="noopener noreferrer">#1704</a></li></ul></li><li>fix(docs): fix syntax error in initial migration</li></ul><h5 id="breaking-changes-3" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-3" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump postgres from 2.0.0-beta.11 to 3.1.0 <ul><li>Major version bump</li><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li><strong>all</strong>: support Node.js 18 <ul><li><code>POSTGRES_HOST</code> and <code>MINIO_URI</code> should use <code>127.0.0.1</code> instead of <code>localhost</code> when using Node.js 18+</li><li>Axios will use the global <code>FormData</code>, resulting in a one time process warning which is automatically logged as an error. Since Axios also includes its own <code>form-data</code> package for older Node.js versions, you can remove the explicit the dependency on it.</li></ul></li><li><strong>code-gen</strong>: move comment formatter and internal field remove to structure helpers <ul><li><code>type</code> is now a reserved group name</li></ul></li><li><strong>code-gen</strong>: support references in <code>T.pick</code> and <code>T.omit</code><ul><li><code>T.omit()</code> and <code>T.pick()</code> now only copy or remove object keys and further use their own options for things like <code>.optional()</code>, <code>.default()</code> and <code>.loose()</code></li></ul></li><li><strong>server</strong>: remove <code>leakError</code> support <ul><li>The <code>stack</code> and <code>cause</code> properties are never sent to the client.</li><li>Error responses should have a <code>requestId</code> property, referencing to the logs for the <code>stack</code> and <code>cause</code> properties.</li></ul></li><li><strong>store</strong>: refactor job queue worker <ul><li>All of <code>addJobToQueue</code>, <code>addEventToQueue</code> and <code>addJobWithCustomTimeoutToQueue</code> are replaced with <a href="https://compasjs.com/features/background-jobs.html#queueWorkerAddJob" target="_blank" rel="noopener noreferrer">queueWorkerAddJob</a></li><li><code>new JobQueueWorker()</code> including the <code>start</code> &amp; <code>stop</code> methods are replaced by <a href="https://compasjs.com/features/background-jobs.html#queueWorkerCreate" target="_blank" rel="noopener noreferrer">queueWorkerCreate</a></li><li><code>JobQueueWorker#clean</code> no longer exists, see <a href="https://compasjs.com/features/background-jobs.html#jobqueuecleanup" target="_blank" rel="noopener noreferrer">jobQueueCleanup</a> for a replacement</li><li><code>JobQueueWorker#pendingQueueSize</code> no longer exists, see <a href="https://compasjs.com/features/background-jobs.html#jobqueueinsights" target="_blank" rel="noopener noreferrer">jobQueueInsights</a></li><li><code>addRecurringJobToQueue</code> is removed, and replaced with cron based scheduler, see <a href="https://compasjs.com/features/background-jobs.html#queueworkerregistercronjobs" target="_blank" rel="noopener noreferrer">queueWorkerRegisterCronJobs</a></li><li>Remove all existing recurring jobs and their created jobs with the following migration:</li></ul></li></ul><div class="language-sql"><pre><code><span class="token keyword">WITH</span>
  recurring_jobs <span class="token keyword">AS</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token keyword">data</span> <span class="token operator">-</span><span class="token operator">&gt;&gt;</span> <span class="token string">&#39;name&#39;</span> <span class="token keyword">AS</span> <span class="token string">&quot;recurringName&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;job&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;compas.job.recurring&#39;</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  removed_recurring_jobs <span class="token keyword">AS</span> <span class="token punctuation">(</span><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token string">&quot;job&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;compas.job.recurring&#39;</span>
  <span class="token punctuation">)</span>
<span class="token keyword">DELETE</span>
<span class="token keyword">FROM</span> <span class="token string">&quot;job&quot;</span>
<span class="token keyword">WHERE</span>
    <span class="token string">&quot;name&quot;</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token string">&quot;recurringName&quot;</span>
    <span class="token keyword">FROM</span> recurring_jobs
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="v0-0-196" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.196" target="_blank" rel="noopener noreferrer">v0.0.196</a> <a class="header-anchor" href="#v0-0-196" aria-hidden="true">#</a></h3><h5 id="changes-11" tabindex="-1">Changes <a class="header-anchor" href="#changes-11" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.8 to 7.17.9 (<a href="https://github.com/compasjs/compas/pull/1709" target="_blank" rel="noopener noreferrer">#1709</a>)</li><li>build(deps): bump @types/minio from 7.0.12 to 7.0.13 (<a href="https://github.com/compasjs/compas/pull/1724" target="_blank" rel="noopener noreferrer">#1724</a>)</li><li>build(deps): bump @types/node from 17.0.22 to 17.0.25 (<a href="https://github.com/compasjs/compas/pull/1670" target="_blank" rel="noopener noreferrer">#1670</a>, <a href="https://github.com/compasjs/compas/pull/1730" target="_blank" rel="noopener noreferrer">#1730</a>, <a href="https://github.com/compasjs/compas/pull/1737" target="_blank" rel="noopener noreferrer">#1737</a>)</li><li>build(deps): bump actions/setup-node from 3.0.0 to 3.1.1 (<a href="https://github.com/compasjs/compas/pull/1698" target="_blank" rel="noopener noreferrer">#1698</a>, <a href="https://github.com/compasjs/compas/pull/1723" target="_blank" rel="noopener noreferrer">#1723</a>)</li><li>build(deps): bump c8 from 7.11.0 to 7.11.2 (<a href="https://github.com/compasjs/compas/pull/1742" target="_blank" rel="noopener noreferrer">#1742</a>) <ul><li><a href="https://github.com/bcoe/c8/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump codecov/codecov-action from 2.1.0 to 3 (<a href="https://github.com/compasjs/compas/pull/1703" target="_blank" rel="noopener noreferrer">#1703</a>) <ul><li><a href="https://github.com/codecov/codecov-action/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump crc from 4.1.0 to 4.1.1 (<a href="https://github.com/compasjs/compas/pull/1718" target="_blank" rel="noopener noreferrer">#1718</a>)</li><li>build(deps): bump eslint from 8.11.0 to 8.13.0 (<a href="https://github.com/compasjs/compas/pull/1679" target="_blank" rel="noopener noreferrer">#1679</a>, <a href="https://github.com/compasjs/compas/pull/1720" target="_blank" rel="noopener noreferrer">#1720</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-import from 2.25.4 to 2.26.0 (<a href="https://github.com/compasjs/compas/pull/1701" target="_blank" rel="noopener noreferrer">#1701</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 38.0.6 to 39.2.7 (<a href="https://github.com/compasjs/compas/pull/1681" target="_blank" rel="noopener noreferrer">#1681</a>, <a href="https://github.com/compasjs/compas/pull/1682" target="_blank" rel="noopener noreferrer">#1682</a>, <a href="https://github.com/compasjs/compas/pull/1683" target="_blank" rel="noopener noreferrer">#1683</a>, <a href="https://github.com/compasjs/compas/pull/1697" target="_blank" rel="noopener noreferrer">#1697</a>, <a href="https://github.com/compasjs/compas/pull/1710" target="_blank" rel="noopener noreferrer">#1710</a>, <a href="https://github.com/compasjs/compas/pull/1717" target="_blank" rel="noopener noreferrer">#1717</a>, <a href="https://github.com/compasjs/compas/pull/1722" target="_blank" rel="noopener noreferrer">#1722</a>, <a href="https://github.com/compasjs/compas/pull/1726" target="_blank" rel="noopener noreferrer">#1726</a>, <a href="https://github.com/compasjs/compas/pull/1727" target="_blank" rel="noopener noreferrer">#1727</a>, <a href="https://github.com/compasjs/compas/pull/1732" target="_blank" rel="noopener noreferrer">#1732</a>, <a href="https://github.com/compasjs/compas/pull/1738" target="_blank" rel="noopener noreferrer">#1738</a>, <a href="https://github.com/compasjs/compas/pull/1740" target="_blank" rel="noopener noreferrer">#1740</a>, <a href="https://github.com/compasjs/compas/pull/1741" target="_blank" rel="noopener noreferrer">#1741</a>, <a href="https://github.com/compasjs/compas/pull/1745" target="_blank" rel="noopener noreferrer">#1745</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump minimist from 1.2.5 to 1.2.6 (<a href="https://github.com/compasjs/compas/pull/1672" target="_blank" rel="noopener noreferrer">#1672</a>) <ul><li><a href="https://github.com/substack/minimist/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.9.2 to 7.10.0 (<a href="https://github.com/compasjs/compas/pull/1716" target="_blank" rel="noopener noreferrer">#1716</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.6.0 to 2.6.2 (<a href="https://github.com/compasjs/compas/pull/1677" target="_blank" rel="noopener noreferrer">#1677</a>, <a href="https://github.com/compasjs/compas/pull/1696" target="_blank" rel="noopener noreferrer">#1696</a>) <ul><li><a href="https://github.com/prettier/prettier/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump sharp from 0.30.3 to 0.30.4 (<a href="https://github.com/compasjs/compas/pull/1736" target="_blank" rel="noopener noreferrer">#1736</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(eslint-plugin): better suggestion message for check-event-name</li><li>chore(store): drop <code>fileGroup</code> support (<a href="https://github.com/compasjs/compas/pull/1714" target="_blank" rel="noopener noreferrer">#1714</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1705" target="_blank" rel="noopener noreferrer">#1705</a></li></ul></li><li>feat(cli): remove <code>enforceSingleAssertion</code> option from test config (<a href="https://github.com/compasjs/compas/pull/1690" target="_blank" rel="noopener noreferrer">#1690</a>)</li><li>feat(code-gen): cleanup soft delete support (<a href="https://github.com/compasjs/compas/pull/1691" target="_blank" rel="noopener noreferrer">#1691</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1091" target="_blank" rel="noopener noreferrer">#1091</a></li></ul></li><li>feat(eslint-plugin): add check-event-name rule (<a href="https://github.com/compasjs/compas/pull/1734" target="_blank" rel="noopener noreferrer">#1734</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1713" target="_blank" rel="noopener noreferrer">#1713</a></li></ul></li><li>feat(server): handle file upload size limit errors (<a href="https://github.com/compasjs/compas/pull/1748" target="_blank" rel="noopener noreferrer">#1748</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1743" target="_blank" rel="noopener noreferrer">#1743</a></li></ul></li><li>feat(stdlib): supported already formatted error in AppError#format (<a href="https://github.com/compasjs/compas/pull/1749" target="_blank" rel="noopener noreferrer">#1749</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1747" target="_blank" rel="noopener noreferrer">#1747</a></li></ul></li><li>feat(store): drop soft deletes on file and file group (<a href="https://github.com/compasjs/compas/pull/1693" target="_blank" rel="noopener noreferrer">#1693</a>)</li><li>fix(cli): include failing assertions of subtests in failing test (<a href="https://github.com/compasjs/compas/pull/1689" target="_blank" rel="noopener noreferrer">#1689</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1685" target="_blank" rel="noopener noreferrer">#1685</a></li></ul></li><li>fix(code-gen): import structure without cache in <code>generateTypes</code> and <code>generateOpenAPI</code> (<a href="https://github.com/compasjs/compas/pull/1715" target="_blank" rel="noopener noreferrer">#1715</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1699" target="_blank" rel="noopener noreferrer">#1699</a></li></ul></li><li>fix(eslint-plugin): only error enforce-event-stop if <code>eventStart</code> is called (<a href="https://github.com/compasjs/compas/pull/1729" target="_blank" rel="noopener noreferrer">#1729</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1706" target="_blank" rel="noopener noreferrer">#1706</a></li></ul></li><li>fix(eslint-plugin): register <code>enforce-event-stop</code> as the correct rule type</li><li>fix(store): correct type partial for <code>newMinioClient</code><ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1712" target="_blank" rel="noopener noreferrer">#1712</a></li></ul></li></ul><h5 id="breaking-changes-4" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-4" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump eslint-plugin-jsdoc from 38.0.6 to 39.2.7 <ul><li>Major version bump</li></ul></li><li><strong>store</strong>: drop soft deletes on file and file group <ul><li>File and fileGroup are no longer soft deletable. If you need this, you should reference them via a custom entity that is soft deletable.</li><li>To drop the columns, create the following migration:</li></ul><div class="language-sql"><pre><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token string">&quot;file&quot;</span> <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> <span class="token string">&quot;deletedAt&quot;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token string">&quot;fileGroup&quot;</span> <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> <span class="token string">&quot;deletedAt&quot;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre></div></li><li><strong>store</strong>: drop <code>fileGroup</code> support <ul><li>Any reference to <code>fileGroup</code> should be removed. If you need the exact behaviour that it had, please check the removed code via its pull request link above. Most notably: <code>gen/store.js</code> and <code>packages/store/src/file-group.js</code>.</li><li>Run the following SQL in a migration:</li></ul><div class="language-sql"><pre><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token string">&quot;fileGroup&quot;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre></div></li><li><strong>cli</strong>: remove <code>enforceSingleAssertion</code> option from test config <ul><li>All tests now require at least a single assertion or registration of a subtest</li></ul></li><li><strong>code-gen</strong>: cleanup soft delete support <ul><li>Entities that use soft delete should use <code>queries.entityUpdate(sql, { update: { deletedAt: new Date() }, where, })</code> instead of <code>queries.entityDelete</code></li><li>The generated <code>queries.entityDeletePermanent</code> is removed, and instead <code>queries.entityDelete</code> will always permanently delete a record, even if it was soft deleted.</li></ul></li><li><strong>eslint-plugin</strong>: add check-event-name rule <ul><li>Enabled the <code>@compas/check-event-name</code> rule in <code>@compas/full</code> ESLint config. It validates that the second argument passed to <code>eventStart</code> can be derived from the function name.</li></ul></li></ul><h3 id="v0-0-195" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.195" target="_blank" rel="noopener noreferrer">v0.0.195</a> <a class="header-anchor" href="#v0-0-195" aria-hidden="true">#</a></h3><h5 id="changes-12" tabindex="-1">Changes <a class="header-anchor" href="#changes-12" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 17.0.21 to 17.0.22 (<a href="https://github.com/compasjs/compas/pull/1667" target="_blank" rel="noopener noreferrer">#1667</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.9.1 to 7.9.2 (<a href="https://github.com/compasjs/compas/pull/1668" target="_blank" rel="noopener noreferrer">#1668</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(code-gen): ensure route path trailing slash is correctly taken over from OpenAPI import (<a href="https://github.com/compasjs/compas/pull/1669" target="_blank" rel="noopener noreferrer">#1669</a>)</li></ul><h3 id="v0-0-194" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.194" target="_blank" rel="noopener noreferrer">v0.0.194</a> <a class="header-anchor" href="#v0-0-194" aria-hidden="true">#</a></h3><h5 id="changes-13" tabindex="-1">Changes <a class="header-anchor" href="#changes-13" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.7 to 7.17.8 (<a href="https://github.com/compasjs/compas/pull/1665" target="_blank" rel="noopener noreferrer">#1665</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 38.0.4 to 38.0.6 (<a href="https://github.com/compasjs/compas/pull/1664" target="_blank" rel="noopener noreferrer">#1664</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>fix(eslint-plugin): skip blocks outside functions in enforce-event-stop</li></ul><h3 id="v0-0-193" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.193" target="_blank" rel="noopener noreferrer">v0.0.193</a> <a class="header-anchor" href="#v0-0-193" aria-hidden="true">#</a></h3><h5 id="changes-14" tabindex="-1">Changes <a class="header-anchor" href="#changes-14" aria-hidden="true">#</a></h5><ul><li>fix(eslint-plugin): don&#39;t suggest enforce-event-stop after code paths that can leave a function (<a href="https://github.com/compasjs/compas/pull/1663" target="_blank" rel="noopener noreferrer">#1663</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1662" target="_blank" rel="noopener noreferrer">#1662</a></li></ul></li></ul><h3 id="v0-0-192" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.192" target="_blank" rel="noopener noreferrer">v0.0.192</a> <a class="header-anchor" href="#v0-0-192" aria-hidden="true">#</a></h3><h5 id="changes-15" tabindex="-1">Changes <a class="header-anchor" href="#changes-15" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.5 to 7.17.7 (<a href="https://github.com/compasjs/compas/pull/1655" target="_blank" rel="noopener noreferrer">#1655</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump actions/checkout from 2 to 3 (<a href="https://github.com/compasjs/compas/pull/1639" target="_blank" rel="noopener noreferrer">#1639</a>)</li><li>build(deps): bump EndBug/add-and-commit from 8 to 9 (<a href="https://github.com/compasjs/compas/pull/1651" target="_blank" rel="noopener noreferrer">#1651</a>) <ul><li><a href="https://github.com/EndBug/add-and-commit/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.10.0 to 8.11.0 (<a href="https://github.com/compasjs/compas/pull/1649" target="_blank" rel="noopener noreferrer">#1649</a>)</li><li>build(deps): bump eslint-config-prettier from 8.4.0 to 8.5.0 (<a href="https://github.com/compasjs/compas/pull/1642" target="_blank" rel="noopener noreferrer">#1642</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 37.9.4 to 38.0.4 (<a href="https://github.com/compasjs/compas/pull/1637" target="_blank" rel="noopener noreferrer">#1637</a>, <a href="https://github.com/compasjs/compas/pull/1638" target="_blank" rel="noopener noreferrer">#1638</a>, <a href="https://github.com/compasjs/compas/pull/1643" target="_blank" rel="noopener noreferrer">#1643</a>, <a href="https://github.com/compasjs/compas/pull/1647" target="_blank" rel="noopener noreferrer">#1647</a>, <a href="https://github.com/compasjs/compas/pull/1650" target="_blank" rel="noopener noreferrer">#1650</a>, <a href="https://github.com/compasjs/compas/pull/1653" target="_blank" rel="noopener noreferrer">#1653</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump mime-types from 2.1.34 to 2.1.35 (<a href="https://github.com/compasjs/compas/pull/1648" target="_blank" rel="noopener noreferrer">#1648</a>)</li><li>build(deps): bump pino from 7.8.0 to 7.9.1 (<a href="https://github.com/compasjs/compas/pull/1645" target="_blank" rel="noopener noreferrer">#1645</a>, <a href="https://github.com/compasjs/compas/pull/1658" target="_blank" rel="noopener noreferrer">#1658</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.5.1 to 2.6.0 (<a href="https://github.com/compasjs/compas/pull/1657" target="_blank" rel="noopener noreferrer">#1657</a>)</li><li>build(deps): bump sharp from 0.30.1 to 0.30.3 (<a href="https://github.com/compasjs/compas/pull/1641" target="_blank" rel="noopener noreferrer">#1641</a>, <a href="https://github.com/compasjs/compas/pull/1654" target="_blank" rel="noopener noreferrer">#1654</a>)</li><li>chore: add LICENSE to packages (<a href="https://github.com/compasjs/compas/pull/1656" target="_blank" rel="noopener noreferrer">#1656</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1640" target="_blank" rel="noopener noreferrer">#1640</a></li></ul></li><li>example(session-handling-frontend): minor fixes from real project usage</li><li>feat(cli): add lint-config-to-eslint-plugin code-mod (<a href="https://github.com/compasjs/compas/pull/1660" target="_blank" rel="noopener noreferrer">#1660</a>)</li><li>feat(eslint-plugin): turn lint-config into working eslint-plugin (<a href="https://github.com/compasjs/compas/pull/1659" target="_blank" rel="noopener noreferrer">#1659</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1308" target="_blank" rel="noopener noreferrer">#1308</a></li></ul></li><li>fix(cli): export correct command definition type</li><li>fix(code-gen): correctly shake out unused types in dumped api structure (<a href="https://github.com/compasjs/compas/pull/1652" target="_blank" rel="noopener noreferrer">#1652</a>)</li></ul><h5 id="breaking-changes-5" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-5" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump eslint-plugin-jsdoc from 37.9.4 to 38.0.4 <ul><li>Major version bump</li></ul></li><li><strong>eslint-plugin</strong>: turn lint-config into working eslint-plugin <ul><li>Removed the @compas/lint-config package. Use <code>compas code-mod exec --name lint-config-to-eslint-plugin</code> to fix your configurations.</li><li>Added a default rule to enforce calling <code>eventStop</code> in async functions that accept <code>event</code> as their first parameter. This can be disabled via <code>rules: { &quot;@compas/enforce-event-stop&quot;: &quot;off&quot; }</code> in your eslint configuration.</li></ul></li></ul><h3 id="v0-0-191" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.191" target="_blank" rel="noopener noreferrer">v0.0.191</a> <a class="header-anchor" href="#v0-0-191" aria-hidden="true">#</a></h3><h5 id="changes-16" tabindex="-1">Changes <a class="header-anchor" href="#changes-16" aria-hidden="true">#</a></h5><ul><li>build(deps): bump eslint from 8.9.0 to 8.10.0 (<a href="https://github.com/compasjs/compas/pull/1635" target="_blank" rel="noopener noreferrer">#1635</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prismjs from 1.25.0 to 1.27.0 (<a href="https://github.com/compasjs/compas/pull/1629" target="_blank" rel="noopener noreferrer">#1629</a>) <ul><li><a href="https://github.com/PrismJS/prism/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore: add initial example and sync job for docs (<a href="https://github.com/compasjs/compas/pull/1630" target="_blank" rel="noopener noreferrer">#1630</a>)</li><li>example(session-handling-frontend): cleanup function signatures</li><li>feat(cli,stdlib,store): remove cookie and proxy support (<a href="https://github.com/compasjs/compas/pull/1634" target="_blank" rel="noopener noreferrer">#1634</a>)</li><li>feat(example): add session handling example (<a href="https://github.com/compasjs/compas/pull/1632" target="_blank" rel="noopener noreferrer">#1632</a>)</li><li>feat(example): add session handling frontend example (<a href="https://github.com/compasjs/compas/pull/1633" target="_blank" rel="noopener noreferrer">#1633</a>)</li><li>feat(store): add support for file access tokens (<a href="https://github.com/compasjs/compas/pull/1631" target="_blank" rel="noopener noreferrer">#1631</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1307" target="_blank" rel="noopener noreferrer">#1307</a></li></ul></li></ul><h5 id="breaking-changes-6" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-6" aria-hidden="true">#</a></h5><ul><li><strong>cli,stdlib,store</strong>: remove cookie and proxy support <ul><li>Remove the <code>compas proxy</code> command</li><li>Remove <code>calculateCorsUrlFromAppUrl</code> and <code>calculateCookieUrlFromAppUrl</code> from @compas/stdlib</li><li>Remove cookie support from <code>sessionTransport*</code> functions. Including the options on <code>sessionTransportOptions</code> and <code>sessionTransportAddAsCookiesToContext</code></li></ul></li></ul><h5 id="documentation-updates-1" tabindex="-1">Documentation updates <a class="header-anchor" href="#documentation-updates-1" aria-hidden="true">#</a></h5><ul><li>Improved <a href="https://compasjs.com/features/file-handling.html#securing-file-downloads" target="_blank" rel="noopener noreferrer">file-handling</a> docs, and added information about singed file urls.</li><li>Add an <a href="https://compasjs.com/examples.html" target="_blank" rel="noopener noreferrer">examples</a> page, auto updated with examples that are added to the Compas repo.</li></ul><h3 id="v0-0-190" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.190" target="_blank" rel="noopener noreferrer">v0.0.190</a> <a class="header-anchor" href="#v0-0-190" aria-hidden="true">#</a></h3><h5 id="changes-17" tabindex="-1">Changes <a class="header-anchor" href="#changes-17" aria-hidden="true">#</a></h5><ul><li>fix(store): localhost cookies should work now</li></ul><h3 id="v0-0-189" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.189" target="_blank" rel="noopener noreferrer">v0.0.189</a> <a class="header-anchor" href="#v0-0-189" aria-hidden="true">#</a></h3><h5 id="changes-18" tabindex="-1">Changes <a class="header-anchor" href="#changes-18" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 17.0.19 to 17.0.21 (<a href="https://github.com/compasjs/compas/pull/1627" target="_blank" rel="noopener noreferrer">#1627</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump actions/setup-node from 2 to 3.0.0 (<a href="https://github.com/compasjs/compas/pull/1628" target="_blank" rel="noopener noreferrer">#1628</a>) <ul><li><a href="https://github.com/actions/setup-node/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>fix(store): set cookie on origin &#39;host&#39; instead of &#39;hostname&#39; in the session-transport</li></ul><h3 id="v0-0-188" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.188" target="_blank" rel="noopener noreferrer">v0.0.188</a> <a class="header-anchor" href="#v0-0-188" aria-hidden="true">#</a></h3><h5 id="changes-19" tabindex="-1">Changes <a class="header-anchor" href="#changes-19" aria-hidden="true">#</a></h5><ul><li>fix(store): correctly handle generated array columns in update helper</li></ul><h3 id="v0-0-187" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.187" target="_blank" rel="noopener noreferrer">v0.0.187</a> <a class="header-anchor" href="#v0-0-187" aria-hidden="true">#</a></h3><h5 id="changes-20" tabindex="-1">Changes <a class="header-anchor" href="#changes-20" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 17.0.18 to 17.0.19 (<a href="https://github.com/compasjs/compas/pull/1624" target="_blank" rel="noopener noreferrer">#1624</a>)</li><li>build(deps): bump eslint-config-prettier from 8.3.0 to 8.4.0 (<a href="https://github.com/compasjs/compas/pull/1622" target="_blank" rel="noopener noreferrer">#1622</a>)</li><li>chore(ci): add permissions to CodeQL job</li><li>chore(docs): remove last updated from pages (<a href="https://github.com/compasjs/compas/pull/1620" target="_blank" rel="noopener noreferrer">#1620</a>)</li><li>docs(migrate): move docs to the migrate command and reference it (<a href="https://github.com/compasjs/compas/pull/1621" target="_blank" rel="noopener noreferrer">#1621</a>)</li><li>fix(code-gen): handle &#39;undefined&#39; keys and update objects coming from the validators correctly (<a href="https://github.com/compasjs/compas/pull/1626" target="_blank" rel="noopener noreferrer">#1626</a>)</li></ul><h3 id="v0-0-186" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.186" target="_blank" rel="noopener noreferrer">v0.0.186</a> <a class="header-anchor" href="#v0-0-186" aria-hidden="true">#</a></h3><h5 id="changes-21" tabindex="-1">Changes <a class="header-anchor" href="#changes-21" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.2 to 7.17.5 (<a href="https://github.com/compasjs/compas/pull/1612" target="_blank" rel="noopener noreferrer">#1612</a>, <a href="https://github.com/compasjs/compas/pull/1615" target="_blank" rel="noopener noreferrer">#1615</a>)</li><li>build(deps): bump @types/node from 17.0.16 to 17.0.18 (<a href="https://github.com/compasjs/compas/pull/1598" target="_blank" rel="noopener noreferrer">#1598</a>, <a href="https://github.com/compasjs/compas/pull/1609" target="_blank" rel="noopener noreferrer">#1609</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.8.0 to 8.9.0 (<a href="https://github.com/compasjs/compas/pull/1605" target="_blank" rel="noopener noreferrer">#1605</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 37.8.0 to 37.9.4 (<a href="https://github.com/compasjs/compas/pull/1596" target="_blank" rel="noopener noreferrer">#1596</a>, <a href="https://github.com/compasjs/compas/pull/1607" target="_blank" rel="noopener noreferrer">#1607</a>, <a href="https://github.com/compasjs/compas/pull/1613" target="_blank" rel="noopener noreferrer">#1613</a>, <a href="https://github.com/compasjs/compas/pull/1614" target="_blank" rel="noopener noreferrer">#1614</a>, <a href="https://github.com/compasjs/compas/pull/1617" target="_blank" rel="noopener noreferrer">#1617</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump follow-redirects from 1.14.7 to 1.14.8 (<a href="https://github.com/compasjs/compas/pull/1603" target="_blank" rel="noopener noreferrer">#1603</a>) <ul><li><a href="https://github.com/follow-redirects/follow-redirects/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.6.5 to 7.8.0 (<a href="https://github.com/compasjs/compas/pull/1611" target="_blank" rel="noopener noreferrer">#1611</a>)</li><li>build(deps): bump sharp from 0.30.0 to 0.30.1 (<a href="https://github.com/compasjs/compas/pull/1597" target="_blank" rel="noopener noreferrer">#1597</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(types): remove a bunch of file global type imports (<a href="https://github.com/compasjs/compas/pull/1618" target="_blank" rel="noopener noreferrer">#1618</a>)</li><li>feat(code-gen): support atomic updates and dynamic return types in generated update queries (<a href="https://github.com/compasjs/compas/pull/1601" target="_blank" rel="noopener noreferrer">#1601</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/383" target="_blank" rel="noopener noreferrer">#383</a></li></ul></li><li>fix(cli): make sure that <code>--serial</code> runs tests without worker threads (<a href="https://github.com/compasjs/compas/pull/1599" target="_blank" rel="noopener noreferrer">#1599</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1586" target="_blank" rel="noopener noreferrer">#1586</a></li></ul></li><li>test(code-gen): jsonb null insert behavior (<a href="https://github.com/compasjs/compas/pull/1602" target="_blank" rel="noopener noreferrer">#1602</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1600" target="_blank" rel="noopener noreferrer">#1600</a></li></ul></li></ul><h5 id="breaking-changes-7" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-7" aria-hidden="true">#</a></h5><ul><li><strong>code-gen</strong>: support atomic updates and dynamic return types in generated update queries <ul><li>Various keys starting with <code>$</code> are recursively reserved in <code>T.object()</code> types with <code>.enableQueries()</code>.</li><li>Updated signature for <code>queries.entityUpdate</code>. Providing better intent and less prone to bugs by naming the keys. See <code>compas code-mod list</code> for the <code>update-queries-signature-change</code> code-mod which can automatically fix most cases. Note that it may add some extra whitespace, this needs to be cleaned up manually.</li><li><code>queries.entityUpdate</code> by default does not return any values anymore. See the <a href="https://compasjs.com/features/code-gen-sql.html#crud" target="_blank" rel="noopener noreferrer">docs</a> for more information.</li><li>Removed <code>xxxUpdateSet</code> functions from the generator output.</li><li>Stricter checks on update queries if both <code>where</code> and <code>update</code> are specified</li></ul></li></ul><h5 id="documentation-updates-2" tabindex="-1">Documentation updates <a class="header-anchor" href="#documentation-updates-2" aria-hidden="true">#</a></h5><ul><li>Added more docs to <a href="https://compasjs.com/features/code-gen-sql.html" target="_blank" rel="noopener noreferrer">Code generator SQL</a> with examples for where-clauses, atomic updates and docs about relations.</li></ul><h3 id="v0-0-185" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.185" target="_blank" rel="noopener noreferrer">v0.0.185</a> <a class="header-anchor" href="#v0-0-185" aria-hidden="true">#</a></h3><h5 id="changes-22" tabindex="-1">Changes <a class="header-anchor" href="#changes-22" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.17.0 to 7.17.2 (<a href="https://github.com/compasjs/compas/pull/1592" target="_blank" rel="noopener noreferrer">#1592</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 17.0.14 to 17.0.16 (<a href="https://github.com/compasjs/compas/pull/1582" target="_blank" rel="noopener noreferrer">#1582</a> , <a href="https://github.com/compasjs/compas/pull/1589" target="_blank" rel="noopener noreferrer">#1589</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 37.7.1 to 37.8.0 (<a href="https://github.com/compasjs/compas/pull/1590" target="_blank" rel="noopener noreferrer">#1590</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(dependabot): add default reviewer (<a href="https://github.com/compasjs/compas/pull/1583" target="_blank" rel="noopener noreferrer">#1583</a>)</li><li>feat(cli): add <code>compas watch [..sub-commands]</code> and <code>--watch</code> (<a href="https://github.com/compasjs/compas/pull/1587" target="_blank" rel="noopener noreferrer">#1587</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1509" target="_blank" rel="noopener noreferrer">#1509</a></li></ul></li><li>feat(code-gen): support for reference types in query and params in openApi exporter (<a href="https://github.com/compasjs/compas/pull/1580" target="_blank" rel="noopener noreferrer">#1580</a>)</li><li>feat(lint-config): disable labels and optional function parameters should be last (<a href="https://github.com/compasjs/compas/pull/1584" target="_blank" rel="noopener noreferrer">#1584</a>)</li><li>fix(cli): add completions for all commands under &#39;help&#39; (<a href="https://github.com/compasjs/compas/pull/1585" target="_blank" rel="noopener noreferrer">#1585</a>)</li><li>fix(cli): remove error log if command directory is not found (<a href="https://github.com/compasjs/compas/pull/1593" target="_blank" rel="noopener noreferrer">#1593</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1591" target="_blank" rel="noopener noreferrer">#1591</a></li></ul></li><li>fix(test): catch errors from global setup and teardown (<a href="https://github.com/compasjs/compas/pull/1594" target="_blank" rel="noopener noreferrer">#1594</a>)</li></ul><h5 id="breaking-changes-8" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-8" aria-hidden="true">#</a></h5><ul><li><strong>lint-config</strong>: disable labels and optional functionn parameters last</li><li><strong>store</strong>: disable labels and optional functionn parameters last <ul><li>Changed parameter order of <code>createTestPostgresDatabase</code>, and nested <code>verboseSql</code> in to an object.</li></ul></li></ul><h5 id="documentation-updates-3" tabindex="-1">Documentation updates <a class="header-anchor" href="#documentation-updates-3" aria-hidden="true">#</a></h5><ul><li>New reference documentation for <a href="https://compasjs.com/references/compas-config.html" target="_blank" rel="noopener noreferrer">Compas configuration</a>.</li><li><a href="https://compasjs.com/references/cli.html#compas-watch" target="_blank" rel="noopener noreferrer"><code>compas watch</code></a> is added to the CLI reference.</li></ul><h3 id="v0-0-184" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.184" target="_blank" rel="noopener noreferrer">v0.0.184</a> <a class="header-anchor" href="#v0-0-184" aria-hidden="true">#</a></h3><h5 id="changes-23" tabindex="-1">Changes <a class="header-anchor" href="#changes-23" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.16.10 to 7.17.0 (<a href="https://github.com/compasjs/compas/pull/1550" target="_blank" rel="noopener noreferrer">#1550</a>, <a href="https://github.com/compasjs/compas/pull/1569" target="_blank" rel="noopener noreferrer">#1569</a>)</li><li>build(deps): bump @babel/eslint-parser from 7.16.5 to 7.17.0 (<a href="https://github.com/compasjs/compas/pull/1571" target="_blank" rel="noopener noreferrer">#1571</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/formidable from 2.0.3 to 2.0.4 (<a href="https://github.com/compasjs/compas/pull/1560" target="_blank" rel="noopener noreferrer">#1560</a>)</li><li>build(deps): bump @types/minio from 7.0.11 to 7.0.12 (<a href="https://github.com/compasjs/compas/pull/1558" target="_blank" rel="noopener noreferrer">#1558</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 17.0.10 to 17.0.14 (<a href="https://github.com/compasjs/compas/pull/1554" target="_blank" rel="noopener noreferrer">#1554</a>, <a href="https://github.com/compasjs/compas/pull/1559" target="_blank" rel="noopener noreferrer">#1559</a>, <a href="https://github.com/compasjs/compas/pull/1567" target="_blank" rel="noopener noreferrer">#1567</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump dotenv from 14.2.0 to 16.0.0 (<a href="https://github.com/compasjs/compas/pull/1552" target="_blank" rel="noopener noreferrer">#1552</a>, <a href="https://github.com/compasjs/compas/pull/1556" target="_blank" rel="noopener noreferrer">#1556</a>, <a href="https://github.com/compasjs/compas/pull/1566" target="_blank" rel="noopener noreferrer">#1566</a>, <a href="https://github.com/compasjs/compas/pull/1570" target="_blank" rel="noopener noreferrer">#1570</a>) <ul><li><a href="https://github.com/motdotla/dotenv/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.7.0 to 8.8.0 (<a href="https://github.com/compasjs/compas/pull/1564" target="_blank" rel="noopener noreferrer">#1564</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 37.6.3 to 37.7.1 (<a href="https://github.com/compasjs/compas/pull/1557" target="_blank" rel="noopener noreferrer">#1557</a>, <a href="https://github.com/compasjs/compas/pull/1576" target="_blank" rel="noopener noreferrer">#1576</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.6.4 to 7.6.5 (<a href="https://github.com/compasjs/compas/pull/1565" target="_blank" rel="noopener noreferrer">#1565</a>)</li><li>build(deps): bump sharp from 0.29.3 to 0.30.0 (<a href="https://github.com/compasjs/compas/pull/1568" target="_blank" rel="noopener noreferrer">#1568</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump simple-get from 4.0.0 to 4.0.1 (<a href="https://github.com/compasjs/compas/pull/1561" target="_blank" rel="noopener noreferrer">#1561</a>) <ul><li><a href="https://github.com/feross/simple-get/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(cli): improve lint performance (<a href="https://github.com/compasjs/compas/pull/1579" target="_blank" rel="noopener noreferrer">#1579</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1578" target="_blank" rel="noopener noreferrer">#1578</a></li></ul></li><li>feat(code-gen): print docs consistently (<a href="https://github.com/compasjs/compas/pull/1563" target="_blank" rel="noopener noreferrer">#1563</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1562" target="_blank" rel="noopener noreferrer">#1562</a></li></ul></li><li>fix(cli): add &#39;--lint-config&#39; to &#39;--all&#39;</li><li>fix(cli): migrate keep-alive should use connection-settings (<a href="https://github.com/compasjs/compas/pull/1574" target="_blank" rel="noopener noreferrer">#1574</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1572" target="_blank" rel="noopener noreferrer">#1572</a></li></ul></li><li>fix(server): update docs on &#39;disableHeaders&#39; <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1555" target="_blank" rel="noopener noreferrer">#1555</a></li></ul></li><li>test(store): fix flaky session-store tests (<a href="https://github.com/compasjs/compas/pull/1573" target="_blank" rel="noopener noreferrer">#1573</a>)</li></ul><h5 id="breaking-changes-9" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-9" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump dotenv from 14.2.0 to 16.0.0 <ul><li>Major version bump</li></ul></li><li><strong>deps</strong>: bump sharp from 0.29.3 to 0.30.0 <ul><li>Major version bump</li></ul></li><li><strong>cli</strong>: improve lint performance <ul><li><code>node_modules</code> are not automatically ignored by ESLint, but should be added to your <code>.eslintignore</code></li><li>The default <code>.eslintignore</code> has been changed to ignore files in <code>generated</code> directories. Run <code>compas init --lint-config</code> to update the file.</li></ul></li></ul><h3 id="v0-0-183" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.183" target="_blank" rel="noopener noreferrer">v0.0.183</a> <a class="header-anchor" href="#v0-0-183" aria-hidden="true">#</a></h3><h5 id="changes-24" tabindex="-1">Changes <a class="header-anchor" href="#changes-24" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.16.7 to 7.16.10 (<a href="https://github.com/compasjs/compas/pull/1538" target="_blank" rel="noopener noreferrer">#1538</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 17.0.9 to 17.0.10 (<a href="https://github.com/compasjs/compas/pull/1537" target="_blank" rel="noopener noreferrer">#1537</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 37.6.1 to 37.6.3 (<a href="https://github.com/compasjs/compas/pull/1542" target="_blank" rel="noopener noreferrer">#1542</a>, <a href="https://github.com/compasjs/compas/pull/1546" target="_blank" rel="noopener noreferrer">#1546</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump nanoid from 3.1.30 to 3.2.0 (<a href="https://github.com/compasjs/compas/pull/1544" target="_blank" rel="noopener noreferrer">#1544</a>) <ul><li><a href="https://github.com/ai/nanoid/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.6.3 to 7.6.4 (<a href="https://github.com/compasjs/compas/pull/1541" target="_blank" rel="noopener noreferrer">#1541</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(cli): add <code>compas completions</code> (<a href="https://github.com/compasjs/compas/pull/1526" target="_blank" rel="noopener noreferrer">#1526</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1508" target="_blank" rel="noopener noreferrer">#1508</a></li></ul></li><li>feat(code-gen): generate errors on too much inserts (<a href="https://github.com/compasjs/compas/pull/1547" target="_blank" rel="noopener noreferrer">#1547</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1543" target="_blank" rel="noopener noreferrer">#1543</a></li></ul></li><li>feat(lint-config): add preferredTypes for primitives, objects and records (<a href="https://github.com/compasjs/compas/pull/1548" target="_blank" rel="noopener noreferrer">#1548</a>)</li><li>feat(stdlib): add <code>setGlobalLoggerOptions</code> and <code>extendGlobalLoggerContext</code> (<a href="https://github.com/compasjs/compas/pull/1549" target="_blank" rel="noopener noreferrer">#1549</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1539" target="_blank" rel="noopener noreferrer">#1539</a></li></ul></li></ul><h5 id="breaking-changes-10" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-10" aria-hidden="true">#</a></h5><ul><li><strong>lint-config</strong>: add preferredTypes for primitives, objects and records <ul><li>Linter prefers <code>object</code> over <code>Object</code>, <code>boolean</code> over <code>Boolean</code>, <code>Record&lt;string,number&gt;[]</code> over <code>Array&lt;Object&lt;string, number&gt;&gt;</code> etc. The linter will try to autofix this, but may require multiple runs.</li></ul></li><li><strong>stdlib</strong>: add <code>setGlobalLoggerOptions</code> and &#39;extendGlobalLoggerContext&#39; <ul><li>Removed support for <code>pinoOption</code> via <code>newLogger</code>. Pass these to <code>setGlobalLoggerOptions</code> as <code>pinoTransport</code> and <code>pinoDestination</code>.</li></ul></li></ul><h3 id="v0-0-182" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.182" target="_blank" rel="noopener noreferrer">v0.0.182</a> <a class="header-anchor" href="#v0-0-182" aria-hidden="true">#</a></h3><h5 id="changes-25" tabindex="-1">Changes <a class="header-anchor" href="#changes-25" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 17.0.8 to 17.0.9 (<a href="https://github.com/compasjs/compas/pull/1532" target="_blank" rel="noopener noreferrer">#1532</a>)</li><li>build(deps): bump dotenv from 10.0.0 to 14.2.0 (<a href="https://github.com/compasjs/compas/pull/1514" target="_blank" rel="noopener noreferrer">#1514</a>, <a href="https://github.com/compasjs/compas/pull/1527" target="_blank" rel="noopener noreferrer">#1527</a>, <a href="https://github.com/compasjs/compas/pull/1533" target="_blank" rel="noopener noreferrer">#1533</a>) <ul><li><a href="https://github.com/motdotla/dotenv/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.6.0 to 8.7.0 (<a href="https://github.com/compasjs/compas/pull/1529" target="_blank" rel="noopener noreferrer">#1529</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump follow-redirects from 1.14.6 to 1.14.7 (<a href="https://github.com/compasjs/compas/pull/1521" target="_blank" rel="noopener noreferrer">#1521</a>) <ul><li><a href="https://github.com/follow-redirects/follow-redirects/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump is-animated from 2.0.1 to 2.0.2 (<a href="https://github.com/compasjs/compas/pull/1522" target="_blank" rel="noopener noreferrer">#1522</a>) <ul><li><a href="https://github.com/qzb/is-animated/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump minio from 7.0.25 to 7.0.26 (<a href="https://github.com/compasjs/compas/pull/1519" target="_blank" rel="noopener noreferrer">#1519</a>) <ul><li><a href="https://github.com/minio/minio-js/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.6.2 to 7.6.3 (<a href="https://github.com/compasjs/compas/pull/1513" target="_blank" rel="noopener noreferrer">#1513</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>docs(route-invalidation): add route-invalidation documentation (<a href="https://github.com/compasjs/compas/pull/1531" target="_blank" rel="noopener noreferrer">#1531</a>)</li><li>feat(cli): add <code>--gitignore</code> and <code>--all</code> support to <code>compas init</code> (<a href="https://github.com/compasjs/compas/pull/1530" target="_blank" rel="noopener noreferrer">#1530</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1525" target="_blank" rel="noopener noreferrer">#1525</a></li></ul></li><li>feat(cli): add informational logs to lint output (<a href="https://github.com/compasjs/compas/pull/1524" target="_blank" rel="noopener noreferrer">#1524</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1516" target="_blank" rel="noopener noreferrer">#1516</a></li></ul></li><li>feat(code-gen): openApi generator more strict and extend (<a href="https://github.com/compasjs/compas/pull/1523" target="_blank" rel="noopener noreferrer">#1523</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1520" target="_blank" rel="noopener noreferrer">#1520</a></li></ul></li><li>feat(code-gen): support route invalidations (<a href="https://github.com/compasjs/compas/pull/1515" target="_blank" rel="noopener noreferrer">#1515</a>, <a href="https://github.com/compasjs/compas/pull/1534" target="_blank" rel="noopener noreferrer">#1534</a>)</li></ul><h5 id="breaking-changes-11" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-11" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump dotenv from 10.0.0 to 14.2.0 <ul><li>Major version bump</li></ul></li><li><strong>code-gen</strong>: openApi generator more strict and extend <ul><li><code>app.generateOpenApi</code> accepts <code>openApiExtensions</code> and <code>routeExtensions</code> instead of <code>openApiOptions</code></li></ul></li></ul><h3 id="v0-0-181" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.181" target="_blank" rel="noopener noreferrer">v0.0.181</a> <a class="header-anchor" href="#v0-0-181" aria-hidden="true">#</a></h3><h5 id="changes-26" tabindex="-1">Changes <a class="header-anchor" href="#changes-26" aria-hidden="true">#</a></h5><ul><li>build(deps): bump eslint-plugin-jsdoc from 37.5.1 to 37.6.1 (<a href="https://github.com/compasjs/compas/pull/1511" target="_blank" rel="noopener noreferrer">#1511</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(create-release): fix cliDefinition</li><li>feat(cli): use ESLint cache, default enable JSDoc rules for <code>compas lint</code> (<a href="https://github.com/compasjs/compas/pull/1510" target="_blank" rel="noopener noreferrer">#1510</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1429" target="_blank" rel="noopener noreferrer">#1429</a></li></ul></li><li>fix(cli): catch import errors when loading project level commands (<a href="https://github.com/compasjs/compas/pull/1512" target="_blank" rel="noopener noreferrer">#1512</a>)</li></ul><h5 id="breaking-changes-12" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-12" aria-hidden="true">#</a></h5><ul><li><strong>cli</strong>: use ESLint cache, default enable JSDoc rules for <code>compas lint</code><ul><li>JSDoc related ESLint rules are enabled by default locally now, they were already enabled on <code>CI=true</code> (which is set by most CI platforms).</li><li>Add <code>.cache</code> to your <code>.gitignore</code>. Or specify another ESLint cache directory via <code>--eslint-cache-location</code>.</li></ul></li></ul><h3 id="v0-0-180" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.180" target="_blank" rel="noopener noreferrer">v0.0.180</a> <a class="header-anchor" href="#v0-0-180" aria-hidden="true">#</a></h3><h5 id="changes-27" tabindex="-1">Changes <a class="header-anchor" href="#changes-27" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.16.0 to 7.16.7 (<a href="https://github.com/compasjs/compas/pull/1418" target="_blank" rel="noopener noreferrer">#1418</a> , <a href="https://github.com/compasjs/compas/pull/1482" target="_blank" rel="noopener noreferrer">#1482</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @babel/eslint-parser from 7.16.3 to 7.16.5 (<a href="https://github.com/compasjs/compas/pull/1417" target="_blank" rel="noopener noreferrer">#1417</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/formidable from 2.0.0 to 2.0.3 (<a href="https://github.com/compasjs/compas/pull/1455" target="_blank" rel="noopener noreferrer">#1455</a> , <a href="https://github.com/compasjs/compas/pull/1475" target="_blank" rel="noopener noreferrer">#1475</a>, <a href="https://github.com/compasjs/compas/pull/1494" target="_blank" rel="noopener noreferrer">#1494</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.11.12 to 17.0.8 (<a href="https://github.com/compasjs/compas/pull/1427" target="_blank" rel="noopener noreferrer">#1427</a> , <a href="https://github.com/compasjs/compas/pull/1430" target="_blank" rel="noopener noreferrer">#1430</a>, <a href="https://github.com/compasjs/compas/pull/1445" target="_blank" rel="noopener noreferrer">#1445</a> , <a href="https://github.com/compasjs/compas/pull/1447" target="_blank" rel="noopener noreferrer">#1447</a>, <a href="https://github.com/compasjs/compas/pull/1450" target="_blank" rel="noopener noreferrer">#1450</a> , <a href="https://github.com/compasjs/compas/pull/1454" target="_blank" rel="noopener noreferrer">#1454</a>, <a href="https://github.com/compasjs/compas/pull/1458" target="_blank" rel="noopener noreferrer">#1458</a> , <a href="https://github.com/compasjs/compas/pull/1495" target="_blank" rel="noopener noreferrer">#1495</a>, <a href="https://github.com/compasjs/compas/pull/1496" target="_blank" rel="noopener noreferrer">#1496</a> , <a href="https://github.com/compasjs/compas/pull/1498" target="_blank" rel="noopener noreferrer">#1498</a>)</li><li>build(deps): bump c8 from 7.10.0 to 7.11.0 (<a href="https://github.com/compasjs/compas/pull/1481" target="_blank" rel="noopener noreferrer">#1481</a>) <ul><li><a href="https://github.com/bcoe/c8/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump crc from 3.8.0 to 4.1.0 (<a href="https://github.com/compasjs/compas/pull/1449" target="_blank" rel="noopener noreferrer">#1449</a> , <a href="https://github.com/compasjs/compas/pull/1491" target="_blank" rel="noopener noreferrer">#1491</a>) <ul><li><a href="https://github.com/alexgorbatchev/node-crc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.4.1 to 8.6.0 (<a href="https://github.com/compasjs/compas/pull/1439" target="_blank" rel="noopener noreferrer">#1439</a> , <a href="https://github.com/compasjs/compas/pull/1492" target="_blank" rel="noopener noreferrer">#1492</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-import from 2.25.3 to 2.25.4 (<a href="https://github.com/compasjs/compas/pull/1493" target="_blank" rel="noopener noreferrer">#1493</a>) <ul><li><a href="https://github.com/import-js/eslint-plugin-import/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 37.2.0 to 37.5.1 (<a href="https://github.com/compasjs/compas/pull/1423" target="_blank" rel="noopener noreferrer">#1423</a> , <a href="https://github.com/compasjs/compas/pull/1431" target="_blank" rel="noopener noreferrer">#1431</a>, <a href="https://github.com/compasjs/compas/pull/1440" target="_blank" rel="noopener noreferrer">#1440</a> , <a href="https://github.com/compasjs/compas/pull/1444" target="_blank" rel="noopener noreferrer">#1444</a>, <a href="https://github.com/compasjs/compas/pull/1446" target="_blank" rel="noopener noreferrer">#1446</a> , <a href="https://github.com/compasjs/compas/pull/1487" target="_blank" rel="noopener noreferrer">#1487</a>, <a href="https://github.com/compasjs/compas/pull/1497" target="_blank" rel="noopener noreferrer">#1497</a>)</li><li>build(deps): bump file-type from 17.0.0 to 17.1.1 (<a href="https://github.com/compasjs/compas/pull/1425" target="_blank" rel="noopener noreferrer">#1425</a> , <a href="https://github.com/compasjs/compas/pull/1436" target="_blank" rel="noopener noreferrer">#1436</a>, <a href="https://github.com/compasjs/compas/pull/1471" target="_blank" rel="noopener noreferrer">#1471</a>)</li><li>build(deps): bump pino from 7.5.1 to 7.6.2 (<a href="https://github.com/compasjs/compas/pull/1448" target="_blank" rel="noopener noreferrer">#1448</a> , <a href="https://github.com/compasjs/compas/pull/1452" target="_blank" rel="noopener noreferrer">#1452</a>, <a href="https://github.com/compasjs/compas/pull/1470" target="_blank" rel="noopener noreferrer">#1470</a>)</li><li>chore(code-gen,store): let sql generator tests use e2e infra (<a href="https://github.com/compasjs/compas/pull/1505" target="_blank" rel="noopener noreferrer">#1505</a>)</li><li>chore(code-gen): let benchmarks use e2e infra for code-gen (<a href="https://github.com/compasjs/compas/pull/1502" target="_blank" rel="noopener noreferrer">#1502</a>)</li><li>chore(code-gen): let server, client and open api generator tests use e2e infra for code-gen (<a href="https://github.com/compasjs/compas/pull/1504" target="_blank" rel="noopener noreferrer">#1504</a>)</li><li>chore(code-gen): move validator tests to e2e tests (<a href="https://github.com/compasjs/compas/pull/1501" target="_blank" rel="noopener noreferrer">#1501</a>)</li><li>chore(docs): remove api reference generator (<a href="https://github.com/compasjs/compas/pull/1480" target="_blank" rel="noopener noreferrer">#1480</a>)</li><li>docs(features): add extending the cli docs</li><li>docs(releases): start with 0.0.180 release notes</li><li>feat(cli): refactor CLI (<a href="https://github.com/compasjs/compas/pull/1456" target="_blank" rel="noopener noreferrer">#1456</a>, <a href="https://github.com/compasjs/compas/pull/1459" target="_blank" rel="noopener noreferrer">#1459</a>, <a href="https://github.com/compasjs/compas/pull/1460" target="_blank" rel="noopener noreferrer">#1460</a>, <a href="https://github.com/compasjs/compas/pull/1467" target="_blank" rel="noopener noreferrer">#1467</a>, <a href="https://github.com/compasjs/compas/pull/1468" target="_blank" rel="noopener noreferrer">#1468</a>, <a href="https://github.com/compasjs/compas/pull/1469" target="_blank" rel="noopener noreferrer">#1469</a>, <a href="https://github.com/compasjs/compas/pull/1474" target="_blank" rel="noopener noreferrer">#1474</a>, <a href="https://github.com/compasjs/compas/pull/1476" target="_blank" rel="noopener noreferrer">#1476</a>, <a href="https://github.com/compasjs/compas/pull/1477" target="_blank" rel="noopener noreferrer">#1477</a>, <a href="https://github.com/compasjs/compas/pull/1479" target="_blank" rel="noopener noreferrer">#1479</a>, <a href="https://github.com/compasjs/compas/pull/1484" target="_blank" rel="noopener noreferrer">#1484</a>) <a href="https://github.com/compasjs/compas/pull/1485" target="_blank" rel="noopener noreferrer">#1485</a>) <a href="https://github.com/compasjs/compas/pull/1486" target="_blank" rel="noopener noreferrer">#1486</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1306" target="_blank" rel="noopener noreferrer">#1306</a></li></ul></li><li>feat(cli): add &#39;--lint-config&#39; to compas init (<a href="https://github.com/compasjs/compas/pull/1490" target="_blank" rel="noopener noreferrer">#1490</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1478" target="_blank" rel="noopener noreferrer">#1478</a></li></ul></li><li>feat(cli): add &#39;compas check-env&#39; command (<a href="https://github.com/compasjs/compas/pull/1483" target="_blank" rel="noopener noreferrer">#1483</a>)</li><li>feat(code-gen,store): migrate query builder to generator helper (<a href="https://github.com/compasjs/compas/pull/1499" target="_blank" rel="noopener noreferrer">#1499</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1465" target="_blank" rel="noopener noreferrer">#1465</a></li></ul></li><li>feat(code-gen): add check to unique relation references (<a href="https://github.com/compasjs/compas/pull/1442" target="_blank" rel="noopener noreferrer">#1442</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1437" target="_blank" rel="noopener noreferrer">#1437</a></li></ul></li><li>feat(code-gen): make reactQuery generator compatible with react-query@v4 (<a href="https://github.com/compasjs/compas/pull/1435" target="_blank" rel="noopener noreferrer">#1435</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1422" target="_blank" rel="noopener noreferrer">#1422</a></li></ul></li><li>feat(code-gen): support date / time only types (<a href="https://github.com/compasjs/compas/pull/1500" target="_blank" rel="noopener noreferrer">#1500</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1421" target="_blank" rel="noopener noreferrer">#1421</a></li></ul></li><li>feat(code-gen): use primary key type in query-result union types (<a href="https://github.com/compasjs/compas/pull/1506" target="_blank" rel="noopener noreferrer">#1506</a>)</li><li>feat(docs): add CLI reference to the docs (<a href="https://github.com/compasjs/compas/pull/1489" target="_blank" rel="noopener noreferrer">#1489</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1462" target="_blank" rel="noopener noreferrer">#1462</a></li></ul></li><li>feat(server): add options to log middleware to log event name, query and param objects (<a href="https://github.com/compasjs/compas/pull/1488" target="_blank" rel="noopener noreferrer">#1488</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1463" target="_blank" rel="noopener noreferrer">#1463</a></li></ul></li><li>fix(store): sendTransformedImage requires width higher than zero (<a href="https://github.com/compasjs/compas/pull/1434" target="_blank" rel="noopener noreferrer">#1434</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1428" target="_blank" rel="noopener noreferrer">#1428</a></li></ul></li><li>fix(store): short circuit image transformer on empty files (<a href="https://github.com/compasjs/compas/pull/1420" target="_blank" rel="noopener noreferrer">#1420</a>)</li></ul><h5 id="breaking-changes-13" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-13" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump @types/node from 16.11.12 to 17.0.8 <ul><li>Major version bump</li></ul></li><li><strong>deps</strong>: bump crc from 3.8.0 to 4.1.0 <ul><li>Major version bump</li></ul></li><li><strong>cli</strong>: promote new cli to be used <ul><li>See the release notes for more information</li></ul></li><li><strong>code-gen,store</strong>: migrate query builder to generator helper <ul><li><code>queryXxx().execRaw</code> has some output differences, verify your usages.</li></ul></li><li><strong>code-gen</strong>: make reactQuery generator compatible with react-query@v4 <ul><li>The <code>useFooBar.baseKey()</code> functions now returns an array, and is spread when used in <code>useFooBar.queryKey()</code></li></ul></li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.180.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-179" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.179" target="_blank" rel="noopener noreferrer">v0.0.179</a> <a class="header-anchor" href="#v0-0-179" aria-hidden="true">#</a></h3><h5 id="changes-28" tabindex="-1">Changes <a class="header-anchor" href="#changes-28" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.11.11 to 16.11.12 (<a href="https://github.com/compasjs/compas/pull/1407" target="_blank" rel="noopener noreferrer">#1407</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.3.0 to 8.4.1 (<a href="https://github.com/compasjs/compas/pull/1400" target="_blank" rel="noopener noreferrer">#1400</a>, <a href="https://github.com/compasjs/compas/pull/1403" target="_blank" rel="noopener noreferrer">#1403</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 37.1.0 to 37.2.0 (<a href="https://github.com/compasjs/compas/pull/1410" target="_blank" rel="noopener noreferrer">#1410</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump minio from 7.0.18 to 7.0.25 (<a href="https://github.com/compasjs/compas/pull/1406" target="_blank" rel="noopener noreferrer">#1406</a>) <ul><li><a href="https://github.com/minio/minio-js/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.5.0 to 2.5.1 (<a href="https://github.com/compasjs/compas/pull/1399" target="_blank" rel="noopener noreferrer">#1399</a>) <ul><li><a href="https://github.com/prettier/prettier/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(server): remove koa-session as dependency <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1398" target="_blank" rel="noopener noreferrer">#1398</a></li></ul></li><li>feat(stdlib): add config loader (<a href="https://github.com/compasjs/compas/pull/1415" target="_blank" rel="noopener noreferrer">#1415</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1414" target="_blank" rel="noopener noreferrer">#1414</a></li></ul></li><li>feat(store): skip <code>eventStop</code> on Compas internal handled jobs (<a href="https://github.com/compasjs/compas/pull/1411" target="_blank" rel="noopener noreferrer">#1411</a>)</li><li>fix(store): fix spacing of &#39;where&#39; generator helper when working with &#39;via&#39;. (<a href="https://github.com/compasjs/compas/pull/1416" target="_blank" rel="noopener noreferrer">#1416</a>)</li></ul><h3 id="v0-0-178" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.178" target="_blank" rel="noopener noreferrer">v0.0.178</a> <a class="header-anchor" href="#v0-0-178" aria-hidden="true">#</a></h3><h5 id="changes-29" tabindex="-1">Changes <a class="header-anchor" href="#changes-29" aria-hidden="true">#</a></h5><ul><li>chore(changelog): fix matcher for subject and message</li><li>chore(ci): remove bench action from PR&#39;s</li><li>chore(cli,server,store): remove old session setup <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1281" target="_blank" rel="noopener noreferrer">#1281</a></li></ul></li><li>chore(code-gen): remove @compas/cli as a dependency</li><li>feat(code-gen,store): remove generated <code>where.exists</code> (<a href="https://github.com/compasjs/compas/pull/1396" target="_blank" rel="noopener noreferrer">#1396</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1393" target="_blank" rel="noopener noreferrer">#1393</a></li></ul></li><li>feat(code-gen,store): support viaXxx in where clause (<a href="https://github.com/compasjs/compas/pull/1395" target="_blank" rel="noopener noreferrer">#1395</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/703" target="_blank" rel="noopener noreferrer">#703</a></li></ul></li><li>feat(code-gen): remove &#39;via&#39; traversers from the query builders (<a href="https://github.com/compasjs/compas/pull/1397" target="_blank" rel="noopener noreferrer">#1397</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1394" target="_blank" rel="noopener noreferrer">#1394</a></li></ul></li><li>feat(store): infer and validate content-type support in createOrUpdateFile (<a href="https://github.com/compasjs/compas/pull/1392" target="_blank" rel="noopener noreferrer">#1392</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1352" target="_blank" rel="noopener noreferrer">#1352</a></li></ul></li></ul><h5 id="breaking-changes-14" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-14" aria-hidden="true">#</a></h5><ul><li><strong>cli,server,store</strong>: remove old session setup <ul><li>Removed both the <code>session</code> middleware and <code>newSessionStore</code>. And should be replaced with the new session-store and session-transport. See the <a href="https://compasjs.com/features/session-handling.html" target="_blank" rel="noopener noreferrer">docs</a> for more information.</li><li>Create the following migration to clean up the old table:</li></ul><div class="language-sql"><pre><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token string">&quot;session&quot;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre></div></li><li><strong>code-gen,store</strong>: remove generated <code>where.exists</code><ul><li>Removed <code>xxxExists</code> from being generated with the sql where clause generator. They can be replaced with <code>viaXxx</code> now available in the where clause generator.</li></ul></li><li><strong>code-gen</strong>: remove &#39;via&#39; traversers from the query builders <ul><li>This should be done in the new <code>where.viaXxx</code>. Giving more flexibility by combining it with <code>where.$or</code> and allowed usage in update and delete queries.</li><li>Note that the query builder functions validate their inputs, so if you have decent test coverage, your tests should be able to catch most of your usages for you.</li></ul></li></ul><h3 id="v0-0-177" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.177" target="_blank" rel="noopener noreferrer">v0.0.177</a> <a class="header-anchor" href="#v0-0-177" aria-hidden="true">#</a></h3><h5 id="changes-30" tabindex="-1">Changes <a class="header-anchor" href="#changes-30" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.11.10 to 16.11.11 (<a href="https://github.com/compasjs/compas/pull/1385" target="_blank" rel="noopener noreferrer">#1385</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 37.0.3 to 37.1.0 (<a href="https://github.com/compasjs/compas/pull/1390" target="_blank" rel="noopener noreferrer">#1390</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.4.1 to 7.5.1 (<a href="https://github.com/compasjs/compas/pull/1384" target="_blank" rel="noopener noreferrer">#1384</a>, <a href="https://github.com/compasjs/compas/pull/1388" target="_blank" rel="noopener noreferrer">#1388</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>docs(session-handling): mention default of &#39;enableCookieTransport&#39;</li><li>feat(code-gen): add <code>SessionTransportSettings</code> to <code>dumpCompasTypes</code></li><li>feat(code-gen): validate <code>defaultGroup</code> when extending with OpenAPI (<a href="https://github.com/compasjs/compas/pull/1391" target="_blank" rel="noopener noreferrer">#1391</a>)</li><li>fix(code-gen): don&#39;t report leaked sessions if the complete session is invalidated (<a href="https://github.com/compasjs/compas/pull/1387" target="_blank" rel="noopener noreferrer">#1387</a>)</li></ul><h3 id="v0-0-176" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.176" target="_blank" rel="noopener noreferrer">v0.0.176</a> <a class="header-anchor" href="#v0-0-176" aria-hidden="true">#</a></h3><h5 id="changes-31" tabindex="-1">Changes <a class="header-anchor" href="#changes-31" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.11.7 to 16.11.10 (<a href="https://github.com/compasjs/compas/pull/1362" target="_blank" rel="noopener noreferrer">#1362</a>, <a href="https://github.com/compasjs/compas/pull/1369" target="_blank" rel="noopener noreferrer">#1369</a>, <a href="https://github.com/compasjs/compas/pull/1375" target="_blank" rel="noopener noreferrer">#1375</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.2.0 to 8.3.0 (<a href="https://github.com/compasjs/compas/pull/1371" target="_blank" rel="noopener noreferrer">#1371</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.2.0 to 7.4.1 (<a href="https://github.com/compasjs/compas/pull/1363" target="_blank" rel="noopener noreferrer">#1363</a>, <a href="https://github.com/compasjs/compas/pull/1374" target="_blank" rel="noopener noreferrer">#1374</a>, <a href="https://github.com/compasjs/compas/pull/1377" target="_blank" rel="noopener noreferrer">#1377</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump postgres from 2.0.0-beta.10 to 2.0.0-beta.11 (<a href="https://github.com/compasjs/compas/pull/1358" target="_blank" rel="noopener noreferrer">#1358</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.4.1 to 2.5.0 (<a href="https://github.com/compasjs/compas/pull/1381" target="_blank" rel="noopener noreferrer">#1381</a>) <ul><li><a href="https://github.com/prettier/prettier/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(code-gen): remove unnecessary logs in react-query generator (<a href="https://github.com/compasjs/compas/pull/1364" target="_blank" rel="noopener noreferrer">#1364</a>)</li><li>feat(code-gen): rename <code>loadFromRemote</code> to <code>loadApiStructureFromRemote</code> (<a href="https://github.com/compasjs/compas/pull/1365" target="_blank" rel="noopener noreferrer">#1365</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1351" target="_blank" rel="noopener noreferrer">#1351</a></li></ul></li><li>feat(code-gen): support <code>declareGlobalTypes: false</code> as generate option for packages (<a href="https://github.com/compasjs/compas/pull/1367" target="_blank" rel="noopener noreferrer">#1367</a>)</li><li>feat(store): add session transports (<a href="https://github.com/compasjs/compas/pull/1380" target="_blank" rel="noopener noreferrer">#1380</a>)</li><li>fix(code-gen): fix types of validated files in the router (<a href="https://github.com/compasjs/compas/pull/1366" target="_blank" rel="noopener noreferrer">#1366</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1350" target="_blank" rel="noopener noreferrer">#1350</a></li></ul></li><li>fix(code-gen): openapi exporter support for multiple methods within the same path (<a href="https://github.com/compasjs/compas/pull/1361" target="_blank" rel="noopener noreferrer">#1361</a>)</li><li>fix(code-gen): pickType error typo fix (<a href="https://github.com/compasjs/compas/pull/1357" target="_blank" rel="noopener noreferrer">#1357</a>)</li></ul><h5 id="breaking-changes-15" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-15" aria-hidden="true">#</a></h5><ul><li><strong>code-gen</strong>: rename <code>loadFromRemote</code> to <code>loadApiStructureFromRemote</code></li></ul><p>Read more on session transports in the <a href="https://compasjs.com/features/session-handling.html#session-transport" target="_blank" rel="noopener noreferrer">docs</a>.</p><p>Thanks to @tjonger and @kaliumxyz for their contributions!</p><h3 id="v0-0-175" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.175" target="_blank" rel="noopener noreferrer">v0.0.175</a> <a class="header-anchor" href="#v0-0-175" aria-hidden="true">#</a></h3><h5 id="changes-32" tabindex="-1">Changes <a class="header-anchor" href="#changes-32" aria-hidden="true">#</a></h5><ul><li>feat(code-gen): replace whole structure with api subset (<a href="https://github.com/compasjs/compas/pull/1353" target="_blank" rel="noopener noreferrer">#1353</a>)</li><li>fix(code-gen): fix issue with references (and resolve references within structure) (<a href="https://github.com/compasjs/compas/pull/1355" target="_blank" rel="noopener noreferrer">#1355</a>)</li></ul><h3 id="v0-0-174" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.174" target="_blank" rel="noopener noreferrer">v0.0.174</a> <a class="header-anchor" href="#v0-0-174" aria-hidden="true">#</a></h3><h5 id="changes-33" tabindex="-1">Changes <a class="header-anchor" href="#changes-33" aria-hidden="true">#</a></h5><ul><li>build(deps): bump sharp from 0.29.2 to 0.29.3 (<a href="https://github.com/compasjs/compas/pull/1349" target="_blank" rel="noopener noreferrer">#1349</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(store): add <code>JobQueueWorker.clean()</code> method (<a href="https://github.com/compasjs/compas/pull/1347" target="_blank" rel="noopener noreferrer">#1347</a>)</li><li>feat(store): add <code>unsafeIgnoreSorting</code> as a queue worker option (<a href="https://github.com/compasjs/compas/pull/1345" target="_blank" rel="noopener noreferrer">#1345</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1344" target="_blank" rel="noopener noreferrer">#1344</a></li></ul></li><li>feat(store): add index on <code>job.updatedAt</code><ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1344" target="_blank" rel="noopener noreferrer">#1344</a></li></ul></li><li>feat(store): remove <code>averageTimeToCompletion</code> from <code>JobQueueWorker</code> (<a href="https://github.com/compasjs/compas/pull/1346" target="_blank" rel="noopener noreferrer">#1346</a>)</li></ul><h5 id="breaking-changes-16" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-16" aria-hidden="true">#</a></h5><ul><li><strong>store</strong>: add index on <code>job.updatedAt</code><ul><li>Add the following index in a sql migration:</li></ul><div class="language-sql"><pre><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token string">&quot;jobIsCompleteUpdatedAt&quot;</span> <span class="token keyword">ON</span> <span class="token string">&quot;job&quot;</span> <span class="token punctuation">(</span><span class="token string">&quot;isComplete&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;updatedAt&quot;</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;isComplete&quot;</span> <span class="token operator">IS</span> <span class="token boolean">TRUE</span><span class="token punctuation">;</span>
</code></pre></div></li><li><strong>store</strong>: remove <code>averageTimeToCompletion</code> from <code>JobQueueWorker</code></li></ul><h3 id="v0-0-173" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.173" target="_blank" rel="noopener noreferrer">v0.0.173</a> <a class="header-anchor" href="#v0-0-173" aria-hidden="true">#</a></h3><h5 id="changes-34" tabindex="-1">Changes <a class="header-anchor" href="#changes-34" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/eslint-parser from 7.16.0 to 7.16.3 (<a href="https://github.com/compasjs/compas/pull/1340" target="_blank" rel="noopener noreferrer">#1340</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.11.6 to 16.11.7 (<a href="https://github.com/compasjs/compas/pull/1339" target="_blank" rel="noopener noreferrer">#1339</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-import from 2.25.2 to 2.25.3 (<a href="https://github.com/compasjs/compas/pull/1342" target="_blank" rel="noopener noreferrer">#1342</a>) <ul><li><a href="https://github.com/import-js/eslint-plugin-import/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.1.0 to 7.2.0 (<a href="https://github.com/compasjs/compas/pull/1341" target="_blank" rel="noopener noreferrer">#1341</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(docs): add release v0.0.172 to the sidebar</li><li>fix(store): saving of transforms in <code>sendTransformedImage</code> (<a href="https://github.com/compasjs/compas/pull/1343" target="_blank" rel="noopener noreferrer">#1343</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1338" target="_blank" rel="noopener noreferrer">#1338</a></li></ul></li></ul><h3 id="v0-0-172" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.172" target="_blank" rel="noopener noreferrer">v0.0.172</a> <a class="header-anchor" href="#v0-0-172" aria-hidden="true">#</a></h3><h5 id="changes-35" tabindex="-1">Changes <a class="header-anchor" href="#changes-35" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/formidable from 1.2.4 to 2.0.0 (<a href="https://github.com/compasjs/compas/pull/1332" target="_blank" rel="noopener noreferrer">#1332</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 8.1.0 to 8.2.0 (<a href="https://github.com/compasjs/compas/pull/1331" target="_blank" rel="noopener noreferrer">#1331</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.0.5 to 7.1.0 (<a href="https://github.com/compasjs/compas/pull/1329" target="_blank" rel="noopener noreferrer">#1329</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>code-gen: replace <code>includeReferenceTypes</code> with non recursive one (<a href="https://github.com/compasjs/compas/pull/1327" target="_blank" rel="noopener noreferrer">#1327</a>)</li><li>docs(migrations): add session store to store migrations</li><li>feat(lint-config): change env from es2020 to es2021 (<a href="https://github.com/compasjs/compas/pull/1333" target="_blank" rel="noopener noreferrer">#1333</a>)</li><li>feat(stdlib): support formatting Aggregate errors (<a href="https://github.com/compasjs/compas/pull/1334" target="_blank" rel="noopener noreferrer">#1334</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1205" target="_blank" rel="noopener noreferrer">#1205</a></li></ul></li><li>feat(store): add JWT based session store support (<a href="https://github.com/compasjs/compas/pull/1302" target="_blank" rel="noopener noreferrer">#1302</a>)</li><li>fix(store): fix types of session-store functions (<a href="https://github.com/compasjs/compas/pull/1336" target="_blank" rel="noopener noreferrer">#1336</a>)</li></ul><h5 id="breaking-changes-17" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-17" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump @types/formidable from 1.2.4 to 2.0.0 <ul><li>Major version bump</li></ul></li><li><strong>stdlib</strong>: support formatting Aggregate errors <ul><li>Renamed <code>AppError#originalError</code> to <code>AppError#cause</code></li><li>Format also uses <code>cause</code> as the key when formatting <code>AppError</code> instead of <code>originalError</code></li></ul></li><li><strong>store</strong>: add JWT based session store support <ul><li>Includes a migration, see the release notes</li></ul></li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.172.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-171" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.171" target="_blank" rel="noopener noreferrer">v0.0.171</a> <a class="header-anchor" href="#v0-0-171" aria-hidden="true">#</a></h3><h5 id="changes-36" tabindex="-1">Changes <a class="header-anchor" href="#changes-36" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.15.8 to 7.16.0 (<a href="https://github.com/compasjs/compas/pull/1314" target="_blank" rel="noopener noreferrer">#1314</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @babel/eslint-parser from 7.15.8 to 7.16.0 (<a href="https://github.com/compasjs/compas/pull/1315" target="_blank" rel="noopener noreferrer">#1315</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.11.1 to 16.11.6 (<a href="https://github.com/compasjs/compas/pull/1285" target="_blank" rel="noopener noreferrer">#1285</a> , <a href="https://github.com/compasjs/compas/pull/1291" target="_blank" rel="noopener noreferrer">#1291</a>, <a href="https://github.com/compasjs/compas/pull/1299" target="_blank" rel="noopener noreferrer">#1299</a>)</li><li>build(deps): bump eslint from 8.0.1 to 8.1.0 (<a href="https://github.com/compasjs/compas/pull/1292" target="_blank" rel="noopener noreferrer">#1292</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 36.1.1 to 37.0.3 (<a href="https://github.com/compasjs/compas/pull/1290" target="_blank" rel="noopener noreferrer">#1290</a> , <a href="https://github.com/compasjs/compas/pull/1298" target="_blank" rel="noopener noreferrer">#1298</a>, <a href="https://github.com/compasjs/compas/pull/1303" target="_blank" rel="noopener noreferrer">#1303</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump formidable from 2.0.0-canary.20200504.1 to 2.0.1 (<a href="https://github.com/compasjs/compas/pull/1318" target="_blank" rel="noopener noreferrer">#1318</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1317" target="_blank" rel="noopener noreferrer">#1317</a></li></ul></li><li>build(deps): bump pino from 7.0.3 to 7.0.5 (<a href="https://github.com/compasjs/compas/pull/1297" target="_blank" rel="noopener noreferrer">#1297</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump sharp from 0.29.1 to 0.29.2 (<a href="https://github.com/compasjs/compas/pull/1284" target="_blank" rel="noopener noreferrer">#1284</a>)</li><li>chore(ci): run tests on Node.js 17 (<a href="https://github.com/compasjs/compas/pull/1295" target="_blank" rel="noopener noreferrer">#1295</a>)</li><li>chore(docs): fix Node.js version in README&#39;s</li><li>chore(docs): fix typo in command on getting started page (<a href="https://github.com/compasjs/compas/pull/1287" target="_blank" rel="noopener noreferrer">#1287</a>)</li><li>feat(code-gen): implement openApi spec exporter (<a href="https://github.com/compasjs/compas/pull/1283" target="_blank" rel="noopener noreferrer">#1283</a>)</li><li>feat(code-gen): throw error on unused group name (<a href="https://github.com/compasjs/compas/pull/1288" target="_blank" rel="noopener noreferrer">#1288</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1286" target="_blank" rel="noopener noreferrer">#1286</a></li></ul></li><li>feat(code-gen): use abort signal in api clients (<a href="https://github.com/compasjs/compas/pull/1319" target="_blank" rel="noopener noreferrer">#1319</a>)</li><li>feat(stdlib): add AppError#format support for various primitives (<a href="https://github.com/compasjs/compas/pull/1325" target="_blank" rel="noopener noreferrer">#1325</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1323" target="_blank" rel="noopener noreferrer">#1323</a></li></ul></li><li>fix(code-gen): add React import to reactQuery template (<a href="https://github.com/compasjs/compas/pull/1320" target="_blank" rel="noopener noreferrer">#1320</a>)</li><li>fix(code-gen): handle optional object values that are references (<a href="https://github.com/compasjs/compas/pull/1311" target="_blank" rel="noopener noreferrer">#1311</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1309" target="_blank" rel="noopener noreferrer">#1309</a></li></ul></li><li>fix(code-gen): throw early error on missing arguments to T.reference() (<a href="https://github.com/compasjs/compas/pull/1310" target="_blank" rel="noopener noreferrer">#1310</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1305" target="_blank" rel="noopener noreferrer">#1305</a></li></ul></li><li>fix(stdlib): fix TS error on logger destination usage</li></ul><h5 id="breaking-changes-18" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-18" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump eslint-plugin-jsdoc from 36.1.1 to 37.0.3 <ul><li>Major version bump</li></ul></li><li><strong>deps</strong>: bump formidable from 2.0.0-canary.20200504.1 to 2.0.1 <ul><li>Renamed properties on <code>ctx.validatedFiles</code>.</li><li><code>ctx.validatedFiles.xxx.path</code> -&gt; <code>ctx.validatedFiles.xxx.filepath</code></li><li><code>ctx.validatedFiles.xxx.name</code> -&gt; <code>ctx.validatedFiles.xxx.originalFilename</code></li><li><code>ctx.validatedFiles.xxx.type</code> -&gt; <code>ctx.validatedFiles.xxx.mimetype</code></li></ul></li><li><strong>code-gen</strong>: use abort signal in api clients <ul><li>Removed the <code>cancelToken</code> support that where passed via react-query options.</li><li>Generated hooks automatically pass the react-query based signal to the api client functions.</li><li>Requires react-query 3.30.0 or higher</li></ul></li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.171.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><p>Thanks to @tjonger and @bjarn for their contributions!</p><h3 id="v0-0-170" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.170" target="_blank" rel="noopener noreferrer">v0.0.170</a> <a class="header-anchor" href="#v0-0-170" aria-hidden="true">#</a></h3><h5 id="changes-37" tabindex="-1">Changes <a class="header-anchor" href="#changes-37" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/minio from 7.0.10 to 7.0.11 (<a href="https://github.com/compasjs/compas/pull/1277" target="_blank" rel="noopener noreferrer">#1277</a>)</li><li>build(deps): bump koa from 2.13.3 to 2.13.4 (<a href="https://github.com/compasjs/compas/pull/1279" target="_blank" rel="noopener noreferrer">#1279</a>) <ul><li><a href="https://github.com/koajs/koa/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump pino from 7.0.2 to 7.0.3 (<a href="https://github.com/compasjs/compas/pull/1278" target="_blank" rel="noopener noreferrer">#1278</a>) <ul><li><a href="https://github.com/pinojs/pino/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>fix(store): matcher name for iLike was incorrect in where generator</li></ul><h3 id="v0-0-169" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.169" target="_blank" rel="noopener noreferrer">v0.0.169</a> <a class="header-anchor" href="#v0-0-169" aria-hidden="true">#</a></h3><h5 id="changes-38" tabindex="-1">Changes <a class="header-anchor" href="#changes-38" aria-hidden="true">#</a></h5><ul><li>fix(store): fix interpolation after <code>where.includeNotNull</code> (<a href="https://github.com/compasjs/compas/pull/1276" target="_blank" rel="noopener noreferrer">#1276</a>)</li></ul><h3 id="v0-0-168" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.168" target="_blank" rel="noopener noreferrer">v0.0.168</a> <a class="header-anchor" href="#v0-0-168" aria-hidden="true">#</a></h3><h5 id="changes-39" tabindex="-1">Changes <a class="header-anchor" href="#changes-39" aria-hidden="true">#</a></h5><ul><li>bench(stdlib): add better logger benchmarks</li><li>build(deps): bump @babel/core from 7.15.5 to 7.15.8 (<a href="https://github.com/compasjs/compas/pull/1249" target="_blank" rel="noopener noreferrer">#1249</a>)</li><li>build(deps): bump @babel/eslint-parser from 7.15.7 to 7.15.8 (<a href="https://github.com/compasjs/compas/pull/1250" target="_blank" rel="noopener noreferrer">#1250</a>)</li><li>build(deps): bump @types/node from 16.10.2 to 16.11.1 (<a href="https://github.com/compasjs/compas/pull/1245" target="_blank" rel="noopener noreferrer">#1245</a>, <a href="https://github.com/compasjs/compas/pull/1262" target="_blank" rel="noopener noreferrer">#1262</a>, <a href="https://github.com/compasjs/compas/pull/1266" target="_blank" rel="noopener noreferrer">#1266</a>, <a href="https://github.com/compasjs/compas/pull/1268" target="_blank" rel="noopener noreferrer">#1268</a>, <a href="https://github.com/compasjs/compas/pull/1272" target="_blank" rel="noopener noreferrer">#1272</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump c8 from 7.9.0 to 7.10.0 (<a href="https://github.com/compasjs/compas/pull/1248" target="_blank" rel="noopener noreferrer">#1248</a>)</li><li>build(deps): bump eslint from 7.32.0 to 8.0.1 (<a href="https://github.com/compasjs/compas/pull/1265" target="_blank" rel="noopener noreferrer">#1265</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-import from 2.24.2 to 2.25.2 (<a href="https://github.com/compasjs/compas/pull/1263" target="_blank" rel="noopener noreferrer">#1263</a>) <ul><li><a href="https://github.com/import-js/eslint-plugin-import/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 36.1.0 to 36.1.1 (<a href="https://github.com/compasjs/compas/pull/1252" target="_blank" rel="noopener noreferrer">#1252</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(changelog): fix matcher on multiple git commit subjects</li><li>feat(code-gen,store): use a runtime helper to build the where clause (<a href="https://github.com/compasjs/compas/pull/1273" target="_blank" rel="noopener noreferrer">#1273</a>)</li><li>feat(docs): add router &amp; api client generator documents (<a href="https://github.com/compasjs/compas/pull/1254" target="_blank" rel="noopener noreferrer">#1254</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1138" target="_blank" rel="noopener noreferrer">#1138</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1140" target="_blank" rel="noopener noreferrer">#1140</a></li></ul></li><li>feat(docs): add some more body to the code-gen api doc.</li><li>feat(stdlib): use Pino as ndjson logger (<a href="https://github.com/compasjs/compas/pull/1274" target="_blank" rel="noopener noreferrer">#1274</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1271" target="_blank" rel="noopener noreferrer">#1271</a></li></ul></li><li>fix(code-gen): limit <code>body()</code> usage on <code>R.delete()</code> (<a href="https://github.com/compasjs/compas/pull/1256" target="_blank" rel="noopener noreferrer">#1256</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1246" target="_blank" rel="noopener noreferrer">#1246</a></li></ul></li><li>fix(server): redo leakError in de error handler middleware (<a href="https://github.com/compasjs/compas/pull/1267" target="_blank" rel="noopener noreferrer">#1267</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1257" target="_blank" rel="noopener noreferrer">#1257</a></li></ul></li></ul><h5 id="breaking-changes-19" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-19" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump eslint from 7.32.0 to 8.0.1 <ul><li>Major version bump</li></ul></li><li><strong>stdlib</strong>: use Pino as ndjson logger <ul><li>The production log writer is replaced.</li><li><code>ndjson</code> log lines contain a <code>time</code> field with milliseconds since epoch instead of a <code>timestamp</code> field with an ISO-8601 string.</li></ul></li><li><strong>server</strong>: redo leakError in de error handler middleware <ul><li><code>leakError: true</code> is ignored if a custom <code>onAppError</code> is provided</li></ul></li></ul><h3 id="v0-0-167" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.167" target="_blank" rel="noopener noreferrer">v0.0.167</a> <a class="header-anchor" href="#v0-0-167" aria-hidden="true">#</a></h3><h5 id="changes-40" tabindex="-1">Changes <a class="header-anchor" href="#changes-40" aria-hidden="true">#</a></h5><ul><li>feat(code-gen): make date validator more flexible (<a href="https://github.com/compasjs/compas/pull/1241" target="_blank" rel="noopener noreferrer">#1241</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1229" target="_blank" rel="noopener noreferrer">#1229</a></li></ul></li><li>feat(server): log middleware also handles Koa error events (<a href="https://github.com/compasjs/compas/pull/1239" target="_blank" rel="noopener noreferrer">#1239</a>)</li><li>test(server): add more e2e tests for sendFile (<a href="https://github.com/compasjs/compas/pull/1238" target="_blank" rel="noopener noreferrer">#1238</a>)</li></ul><h3 id="v0-0-166" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.166" target="_blank" rel="noopener noreferrer">v0.0.166</a> <a class="header-anchor" href="#v0-0-166" aria-hidden="true">#</a></h3><h5 id="changes-41" tabindex="-1">Changes <a class="header-anchor" href="#changes-41" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.10.1 to 16.10.2 (<a href="https://github.com/compasjs/compas/pull/1233" target="_blank" rel="noopener noreferrer">#1233</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump postgres from 2.0.0-beta.9 to 2.0.0-beta.10 (<a href="https://github.com/compasjs/compas/pull/1232" target="_blank" rel="noopener noreferrer">#1232</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(deps): revert minio from 7.0.19 to 7.0.18 <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1197" target="_blank" rel="noopener noreferrer">#1197</a></li></ul></li><li>feat(code-gen,server): change requestId behaviour (<a href="https://github.com/compasjs/compas/pull/1235" target="_blank" rel="noopener noreferrer">#1235</a>)</li></ul><h5 id="breaking-changes-20" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-20" aria-hidden="true">#</a></h5><ul><li><strong>code-gen</strong>: change requestId behaviour <ul><li>Removed <code>addRequestIdInterceptors</code> from <code>$generatedDir/common/apiClient</code></li></ul></li></ul><h3 id="v0-0-165" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.165" target="_blank" rel="noopener noreferrer">v0.0.165</a> <a class="header-anchor" href="#v0-0-165" aria-hidden="true">#</a></h3><h5 id="changes-42" tabindex="-1">Changes <a class="header-anchor" href="#changes-42" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/eslint-parser from 7.15.4 to 7.15.7 (<a href="https://github.com/compasjs/compas/pull/1210" target="_blank" rel="noopener noreferrer">#1210</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.9.1 to 16.10.1 (<a href="https://github.com/compasjs/compas/pull/1203" target="_blank" rel="noopener noreferrer">#1203</a>, <a href="https://github.com/compasjs/compas/pull/1213" target="_blank" rel="noopener noreferrer">#1213</a>, <a href="https://github.com/compasjs/compas/pull/1217" target="_blank" rel="noopener noreferrer">#1217</a>, <a href="https://github.com/compasjs/compas/pull/1228" target="_blank" rel="noopener noreferrer">#1228</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump koa from 2.13.1 to 2.13.3 (<a href="https://github.com/compasjs/compas/pull/1222" target="_blank" rel="noopener noreferrer">#1222</a>, <a href="https://github.com/compasjs/compas/pull/1227" target="_blank" rel="noopener noreferrer">#1227</a>) <ul><li><a href="https://github.com/koajs/koa/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump postgres from 2.0.0-beta.8 to 2.0.0-beta.9 (<a href="https://github.com/compasjs/compas/pull/1214" target="_blank" rel="noopener noreferrer">#1214</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.4.0 to 2.4.1 (<a href="https://github.com/compasjs/compas/pull/1204" target="_blank" rel="noopener noreferrer">#1204</a>) <ul><li><a href="https://github.com/prettier/prettier/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(cli): also print passed test assertions around the failed assertion (<a href="https://github.com/compasjs/compas/pull/1224" target="_blank" rel="noopener noreferrer">#1224</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1220" target="_blank" rel="noopener noreferrer">#1220</a></li></ul></li><li>feat(docs): add code-gen setup and validators (<a href="https://github.com/compasjs/compas/pull/1211" target="_blank" rel="noopener noreferrer">#1211</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1137" target="_blank" rel="noopener noreferrer">#1137</a></li></ul></li><li>feat(stdlib): support formatting Error#clause in AppError#format (<a href="https://github.com/compasjs/compas/pull/1208" target="_blank" rel="noopener noreferrer">#1208</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1181" target="_blank" rel="noopener noreferrer">#1181</a></li></ul></li><li>feat(store): add job name filter to JobQueueWorker (<a href="https://github.com/compasjs/compas/pull/1225" target="_blank" rel="noopener noreferrer">#1225</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1223" target="_blank" rel="noopener noreferrer">#1223</a></li></ul></li><li>fix(cli): ensure visualise output directory exists (<a href="https://github.com/compasjs/compas/pull/1207" target="_blank" rel="noopener noreferrer">#1207</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1206" target="_blank" rel="noopener noreferrer">#1206</a></li></ul></li></ul><h5 id="breaking-changes-21" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-21" aria-hidden="true">#</a></h5><ul><li><strong>store</strong>: add job name filter to JobQueueWorker <ul><li>Removed support for specifying a specific job name in the <code>JobQueueWorker</code> constructor. Please migrate to the <code>{ includedNames: [&quot;job.name&quot;] }</code> syntax.</li></ul></li></ul><h3 id="v0-0-164" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.164" target="_blank" rel="noopener noreferrer">v0.0.164</a> <a class="header-anchor" href="#v0-0-164" aria-hidden="true">#</a></h3><h5 id="changes-43" tabindex="-1">Changes <a class="header-anchor" href="#changes-43" aria-hidden="true">#</a></h5><ul><li>fix(cli,server): access-control-request-headers is not always set in a cors preflight (<a href="https://github.com/compasjs/compas/pull/1201" target="_blank" rel="noopener noreferrer">#1201</a>)</li></ul><h3 id="v0-0-163" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.163" target="_blank" rel="noopener noreferrer">v0.0.163</a> <a class="header-anchor" href="#v0-0-163" aria-hidden="true">#</a></h3><h5 id="changes-44" tabindex="-1">Changes <a class="header-anchor" href="#changes-44" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/formidable from 1.2.3 to 1.2.4 (<a href="https://github.com/compasjs/compas/pull/1195" target="_blank" rel="noopener noreferrer">#1195</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>fix(code-gen): correct reuse of any validators (<a href="https://github.com/compasjs/compas/pull/1199" target="_blank" rel="noopener noreferrer">#1199</a>)</li></ul><h3 id="v0-0-162" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.162" target="_blank" rel="noopener noreferrer">v0.0.162</a> <a class="header-anchor" href="#v0-0-162" aria-hidden="true">#</a></h3><h5 id="changes-45" tabindex="-1">Changes <a class="header-anchor" href="#changes-45" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.7.12 to 16.9.1 (<a href="https://github.com/compasjs/compas/pull/1173" target="_blank" rel="noopener noreferrer">#1173</a>, <a href="https://github.com/compasjs/compas/pull/1179" target="_blank" rel="noopener noreferrer">#1179</a>, <a href="https://github.com/compasjs/compas/pull/1186" target="_blank" rel="noopener noreferrer">#1186</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump c8 from 7.8.0 to 7.9.0 (<a href="https://github.com/compasjs/compas/pull/1187" target="_blank" rel="noopener noreferrer">#1187</a>) <ul><li><a href="https://github.com/bcoe/c8/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 36.0.8 to 36.1.0 (<a href="https://github.com/compasjs/compas/pull/1174" target="_blank" rel="noopener noreferrer">#1174</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.3.2 to 2.4.0 (<a href="https://github.com/compasjs/compas/pull/1184" target="_blank" rel="noopener noreferrer">#1184</a>) <ul><li><a href="https://github.com/prettier/prettier/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump sharp from 0.29.0 to 0.29.1 (<a href="https://github.com/compasjs/compas/pull/1171" target="_blank" rel="noopener noreferrer">#1171</a>) <ul><li><a href="https://github.com/lovell/sharp/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(code-gen): don&#39;t output params &amp; data if not used in the api client (<a href="https://github.com/compasjs/compas/pull/1193" target="_blank" rel="noopener noreferrer">#1193</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1188" target="_blank" rel="noopener noreferrer">#1188</a></li></ul></li><li>feat(code-gen): redo options.enabled of react-query generator (<a href="https://github.com/compasjs/compas/pull/1194" target="_blank" rel="noopener noreferrer">#1194</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1189" target="_blank" rel="noopener noreferrer">#1189</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1190" target="_blank" rel="noopener noreferrer">#1190</a></li></ul></li><li>fix(code-gen): error when multiple relations use the same ownKey (<a href="https://github.com/compasjs/compas/pull/1192" target="_blank" rel="noopener noreferrer">#1192</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1177" target="_blank" rel="noopener noreferrer">#1177</a></li></ul></li><li>fix(code-gen): throw explicit error on empty sql update clause (<a href="https://github.com/compasjs/compas/pull/1191" target="_blank" rel="noopener noreferrer">#1191</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1175" target="_blank" rel="noopener noreferrer">#1175</a></li></ul></li><li>fix(docs): typo in session handling</li><li>fix(store): syncDeletedFiles permanently delete transformed (<a href="https://github.com/compasjs/compas/pull/1182" target="_blank" rel="noopener noreferrer">#1182</a>)</li></ul><h3 id="v0-0-161" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.161" target="_blank" rel="noopener noreferrer">v0.0.161</a> <a class="header-anchor" href="#v0-0-161" aria-hidden="true">#</a></h3><h5 id="changes-46" tabindex="-1">Changes <a class="header-anchor" href="#changes-46" aria-hidden="true">#</a></h5><ul><li>fix(code-gen): validation of optional references in object types (<a href="https://github.com/compasjs/compas/pull/1169" target="_blank" rel="noopener noreferrer">#1169</a>)</li></ul><h3 id="v0-0-160" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.160" target="_blank" rel="noopener noreferrer">v0.0.160</a> <a class="header-anchor" href="#v0-0-160" aria-hidden="true">#</a></h3><h5 id="changes-47" tabindex="-1">Changes <a class="header-anchor" href="#changes-47" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.7.10 to 16.7.12 (<a href="https://github.com/compasjs/compas/pull/1167" target="_blank" rel="noopener noreferrer">#1167</a>)</li><li>fix(server): use correct condition for session renew behavior</li></ul><h3 id="v0-0-159" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.159" target="_blank" rel="noopener noreferrer">v0.0.159</a> <a class="header-anchor" href="#v0-0-159" aria-hidden="true">#</a></h3><h5 id="changes-48" tabindex="-1">Changes <a class="header-anchor" href="#changes-48" aria-hidden="true">#</a></h5><ul><li>feat(server): support renewing sessions every x seconds (<a href="https://github.com/compasjs/compas/pull/1166" target="_blank" rel="noopener noreferrer">#1166</a>)</li></ul><h3 id="v0-0-158" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.158" target="_blank" rel="noopener noreferrer">v0.0.158</a> <a class="header-anchor" href="#v0-0-158" aria-hidden="true">#</a></h3><h5 id="changes-49" tabindex="-1">Changes <a class="header-anchor" href="#changes-49" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.15.0 to 7.15.5 (<a href="https://github.com/compasjs/compas/pull/1160" target="_blank" rel="noopener noreferrer">#1160</a>, <a href="https://github.com/compasjs/compas/pull/1163" target="_blank" rel="noopener noreferrer">#1163</a>)</li><li>build(deps): bump @babel/eslint-parser from 7.15.0 to 7.15.4 (<a href="https://github.com/compasjs/compas/pull/1159" target="_blank" rel="noopener noreferrer">#1159</a>)</li><li>build(deps): bump @types/minio from 7.0.9 to 7.0.10 (<a href="https://github.com/compasjs/compas/pull/1121" target="_blank" rel="noopener noreferrer">#1121</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.6.0 to 16.7.10 (<a href="https://github.com/compasjs/compas/pull/1104" target="_blank" rel="noopener noreferrer">#1104</a>, <a href="https://github.com/compasjs/compas/pull/1122" target="_blank" rel="noopener noreferrer">#1122</a>, <a href="https://github.com/compasjs/compas/pull/1127" target="_blank" rel="noopener noreferrer">#1127</a>, <a href="https://github.com/compasjs/compas/pull/1152" target="_blank" rel="noopener noreferrer">#1152</a>, <a href="https://github.com/compasjs/compas/pull/1156" target="_blank" rel="noopener noreferrer">#1156</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-import from 2.24.0 to 2.24.2 (<a href="https://github.com/compasjs/compas/pull/1112" target="_blank" rel="noopener noreferrer">#1112</a>, <a href="https://github.com/compasjs/compas/pull/1117" target="_blank" rel="noopener noreferrer">#1117</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 36.0.7 to 36.0.8 (<a href="https://github.com/compasjs/compas/pull/1118" target="_blank" rel="noopener noreferrer">#1118</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump minio from 7.0.18 to 7.0.19 (<a href="https://github.com/compasjs/compas/pull/1114" target="_blank" rel="noopener noreferrer">#1114</a>)</li><li>build(deps): bump postgres from 2.0.0-beta.6 to 2.0.0-beta.8 (<a href="https://github.com/compasjs/compas/pull/1107" target="_blank" rel="noopener noreferrer">#1107</a>,<a href="https://github.com/compasjs/compas/pull/1123" target="_blank" rel="noopener noreferrer">#1123</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump sharp from 0.28.3 to 0.29.0 (<a href="https://github.com/compasjs/compas/pull/1108" target="_blank" rel="noopener noreferrer">#1108</a>)</li><li>chore: fix issues after Typescript 4.4 update (<a href="https://github.com/compasjs/compas/pull/1124" target="_blank" rel="noopener noreferrer">#1124</a>)</li><li>chore(ci): add syncMetadata &amp; docs build to PR&#39;s (<a href="https://github.com/compasjs/compas/pull/1154" target="_blank" rel="noopener noreferrer">#1154</a>)</li><li>docs: revamp docs in to more feature based (<a href="https://github.com/compasjs/compas/pull/1151" target="_blank" rel="noopener noreferrer">#1151</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1131" target="_blank" rel="noopener noreferrer">#1131</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1141" target="_blank" rel="noopener noreferrer">#1141</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1142" target="_blank" rel="noopener noreferrer">#1142</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1143" target="_blank" rel="noopener noreferrer">#1143</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1149" target="_blank" rel="noopener noreferrer">#1149</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1150" target="_blank" rel="noopener noreferrer">#1150</a></li></ul></li><li>feat(all): support and recommend using the Typescript language server (<a href="https://github.com/compasjs/compas/pull/1055" target="_blank" rel="noopener noreferrer">#1055</a>)</li><li>feat(code-gen): add support for Postgres default values (<a href="https://github.com/compasjs/compas/pull/1130" target="_blank" rel="noopener noreferrer">#1130</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1098" target="_blank" rel="noopener noreferrer">#1098</a></li></ul></li><li>feat(code-gen): always collect as much validator issues as possible (<a href="https://github.com/compasjs/compas/pull/1161" target="_blank" rel="noopener noreferrer">#1161</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1158" target="_blank" rel="noopener noreferrer">#1158</a></li></ul></li><li>feat(code-gen): sort imports in generated files before writing (<a href="https://github.com/compasjs/compas/pull/1125" target="_blank" rel="noopener noreferrer">#1125</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1110" target="_blank" rel="noopener noreferrer">#1110</a></li></ul></li><li>feat(docs): add http server document (<a href="https://github.com/compasjs/compas/pull/1157" target="_blank" rel="noopener noreferrer">#1157</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1134" target="_blank" rel="noopener noreferrer">#1134</a></li></ul></li><li>feat(docs): add TS setup &amp; logger and events (<a href="https://github.com/compasjs/compas/pull/1153" target="_blank" rel="noopener noreferrer">#1153</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1132" target="_blank" rel="noopener noreferrer">#1132</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1133" target="_blank" rel="noopener noreferrer">#1133</a></li></ul></li><li>feat(docs): queue, migration, postgres, session and test docs <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1135" target="_blank" rel="noopener noreferrer">#1135</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1136" target="_blank" rel="noopener noreferrer">#1136</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1144" target="_blank" rel="noopener noreferrer">#1144</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1147" target="_blank" rel="noopener noreferrer">#1147</a></li><li>Closes <a href="https://github.com/compasjs/compas/pull/1148" target="_blank" rel="noopener noreferrer">#1148</a></li></ul></li><li>fix(code-gen): allow searchable on references (<a href="https://github.com/compasjs/compas/pull/1128" target="_blank" rel="noopener noreferrer">#1128</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1109" target="_blank" rel="noopener noreferrer">#1109</a></li></ul></li><li>fix(code-gen): nullable types on sql insert partials (<a href="https://github.com/compasjs/compas/pull/1129" target="_blank" rel="noopener noreferrer">#1129</a>) <ul><li>References <a href="https://github.com/compasjs/compas/pull/1098" target="_blank" rel="noopener noreferrer">#1098</a></li></ul></li></ul><h5 id="breaking-changes-22" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-22" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump sharp from 0.28.3 to 0.29.0 <ul><li>Major version bump</li></ul></li><li><strong>code-gen</strong>: always collect as much validator issues as possible <ul><li>No TypeScript file support anymore in the &#39;validator&#39; generator</li><li>Removed the &#39;throwingValidator&#39; option, every validator returns a <code>{ error }|{, value }</code> result, where the error is an <code>AppError</code> or the value key containing the validation result</li><li>The <code>AppError</code> key is now always <code>validator.error</code>. Errors by path are now put on <code>error.info[&quot;$.xxx&quot;].key</code></li></ul></li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.158.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-157" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.157" target="_blank" rel="noopener noreferrer">v0.0.157</a> <a class="header-anchor" href="#v0-0-157" aria-hidden="true">#</a></h3><h5 id="changes-50" tabindex="-1">Changes <a class="header-anchor" href="#changes-50" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.4.13 to 16.6.0 (<a href="https://github.com/compasjs/compas/pull/1101" target="_blank" rel="noopener noreferrer">#1101</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-import from 2.23.4 to 2.24.0 (<a href="https://github.com/compasjs/compas/pull/1088" target="_blank" rel="noopener noreferrer">#1088</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 36.0.6 to 36.0.7 (<a href="https://github.com/compasjs/compas/pull/1102" target="_blank" rel="noopener noreferrer">#1102</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(code-gen): support &#39;schema&#39; in &#39;queryOptions&#39; (<a href="https://github.com/compasjs/compas/pull/1103" target="_blank" rel="noopener noreferrer">#1103</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1090" target="_blank" rel="noopener noreferrer">#1090</a></li></ul></li><li>feat(store): add support for JS migration files (<a href="https://github.com/compasjs/compas/pull/1097" target="_blank" rel="noopener noreferrer">#1097</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1092" target="_blank" rel="noopener noreferrer">#1092</a></li></ul></li><li>feat(store): better PG connection handling (<a href="https://github.com/compasjs/compas/pull/1096" target="_blank" rel="noopener noreferrer">#1096</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1089" target="_blank" rel="noopener noreferrer">#1089</a></li></ul></li></ul><h5 id="breaking-changes-23" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-23" aria-hidden="true">#</a></h5><ul><li><p><strong>store</strong>: better PG connection handling</p><ul><li><code>setPostgresDatabaseTemplate</code> requires a connection created by <code>createTestPostgresDatabase</code></li></ul><div class="language-js"><pre><code><span class="token comment">// test/config.js</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">createTestPostgresDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">setPostgresDatabaseTemplate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> sql<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">teardown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">cleanupPostgresDatabaseTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>cleanupTestPostgresDatabase</code> is not guaranteed to delete the provided database.</li><li>Changed logic around checking options passed to <code>newPostgresConnection</code>. This shouldn&#39;t affect any existing usage, but is more flexible when connecting to many databases.</li><li>Default connection pool is 15 instead of unspecified.</li></ul></li></ul><h3 id="v0-0-156" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.156" target="_blank" rel="noopener noreferrer">v0.0.156</a> <a class="header-anchor" href="#v0-0-156" aria-hidden="true">#</a></h3><h5 id="changes-51" tabindex="-1">Changes <a class="header-anchor" href="#changes-51" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.14.8 to 7.15.0 (<a href="https://github.com/compasjs/compas/pull/1083" target="_blank" rel="noopener noreferrer">#1083</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @babel/eslint-parser from 7.14.7 to 7.15.0 (<a href="https://github.com/compasjs/compas/pull/1077" target="_blank" rel="noopener noreferrer">#1077</a>, <a href="https://github.com/compasjs/compas/pull/1082" target="_blank" rel="noopener noreferrer">#1082</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.4.8 to 16.4.13 (<a href="https://github.com/compasjs/compas/pull/1081" target="_blank" rel="noopener noreferrer">#1081</a>, <a href="https://github.com/compasjs/compas/pull/1084" target="_blank" rel="noopener noreferrer">#1084</a>, <a href="https://github.com/compasjs/compas/pull/1076" target="_blank" rel="noopener noreferrer">#1076</a>, <a href="https://github.com/compasjs/compas/pull/1079" target="_blank" rel="noopener noreferrer">#1079</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(code-gen): add sql upsert on primary key support (<a href="https://github.com/compasjs/compas/pull/1087" target="_blank" rel="noopener noreferrer">#1087</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1080" target="_blank" rel="noopener noreferrer">#1080</a></li></ul></li><li>feat(store): add sendTransformedImage compatible with Next.js image loaders (<a href="https://github.com/compasjs/compas/pull/1078" target="_blank" rel="noopener noreferrer">#1078</a>)</li></ul><h3 id="v0-0-155" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.155" target="_blank" rel="noopener noreferrer">v0.0.155</a> <a class="header-anchor" href="#v0-0-155" aria-hidden="true">#</a></h3><h5 id="changes-52" tabindex="-1">Changes <a class="header-anchor" href="#changes-52" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.4.6 to 16.4.8 (<a href="https://github.com/compasjs/compas/pull/1074" target="_blank" rel="noopener noreferrer">#1074</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 7.31.0 to 7.32.0 (<a href="https://github.com/compasjs/compas/pull/1075" target="_blank" rel="noopener noreferrer">#1075</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(release): fix release script</li><li>chore: lint JSDoc blocks</li><li>chore(release): fix release of code-gen and linting</li></ul><h3 id="v0-0-154" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.154" target="_blank" rel="noopener noreferrer">v0.0.154</a> <a class="header-anchor" href="#v0-0-154" aria-hidden="true">#</a></h3><h5 id="changes-53" tabindex="-1">Changes <a class="header-anchor" href="#changes-53" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/minio from 7.0.8 to 7.0.9 (<a href="https://github.com/compasjs/compas/pull/1057" target="_blank" rel="noopener noreferrer">#1057</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.4.0 to 16.4.6 (<a href="https://github.com/compasjs/compas/pull/1050" target="_blank" rel="noopener noreferrer">#1050</a>, <a href="https://github.com/compasjs/compas/pull/1059" target="_blank" rel="noopener noreferrer">#1059</a>, <a href="https://github.com/compasjs/compas/pull/1061" target="_blank" rel="noopener noreferrer">#1061</a>, <a href="https://github.com/compasjs/compas/pull/1065" target="_blank" rel="noopener noreferrer">#1065</a>, <a href="https://github.com/compasjs/compas/pull/1069" target="_blank" rel="noopener noreferrer">#1069</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump c8 from 7.7.3 to 7.8.0 (<a href="https://github.com/compasjs/compas/pull/1067" target="_blank" rel="noopener noreferrer">#1067</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 35.5.0 to 36.0.6 (<a href="https://github.com/compasjs/compas/pull/1052" target="_blank" rel="noopener noreferrer">#1052</a>, <a href="https://github.com/compasjs/compas/pull/1058" target="_blank" rel="noopener noreferrer">#1058</a>, <a href="https://github.com/compasjs/compas/pull/1063" target="_blank" rel="noopener noreferrer">#1063</a>, <a href="https://github.com/compasjs/compas/pull/1064" target="_blank" rel="noopener noreferrer">#1064</a>, <a href="https://github.com/compasjs/compas/pull/1068" target="_blank" rel="noopener noreferrer">#1068</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump recast from 0.20.4 to 0.20.5 (<a href="https://github.com/compasjs/compas/pull/1051" target="_blank" rel="noopener noreferrer">#1051</a>) <ul><li><a href="https://github.com/benjamn/recast/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore: drop lerna, create custom release script (<a href="https://github.com/compasjs/compas/pull/1072" target="_blank" rel="noopener noreferrer">#1072</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1053" target="_blank" rel="noopener noreferrer">#1053</a></li></ul></li><li>fix(code-gen): throw on unknown type in validators (<a href="https://github.com/compasjs/compas/pull/1071" target="_blank" rel="noopener noreferrer">#1071</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1062" target="_blank" rel="noopener noreferrer">#1062</a></li></ul></li><li>fix(store): use connection defaults when creating postgres database (<a href="https://github.com/compasjs/compas/pull/1070" target="_blank" rel="noopener noreferrer">#1070</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1066" target="_blank" rel="noopener noreferrer">#1066</a></li></ul></li></ul><h5 id="breaking-changes-24" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-24" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump eslint-plugin-jsdoc from 35.5.0 to 36.0.6 <ul><li>Major version bump</li></ul></li></ul><h3 id="v0-0-153" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.153" target="_blank" rel="noopener noreferrer">v0.0.153</a> <a class="header-anchor" href="#v0-0-153" aria-hidden="true">#</a></h3><h5 id="changes-54" tabindex="-1">Changes <a class="header-anchor" href="#changes-54" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @babel/core from 7.14.6 to 7.14.8 (<a href="https://github.com/compasjs/compas/pull/1044" target="_blank" rel="noopener noreferrer">#1044</a>) <ul><li><a href="https://github.com/babel/babel/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 16.3.1 to 16.4.0 (<a href="https://github.com/compasjs/compas/pull/1033" target="_blank" rel="noopener noreferrer">#1033</a>, <a href="https://github.com/compasjs/compas/pull/1041" target="_blank" rel="noopener noreferrer">#1041</a>, <a href="https://github.com/compasjs/compas/pull/1043" target="_blank" rel="noopener noreferrer">#1043</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 7.30.0 to 7.31.0 (<a href="https://github.com/compasjs/compas/pull/1039" target="_blank" rel="noopener noreferrer">#1039</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 35.4.3 to 35.5.0 (<a href="https://github.com/compasjs/compas/pull/1038" target="_blank" rel="noopener noreferrer">#1038</a>, <a href="https://github.com/compasjs/compas/pull/1045" target="_blank" rel="noopener noreferrer">#1045</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>feat(cli): remove <code>newTestEvent</code> options (<a href="https://github.com/compasjs/compas/pull/1031" target="_blank" rel="noopener noreferrer">#1031</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1030" target="_blank" rel="noopener noreferrer">#1030</a></li></ul></li><li>feat(docs): integrate docs from compasjs/docs and move to Vitepress (<a href="https://github.com/compasjs/compas/pull/1036" target="_blank" rel="noopener noreferrer">#1036</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1029" target="_blank" rel="noopener noreferrer">#1029</a></li></ul></li><li>fix(code-gen): fix jsdoc return type for query builders (<a href="https://github.com/compasjs/compas/pull/1034" target="_blank" rel="noopener noreferrer">#1034</a>)</li><li>fix(code-gen): handle convert when generating types. (<a href="https://github.com/compasjs/compas/pull/1048" target="_blank" rel="noopener noreferrer">#1048</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1047" target="_blank" rel="noopener noreferrer">#1047</a></li></ul></li><li>fix(store): add Buffer to types of source for createOrUpdateFile (<a href="https://github.com/compasjs/compas/pull/1049" target="_blank" rel="noopener noreferrer">#1049</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1046" target="_blank" rel="noopener noreferrer">#1046</a></li></ul></li><li>test(code-gen): add e2e tests for handled errors (<a href="https://github.com/compasjs/compas/pull/1032" target="_blank" rel="noopener noreferrer">#1032</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1021" target="_blank" rel="noopener noreferrer">#1021</a></li></ul></li><li>test(store): fix flaky tests by increasing timeouts (<a href="https://github.com/compasjs/compas/pull/1037" target="_blank" rel="noopener noreferrer">#1037</a>)</li></ul><h5 id="breaking-changes-25" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-25" aria-hidden="true">#</a></h5><ul><li><strong>cli</strong>: remove <code>newTestEvent</code> options <ul><li>Removed the <code>options</code> argument on <code>newTestEvent</code>. This was more confusing than a few extra logs in the test output.</li></ul></li></ul><h3 id="v0-0-152" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.152" target="_blank" rel="noopener noreferrer">v0.0.152</a> <a class="header-anchor" href="#v0-0-152" aria-hidden="true">#</a></h3><h5 id="changes-55" tabindex="-1">Changes <a class="header-anchor" href="#changes-55" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 16.0.1 to 16.3.1 (<a href="https://github.com/compasjs/compas/pull/1018" target="_blank" rel="noopener noreferrer">#1018</a>, <a href="https://github.com/compasjs/compas/pull/1026" target="_blank" rel="noopener noreferrer">#1026</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint-plugin-jsdoc from 35.4.1 to 35.4.3 (<a href="https://github.com/compasjs/compas/pull/1019" target="_blank" rel="noopener noreferrer">#1019</a>, <a href="https://github.com/compasjs/compas/pull/1025" target="_blank" rel="noopener noreferrer">#1025</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(ci): disable setup-node auto cache for sync-docs</li><li>chore(codecov): make patch informational as well</li><li>feat(cli): change default worker count of test to 4 instead of number of cpus <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1023" target="_blank" rel="noopener noreferrer">#1023</a></li></ul></li><li>feat(cli): run tests in parallel by default while collecting coverage (<a href="https://github.com/compasjs/compas/pull/1024" target="_blank" rel="noopener noreferrer">#1024</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1022" target="_blank" rel="noopener noreferrer">#1022</a></li></ul></li><li>feat(code-gen): error when relation key is a reserved query builder key (<a href="https://github.com/compasjs/compas/pull/1020" target="_blank" rel="noopener noreferrer">#1020</a>)</li><li>feat(code-gen): add &#39;as&#39; and &#39;limit&#39; as reserved query builder keys</li></ul><h5 id="breaking-changes-26" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-26" aria-hidden="true">#</a></h5><ul><li><strong>cli</strong>: run tests in parallel by default while collecting coverage <ul><li><code>compas coverage</code> by defaults executes tests with the default settings (parallel)</li><li><code>compas coverage</code> now also accepts all arguments of <code>compas test</code> like <code>--serial</code> and <code>--parallel-count</code>. To get the old behaviour run <code>compas coverage --serial</code></li></ul></li></ul><h3 id="v0-0-151" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.151" target="_blank" rel="noopener noreferrer">v0.0.151</a> <a class="header-anchor" href="#v0-0-151" aria-hidden="true">#</a></h3><h5 id="changes-56" tabindex="-1">Changes <a class="header-anchor" href="#changes-56" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/minio from 7.0.7 to 7.0.8 (<a href="https://github.com/compasjs/compas/pull/1012" target="_blank" rel="noopener noreferrer">#1012</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump @types/node from 15.12.5 to 16.0.1 (<a href="https://github.com/compasjs/compas/pull/1008" target="_blank" rel="noopener noreferrer">#1008</a>, <a href="https://github.com/compasjs/compas/pull/1010" target="_blank" rel="noopener noreferrer">#1010</a>, <a href="https://github.com/compasjs/compas/pull/1014" target="_blank" rel="noopener noreferrer">#1014</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump eslint from 7.29.0 to 7.30.0 (<a href="https://github.com/compasjs/compas/pull/1011" target="_blank" rel="noopener noreferrer">#1011</a>) <ul><li><a href="https://github.com/eslint/eslint/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump postgres from 2.0.0-beta.5 to 2.0.0-beta.6 (<a href="https://github.com/compasjs/compas/pull/1015" target="_blank" rel="noopener noreferrer">#1015</a>) <ul><li><a href="https://github.com/porsager/postgres/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore: only support Node.js v16 and higher</li><li>chore(ci): disable auto-merge of dependabot PR&#39;s</li><li>chore(ci): use setup-node@v2 with built-in cache support</li><li>feat(code-gen): rename <code>ctx.event</code> in matched handlers with a <code>router.</code> prefix (<a href="https://github.com/compasjs/compas/pull/1017" target="_blank" rel="noopener noreferrer">#1017</a>)</li><li>fix(stdlib): replace TimeoutError with AppError, fix formatting of info object (<a href="https://github.com/compasjs/compas/pull/1016" target="_blank" rel="noopener noreferrer">#1016</a>)</li></ul><h5 id="breaking-changes-27" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-27" aria-hidden="true">#</a></h5><ul><li><strong>deps</strong>: bump @types/node from 15.12.5 to 16.0.1 <ul><li>Major version bump</li></ul></li><li><strong>all</strong>: only support Node.js v16 and higher <ul><li>Bump your local project to use Node.js v16, which should go in to LTS in a few months</li></ul></li></ul><h3 id="v0-0-150" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.150" target="_blank" rel="noopener noreferrer">v0.0.150</a> <a class="header-anchor" href="#v0-0-150" aria-hidden="true">#</a></h3><h5 id="changes-57" tabindex="-1">Changes <a class="header-anchor" href="#changes-57" aria-hidden="true">#</a></h5><ul><li>build(deps): bump eslint-plugin-jsdoc from 35.4.0 to 35.4.1 (<a href="https://github.com/compasjs/compas/pull/1006" target="_blank" rel="noopener noreferrer">#1006</a>) <ul><li><a href="https://github.com/gajus/eslint-plugin-jsdoc/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(create-release): fix changelog parsing</li><li>feat(server): sendFile support If-Modified-Since (<a href="https://github.com/compasjs/compas/pull/1003" target="_blank" rel="noopener noreferrer">#1003</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/1002" target="_blank" rel="noopener noreferrer">#1002</a></li></ul></li><li>feat(store): add must-revalidate to default cacheControlHeader in FileCache (<a href="https://github.com/compasjs/compas/pull/1004" target="_blank" rel="noopener noreferrer">#1004</a>)</li></ul><h5 id="breaking-changes-28" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-28" aria-hidden="true">#</a></h5><ul><li><strong>store</strong>: add must-revalidate to default cacheControlHeader in FileCache <ul><li>The default cache-control value has changed from <code>max-age=1200</code> to <code>max-age=120, must-revalidate</code>. Provide your own as the last argument of <code>new FileCache()</code> if necessary.</li></ul></li></ul><h3 id="v0-0-149" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.149" target="_blank" rel="noopener noreferrer">v0.0.149</a> <a class="header-anchor" href="#v0-0-149" aria-hidden="true">#</a></h3><h5 id="changes-58" tabindex="-1">Changes <a class="header-anchor" href="#changes-58" aria-hidden="true">#</a></h5><ul><li>build(deps): bump @types/node from 15.12.4 to 15.12.5 (<a href="https://github.com/compasjs/compas/pull/998" target="_blank" rel="noopener noreferrer">#998</a>) <ul><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>build(deps): bump prettier from 2.3.1 to 2.3.2 (<a href="https://github.com/compasjs/compas/pull/999" target="_blank" rel="noopener noreferrer">#999</a>) <ul><li><a href="https://github.com/prettier/prettier/releases" target="_blank" rel="noopener noreferrer">Release notes</a></li></ul></li><li>chore(changelog): improve changelog with breaking change handling (<a href="https://github.com/compasjs/compas/pull/1000" target="_blank" rel="noopener noreferrer">#1000</a>)</li><li>feat(store): remove file group view (<a href="https://github.com/compasjs/compas/pull/1001" target="_blank" rel="noopener noreferrer">#1001</a>) <ul><li>Closes <a href="https://github.com/compasjs/compas/pull/901" target="_blank" rel="noopener noreferrer">#901</a></li></ul></li></ul><h5 id="breaking-changes-29" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes-29" aria-hidden="true">#</a></h5><ul><li><strong>store</strong>: remove file group view <ul><li>Removed usages and code generation of <code>fileGroupView</code>. Replace with <code>queryFileGroup</code> calls.</li><li>Add the following migration:</li></ul><div class="language-sql"><pre><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token string">&quot;fileGroupView&quot;</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre></div></li></ul><h3 id="v0-0-148" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.148" target="_blank" rel="noopener noreferrer">v0.0.148</a> <a class="header-anchor" href="#v0-0-148" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/eslint-parser from 7.14.5 to 7.14.7 (<a href="https://github.com/compasjs/compas/pull/989" target="_blank" rel="noopener noreferrer">#989</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 35.3.2 to 35.4.0 (<a href="https://github.com/compasjs/compas/pull/990" target="_blank" rel="noopener noreferrer">#990</a>)</li><li>feat(cli): support <code>--parallel-count n</code> in the test runner (<a href="https://github.com/compasjs/compas/pull/996" target="_blank" rel="noopener noreferrer">#996</a>)</li><li>feat(store): createTestPostgresDatabase accepts sql connection options (<a href="https://github.com/compasjs/compas/pull/995" target="_blank" rel="noopener noreferrer">#995</a>)</li><li>fix(code-gen): react-query should work for routes without a response (<a href="https://github.com/compasjs/compas/pull/994" target="_blank" rel="noopener noreferrer">#994</a>)</li></ul><h3 id="v0-0-147" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.147" target="_blank" rel="noopener noreferrer">v0.0.147</a> <a class="header-anchor" href="#v0-0-147" aria-hidden="true">#</a></h3><ul><li>fix(cli): let newTestEvent use &#39;newEvent&#39; from stdlib (<a href="https://github.com/compasjs/compas/pull/988" target="_blank" rel="noopener noreferrer">#988</a>)</li></ul><h3 id="v0-0-146" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.146" target="_blank" rel="noopener noreferrer">v0.0.146</a> <a class="header-anchor" href="#v0-0-146" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 15.12.2 to 15.12.4 (<a href="https://github.com/compasjs/compas/pull/987" target="_blank" rel="noopener noreferrer">#987</a>)</li><li>build(deps): bump eslint from 7.28.0 to 7.29.0 (<a href="https://github.com/compasjs/compas/pull/986" target="_blank" rel="noopener noreferrer">#986</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 35.3.0 to 35.3.2 (<a href="https://github.com/compasjs/compas/pull/985" target="_blank" rel="noopener noreferrer">#985</a>)</li><li>feat(cli): add code-mod for v0.0.146 (<a href="https://github.com/compasjs/compas/pull/983" target="_blank" rel="noopener noreferrer">#983</a>)</li><li>feat(code-gen): remove entitySelect generation (<a href="https://github.com/compasjs/compas/pull/984" target="_blank" rel="noopener noreferrer">#984</a>)</li><li>feat(stdlib): calculate event duration on abort or eventStop (<a href="https://github.com/compasjs/compas/pull/982" target="_blank" rel="noopener noreferrer">#982</a>)</li><li>fix(code-gen): resolve primary key for correct type when adding fields for relations (<a href="https://github.com/compasjs/compas/pull/980" target="_blank" rel="noopener noreferrer">#980</a>)</li><li>fix(store): fix return values of <code>addJobToQueue</code> and equivalents (<a href="https://github.com/compasjs/compas/pull/981" target="_blank" rel="noopener noreferrer">#981</a>)</li></ul><p>Breaking change where the generated select sql queries where removed. Use <code>yarn compas code-mod exec v0.0.146 --verbose</code>, before generating, to convert these to use the query builder.</p><h3 id="v0-0-145" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.145" target="_blank" rel="noopener noreferrer">v0.0.145</a> <a class="header-anchor" href="#v0-0-145" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.14.5 to 7.14.6 (<a href="https://github.com/compasjs/compas/pull/969" target="_blank" rel="noopener noreferrer">#969</a>)</li><li>build(deps): bump c8 from 7.7.2 to 7.7.3 (<a href="https://github.com/compasjs/compas/pull/963" target="_blank" rel="noopener noreferrer">#963</a>)</li><li>build(deps): bump chokidar from 3.5.1 to 3.5.2 (<a href="https://github.com/compasjs/compas/pull/970" target="_blank" rel="noopener noreferrer">#970</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 35.1.3 to 35.3.0 (<a href="https://github.com/compasjs/compas/pull/964" target="_blank" rel="noopener noreferrer">#964</a>, <a href="https://github.com/compasjs/compas/pull/971" target="_blank" rel="noopener noreferrer">#971</a>)</li><li>feat(cli): spawn &#39;docker pull&#39; when container needs to be created (<a href="https://github.com/compasjs/compas/pull/967" target="_blank" rel="noopener noreferrer">#967</a>)</li><li>feat(code-gen): add sql support for <code>where.relationExists</code> (<a href="https://github.com/compasjs/compas/pull/973" target="_blank" rel="noopener noreferrer">#973</a>)</li><li>fix(code-gen): resolve typescript union on compas reference object (<a href="https://github.com/compasjs/compas/pull/974" target="_blank" rel="noopener noreferrer">#974</a>)</li><li>fix(store): require ssl by default for the postgres connection in production (<a href="https://github.com/compasjs/compas/pull/972" target="_blank" rel="noopener noreferrer">#972</a>)</li></ul><p>Breaking change: by default ssl is required for Postgres connections created in production.</p><h3 id="v0-0-144" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.144" target="_blank" rel="noopener noreferrer">v0.0.144</a> <a class="header-anchor" href="#v0-0-144" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.14.3 to 7.14.5 (<a href="https://github.com/compasjs/compas/pull/955" target="_blank" rel="noopener noreferrer">#955</a>)</li><li>build(deps): bump @babel/eslint-parser from 7.14.4 to 7.14.5 (<a href="https://github.com/compasjs/compas/pull/956" target="_blank" rel="noopener noreferrer">#956</a>)</li><li>build(deps): bump hosted-git-info from 2.8.8 to 2.8.9 (<a href="https://github.com/compasjs/compas/pull/953" target="_blank" rel="noopener noreferrer">#953</a>)</li><li>feat(cli): add hash to visualise output to prevent unnecessary diffs (<a href="https://github.com/compasjs/compas/pull/952" target="_blank" rel="noopener noreferrer">#952</a>)</li><li>feat(code-gen): add &#39;routerClearMemoizedHandlers&#39; to router output (<a href="https://github.com/compasjs/compas/pull/960" target="_blank" rel="noopener noreferrer">#960</a>)</li><li>fix(cli): prevent &#39;caughtException&#39; overwriting by &#39;enforceSingleAssertion&#39; (<a href="https://github.com/compasjs/compas/pull/961" target="_blank" rel="noopener noreferrer">#961</a>)</li></ul><h3 id="v0-0-143" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.143" target="_blank" rel="noopener noreferrer">v0.0.143</a> <a class="header-anchor" href="#v0-0-143" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 15.12.1 to 15.12.2 (<a href="https://github.com/compasjs/compas/pull/949" target="_blank" rel="noopener noreferrer">#949</a>)</li><li>fix(cli): import @babel/parser dynamically</li></ul><h3 id="v0-0-142" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.142" target="_blank" rel="noopener noreferrer">v0.0.142</a> <a class="header-anchor" href="#v0-0-142" aria-hidden="true">#</a></h3><ul><li>chore(cli): rename code-mod v0.0.141 to v0.0.142</li><li>fix(code-gen): make react-query options optional</li></ul><h3 id="v0-0-141" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.141" target="_blank" rel="noopener noreferrer">v0.0.141</a> <a class="header-anchor" href="#v0-0-141" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 15.12.0 to 15.12.1 (<a href="https://github.com/compasjs/compas/pull/942" target="_blank" rel="noopener noreferrer">#942</a>)</li><li>build(deps): bump eslint from 7.27.0 to 7.28.0 (<a href="https://github.com/compasjs/compas/pull/946" target="_blank" rel="noopener noreferrer">#946</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 35.1.2 to 35.1.3 (<a href="https://github.com/compasjs/compas/pull/943" target="_blank" rel="noopener noreferrer">#943</a>)</li><li>build(deps): bump prettier from 2.3.0 to 2.3.1 (<a href="https://github.com/compasjs/compas/pull/944" target="_blank" rel="noopener noreferrer">#944</a>)</li><li>fix(cli): fix code-mod v00140 and rename to v0.0.141 (<a href="https://github.com/compasjs/compas/pull/947" target="_blank" rel="noopener noreferrer">#947</a>)</li></ul><h3 id="v0-0-140" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.140" target="_blank" rel="noopener noreferrer">v0.0.140</a> <a class="header-anchor" href="#v0-0-140" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 15.6.1 to 15.12.0 (<a href="https://github.com/compasjs/compas/pull/929" target="_blank" rel="noopener noreferrer">#929</a>, <a href="https://github.com/compasjs/compas/pull/933" target="_blank" rel="noopener noreferrer">#933</a>)</li><li>build(deps): bump eslint-plugin-import from 2.23.3 to 2.23.4 (<a href="https://github.com/compasjs/compas/pull/919" target="_blank" rel="noopener noreferrer">#919</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 35.0.0 to 35.1.2 (<a href="https://github.com/compasjs/compas/pull/920" target="_blank" rel="noopener noreferrer">#920</a>, <a href="https://github.com/compasjs/compas/pull/921" target="_blank" rel="noopener noreferrer">#921</a>)</li><li>build(deps): bump mime-types from 2.1.30 to 2.1.31 (<a href="https://github.com/compasjs/compas/pull/927" target="_blank" rel="noopener noreferrer">#927</a>)</li><li>chore(store): remove unused mime-types dependency (<a href="https://github.com/compasjs/compas/pull/936" target="_blank" rel="noopener noreferrer">#936</a>)</li><li>feat(cli): add code-mod command, prepare v0.0.140 code-mod (<a href="https://github.com/compasjs/compas/pull/940" target="_blank" rel="noopener noreferrer">#940</a>)</li><li>feat(cli): add migrate --keep-alive-without-lock (<a href="https://github.com/compasjs/compas/pull/937" target="_blank" rel="noopener noreferrer">#937</a>)</li><li>feat(code-gen): accept an object as argument in generated &#39;useQuery&#39; hooks (<a href="https://github.com/compasjs/compas/pull/941" target="_blank" rel="noopener noreferrer">#941</a>)</li><li>feat(code-gen): throw nice error on optional route parameters (<a href="https://github.com/compasjs/compas/pull/938" target="_blank" rel="noopener noreferrer">#938</a>)</li><li>feat(stdlib): always format stack when formatting errors (<a href="https://github.com/compasjs/compas/pull/939" target="_blank" rel="noopener noreferrer">#939</a>)</li><li>fix(code-gen): Add additional query generics to support better data inferring (<a href="https://github.com/compasjs/compas/pull/922" target="_blank" rel="noopener noreferrer">#922</a>)</li></ul><p>Breaking change in the generated react-query hooks, please run the code-mod via <code>yarn compas code-mod exec v0.0.140 --verbose</code> before generating.</p><h3 id="v0-0-139" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.139" target="_blank" rel="noopener noreferrer">v0.0.139</a> <a class="header-anchor" href="#v0-0-139" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/eslint-parser from 7.14.3 to 7.14.4 (<a href="https://github.com/compasjs/compas/pull/915" target="_blank" rel="noopener noreferrer">#915</a>)</li><li>build(deps): bump @types/node from 15.6.0 to 15.6.1 (<a href="https://github.com/compasjs/compas/pull/909" target="_blank" rel="noopener noreferrer">#909</a>)</li><li>build(deps): bump browserslist from 4.16.3 to 4.16.6 (<a href="https://github.com/compasjs/compas/pull/910" target="_blank" rel="noopener noreferrer">#910</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 34.8.2 to 35.0.0 (<a href="https://github.com/compasjs/compas/pull/908" target="_blank" rel="noopener noreferrer">#908</a>)</li><li>chore(code-gen): add test for query-builder nested limit (<a href="https://github.com/compasjs/compas/pull/918" target="_blank" rel="noopener noreferrer">#918</a>)</li><li>feat(cli): add option to enforce at least one test assertion (<a href="https://github.com/compasjs/compas/pull/917" target="_blank" rel="noopener noreferrer">#917</a>)</li><li>feat(cli): support loading connection settings from a relative js file (<a href="https://github.com/compasjs/compas/pull/914" target="_blank" rel="noopener noreferrer">#914</a>)</li><li>feat(stdlib): add event root tracking for TimeoutErrors (<a href="https://github.com/compasjs/compas/pull/916" target="_blank" rel="noopener noreferrer">#916</a>)</li></ul><h3 id="v0-0-138" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.138" target="_blank" rel="noopener noreferrer">v0.0.138</a> <a class="header-anchor" href="#v0-0-138" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 15.3.0 to 15.6.0 (<a href="https://github.com/compasjs/compas/pull/896" target="_blank" rel="noopener noreferrer">#896</a>, <a href="https://github.com/compasjs/compas/pull/904" target="_blank" rel="noopener noreferrer">#904</a>)</li><li>build(deps): bump dotenv from 9.0.2 to 10.0.0 (<a href="https://github.com/compasjs/compas/pull/906" target="_blank" rel="noopener noreferrer">#906</a>)</li><li>build(deps): bump eslint from 7.26.0 to 7.27.0 (<a href="https://github.com/compasjs/compas/pull/905" target="_blank" rel="noopener noreferrer">#905</a>)</li><li>build(deps): bump eslint-plugin-import from 2.23.2 to 2.23.3 (<a href="https://github.com/compasjs/compas/pull/907" target="_blank" rel="noopener noreferrer">#907</a>)</li><li>chore(store): add analyze before pg bench run</li><li>chore(store): fix linting issue</li><li>feat(cli): add migrate command with rebuild support (<a href="https://github.com/compasjs/compas/pull/898" target="_blank" rel="noopener noreferrer">#898</a>)</li><li>feat(cli): also print when everything is ok for <code>help --check</code></li><li>feat(code-gen): add mime validator support to T.file() (<a href="https://github.com/compasjs/compas/pull/903" target="_blank" rel="noopener noreferrer">#903</a>)</li><li>feat(code-gen): send 400 on param decode errors (<a href="https://github.com/compasjs/compas/pull/902" target="_blank" rel="noopener noreferrer">#902</a>)</li><li>perf(code-gen): improve generated query builder performance (<a href="https://github.com/compasjs/compas/pull/899" target="_blank" rel="noopener noreferrer">#899</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.138.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-137" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.137" target="_blank" rel="noopener noreferrer">v0.0.137</a> <a class="header-anchor" href="#v0-0-137" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint-plugin-jsdoc from 34.8.1 to 34.8.2 (<a href="https://github.com/compasjs/compas/pull/894" target="_blank" rel="noopener noreferrer">#894</a>)</li><li>chore(store): add bench for variations of generated query builder</li><li>feat(store): allow specifying app_name in namespaces.txt (<a href="https://github.com/compasjs/compas/pull/895" target="_blank" rel="noopener noreferrer">#895</a>)</li></ul><h3 id="v0-0-136" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.136" target="_blank" rel="noopener noreferrer">v0.0.136</a> <a class="header-anchor" href="#v0-0-136" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint-plugin-jsdoc from 34.8.0 to 34.8.1 (<a href="https://github.com/compasjs/compas/pull/893" target="_blank" rel="noopener noreferrer">#893</a>)</li><li>fix(stdlib): revert mainFn only running once check (<a href="https://github.com/compasjs/compas/pull/892" target="_blank" rel="noopener noreferrer">#892</a>)</li></ul><h3 id="v0-0-135" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.135" target="_blank" rel="noopener noreferrer">v0.0.135</a> <a class="header-anchor" href="#v0-0-135" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.14.0 to 7.14.3 (<a href="https://github.com/compasjs/compas/pull/875" target="_blank" rel="noopener noreferrer">#875</a>, <a href="https://github.com/compasjs/compas/pull/882" target="_blank" rel="noopener noreferrer">#882</a>)</li><li>build(deps): bump @babel/eslint-parser from 7.13.14 to 7.14.3 (<a href="https://github.com/compasjs/compas/pull/876" target="_blank" rel="noopener noreferrer">#876</a>, <a href="https://github.com/compasjs/compas/pull/884" target="_blank" rel="noopener noreferrer">#884</a>)</li><li>build(deps): bump @types/node from 15.0.2 to 15.3.0 (<a href="https://github.com/compasjs/compas/pull/874" target="_blank" rel="noopener noreferrer">#874</a>, <a href="https://github.com/compasjs/compas/pull/878" target="_blank" rel="noopener noreferrer">#878</a>)</li><li>build(deps): bump eslint-plugin-import from 2.22.1 to 2.23.2 (<a href="https://github.com/compasjs/compas/pull/880" target="_blank" rel="noopener noreferrer">#880</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 34.0.2 to 34.8.0 (<a href="https://github.com/compasjs/compas/pull/877" target="_blank" rel="noopener noreferrer">#877</a>, <a href="https://github.com/compasjs/compas/pull/879" target="_blank" rel="noopener noreferrer">#879</a>, <a href="https://github.com/compasjs/compas/pull/883" target="_blank" rel="noopener noreferrer">#883</a>, <a href="https://github.com/compasjs/compas/pull/888" target="_blank" rel="noopener noreferrer">#888</a>)</li><li>feat(cli): add --check, check if .env.local is ignored (<a href="https://github.com/compasjs/compas/pull/891" target="_blank" rel="noopener noreferrer">#891</a>)</li><li>feat(code-gen): improve generated router performance (<a href="https://github.com/compasjs/compas/pull/873" target="_blank" rel="noopener noreferrer">#873</a>)</li><li>feat(stdlib): load .env.local if exists (<a href="https://github.com/compasjs/compas/pull/890" target="_blank" rel="noopener noreferrer">#890</a>)</li><li>fix(code-gen): transformation for idIn and via combination (<a href="https://github.com/compasjs/compas/pull/889" target="_blank" rel="noopener noreferrer">#889</a>)</li></ul><h3 id="v0-0-134" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.134" target="_blank" rel="noopener noreferrer">v0.0.134</a> <a class="header-anchor" href="#v0-0-134" aria-hidden="true">#</a></h3><ul><li>build(deps): bump dotenv from 9.0.0 to 9.0.2 (<a href="https://github.com/compasjs/compas/pull/865" target="_blank" rel="noopener noreferrer">#865</a>, <a href="https://github.com/compasjs/compas/pull/867" target="_blank" rel="noopener noreferrer">#867</a>)</li><li>build(deps): bump eslint from 7.25.0 to 7.26.0 (<a href="https://github.com/compasjs/compas/pull/862" target="_blank" rel="noopener noreferrer">#862</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 33.1.0 to 34.0.2 (<a href="https://github.com/compasjs/compas/pull/864" target="_blank" rel="noopener noreferrer">#864</a>, <a href="https://github.com/compasjs/compas/pull/868" target="_blank" rel="noopener noreferrer">#868</a>, <a href="https://github.com/compasjs/compas/pull/870" target="_blank" rel="noopener noreferrer">#870</a>)</li><li>build(deps): bump prettier from 2.2.1 to 2.3.0 (<a href="https://github.com/compasjs/compas/pull/863" target="_blank" rel="noopener noreferrer">#863</a>)</li><li>chore: fix changelog formatting</li><li>feat(cli): support running prettier when no files are found (<a href="https://github.com/compasjs/compas/pull/872" target="_blank" rel="noopener noreferrer">#872</a>)</li></ul><h3 id="v0-0-133" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.133" target="_blank" rel="noopener noreferrer">v0.0.133</a> <a class="header-anchor" href="#v0-0-133" aria-hidden="true">#</a></h3><ul><li>bench(stdlib): add event benchmarks (<a href="https://github.com/compasjs/compas/pull/856" target="_blank" rel="noopener noreferrer">#856</a>)</li><li>build(deps): bump dotenv from 8.4.0 to 9.0.0 (<a href="https://github.com/compasjs/compas/pull/857" target="_blank" rel="noopener noreferrer">#857</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 33.0.0 to 33.1.0 (<a href="https://github.com/compasjs/compas/pull/858" target="_blank" rel="noopener noreferrer">#858</a>)</li><li>build(deps): bump handlebars from 4.7.6 to 4.7.7 (<a href="https://github.com/compasjs/compas/pull/860" target="_blank" rel="noopener noreferrer">#860</a>)</li><li>chore: move @compas/insight to @compas/stdlib and @compas/server (<a href="https://github.com/compasjs/compas/pull/855" target="_blank" rel="noopener noreferrer">#855</a>)</li><li>fix(server): handle body parser errors correctly (<a href="https://github.com/compasjs/compas/pull/859" target="_blank" rel="noopener noreferrer">#859</a>)</li></ul><p>Breaking change: @compas/insight is removed. The majority of things should be fixed by running the following command: <code>find ./src -type f -name &quot;*.js&quot; -exec sed -i &#39;s/@compas\/insight/@compas\/stdlib/g&#39; {} \; &amp;&amp; yarn compas lint</code>. Change <code>./src</code> from the previous command if you have multiple source directories (don&#39;t use <code>./</code> as it will include <code>node_modules</code>). Only <code>postgresTableSizes</code> is moved to @compas/store, and should be manually checked. Also removed <code>logger.isProduction()</code> function as it equals <code>isProduction()</code> from @compas/stdlib.</p><h3 id="v0-0-132" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.132" target="_blank" rel="noopener noreferrer">v0.0.132</a> <a class="header-anchor" href="#v0-0-132" aria-hidden="true">#</a></h3><ul><li>bench(store): add benchmarks for the query function (<a href="https://github.com/compasjs/compas/pull/844" target="_blank" rel="noopener noreferrer">#844</a>)</li><li>build(deps): bump @babel/core from 7.13.16 to 7.14.0 (<a href="https://github.com/compasjs/compas/pull/843" target="_blank" rel="noopener noreferrer">#843</a>)</li><li>build(deps): bump @types/node from 14.14.41 to 15.0.2 (<a href="https://github.com/compasjs/compas/pull/835" target="_blank" rel="noopener noreferrer">#835</a>, <a href="https://github.com/compasjs/compas/pull/837" target="_blank" rel="noopener noreferrer">#837</a>, <a href="https://github.com/compasjs/compas/pull/851" target="_blank" rel="noopener noreferrer">#851</a>)</li><li>build(deps): bump c8 from 7.7.1 to 7.7.2 (<a href="https://github.com/compasjs/compas/pull/847" target="_blank" rel="noopener noreferrer">#847</a>)</li><li>build(deps): bump dotenv from 8.2.0 to 8.4.0 (<a href="https://github.com/compasjs/compas/pull/853" target="_blank" rel="noopener noreferrer">#853</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 32.3.1 to 33.0.0 (<a href="https://github.com/compasjs/compas/pull/836" target="_blank" rel="noopener noreferrer">#836</a>, <a href="https://github.com/compasjs/compas/pull/838" target="_blank" rel="noopener noreferrer">#838</a>, <a href="https://github.com/compasjs/compas/pull/842" target="_blank" rel="noopener noreferrer">#842</a>)</li><li>chore: add codecov badge (<a href="https://github.com/compasjs/compas/pull/831" target="_blank" rel="noopener noreferrer">#831</a>)</li><li>chore: add simple license script to scan transitive licenses used</li><li>chore: exclude generated files from coverage reports</li><li>chore: make codecov informational (<a href="https://github.com/compasjs/compas/pull/846" target="_blank" rel="noopener noreferrer">#846</a>)</li><li>chore: use <a href="http://codecov.io" target="_blank" rel="noopener noreferrer">codecov.io</a> for coverage (<a href="https://github.com/compasjs/compas/pull/830" target="_blank" rel="noopener noreferrer">#830</a>)</li><li>feat(cli): check if multiple versions of the stdlib are installed (<a href="https://github.com/compasjs/compas/pull/839" target="_blank" rel="noopener noreferrer">#839</a>)</li><li>feat(code-gen): support escaped characters in disallowCharacters (<a href="https://github.com/compasjs/compas/pull/854" target="_blank" rel="noopener noreferrer">#854</a>)</li><li>fix(cli): improve proxy error messages (<a href="https://github.com/compasjs/compas/pull/849" target="_blank" rel="noopener noreferrer">#849</a>)</li><li>fix(server): simplify sendFile range header parsing (<a href="https://github.com/compasjs/compas/pull/845" target="_blank" rel="noopener noreferrer">#845</a>)</li></ul><h3 id="v0-0-131" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.131" target="_blank" rel="noopener noreferrer">v0.0.131</a> <a class="header-anchor" href="#v0-0-131" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.13.15 to 7.13.16 (<a href="https://github.com/compasjs/compas/pull/819" target="_blank" rel="noopener noreferrer">#819</a>)</li><li>build(deps): bump eslint from 7.24.0 to 7.25.0 (<a href="https://github.com/compasjs/compas/pull/826" target="_blank" rel="noopener noreferrer">#826</a>)</li><li>build(deps): bump eslint-config-prettier from 8.2.0 to 8.3.0 (<a href="https://github.com/compasjs/compas/pull/828" target="_blank" rel="noopener noreferrer">#828</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 32.3.0 to 32.3.1 (<a href="https://github.com/compasjs/compas/pull/823" target="_blank" rel="noopener noreferrer">#823</a>)</li><li>chore(ci): test against Node.js 16</li><li>chore: change default nvm version to Node.js 16</li><li>feat(code-gen): add TypeScript definition for &#39;disallowCharacters&#39;</li><li>feat(code-gen): always export basic queries via an object (<a href="https://github.com/compasjs/compas/pull/829" target="_blank" rel="noopener noreferrer">#829</a>)</li><li>feat(code-gen): support T.string().disallowCharacters() (<a href="https://github.com/compasjs/compas/pull/825" target="_blank" rel="noopener noreferrer">#825</a>)</li><li>fix(code-gen): improve TypeBuilderLike TypeScript type</li><li>fix(store): update type definitions with new job related functions</li></ul><h3 id="v0-0-130" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.130" target="_blank" rel="noopener noreferrer">v0.0.130</a> <a class="header-anchor" href="#v0-0-130" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.13.14 to 7.13.15 (<a href="https://github.com/compasjs/compas/pull/795" target="_blank" rel="noopener noreferrer">#795</a>)</li><li>build(deps): bump @types/node from 14.14.37 to 14.14.41 (<a href="https://github.com/compasjs/compas/pull/807" target="_blank" rel="noopener noreferrer">#807</a>, <a href="https://github.com/compasjs/compas/pull/808" target="_blank" rel="noopener noreferrer">#808</a>)</li><li>build(deps): bump eslint from 7.23.0 to 7.24.0 (<a href="https://github.com/compasjs/compas/pull/798" target="_blank" rel="noopener noreferrer">#798</a>)</li><li>build(deps): bump eslint-config-prettier from 8.1.0 to 8.2.0 (<a href="https://github.com/compasjs/compas/pull/802" target="_blank" rel="noopener noreferrer">#802</a>)</li><li>build(deps): bump postgres from 2.0.0-beta.4 to 2.0.0-beta.5 (<a href="https://github.com/compasjs/compas/pull/799" target="_blank" rel="noopener noreferrer">#799</a>)</li><li>feat(server): replace koa-body with just co-body (<a href="https://github.com/compasjs/compas/pull/812" target="_blank" rel="noopener noreferrer">#812</a>)</li><li>feat(store): support specific job handlers and more timeout options (<a href="https://github.com/compasjs/compas/pull/816" target="_blank" rel="noopener noreferrer">#816</a>)</li><li>fix(code-gen): fix sql type resolve call (<a href="https://github.com/compasjs/compas/pull/814" target="_blank" rel="noopener noreferrer">#814</a>)</li><li>fix(code-gen): remove stacktraces from anyOf sub errors (<a href="https://github.com/compasjs/compas/pull/813" target="_blank" rel="noopener noreferrer">#813</a>)</li><li>fix(store): call eventStart on event passed to handler (<a href="https://github.com/compasjs/compas/pull/815" target="_blank" rel="noopener noreferrer">#815</a>)</li><li>fix(store): move &#39;see&#39; jsdoc tags below the description</li></ul><p>The only breaking change is in the <code>JobQueueWorker</code> which doesn&#39;t have the <code>addJob</code> method. See <a href="https://compasjs.com/features/background-jobs.html" target="_blank" rel="noopener noreferrer">background jobs</a> for more information on the current supported features.</p><h3 id="v0-0-129" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.129" target="_blank" rel="noopener noreferrer">v0.0.129</a> <a class="header-anchor" href="#v0-0-129" aria-hidden="true">#</a></h3><ul><li>chore(ci): another attempt at auto syncing the docs repo</li><li>fix(code-gen): fix setting default value of internal code-gen settings</li></ul><h3 id="v0-0-128" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.128" target="_blank" rel="noopener noreferrer">v0.0.128</a> <a class="header-anchor" href="#v0-0-128" aria-hidden="true">#</a></h3><ul><li>build(deps): bump c8 from 7.7.0 to 7.7.1 (<a href="https://github.com/compasjs/compas/pull/793" target="_blank" rel="noopener noreferrer">#793</a>)</li><li>chore(ci): fix doc sync after release</li><li>feat(stdlib): add helpers to calculate cookie and cors urls (<a href="https://github.com/compasjs/compas/pull/792" target="_blank" rel="noopener noreferrer">#792</a>)</li><li>fix(code-gen): default for internal settings is correct for the type definition (<a href="https://github.com/compasjs/compas/pull/788" target="_blank" rel="noopener noreferrer">#788</a>)</li><li>fix(code-gen): validate for signed integer with default number settings (<a href="https://github.com/compasjs/compas/pull/789" target="_blank" rel="noopener noreferrer">#789</a>)</li></ul><h3 id="v0-0-127" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.127" target="_blank" rel="noopener noreferrer">v0.0.127</a> <a class="header-anchor" href="#v0-0-127" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.13.13 to 7.13.14 (<a href="https://github.com/compasjs/compas/pull/773" target="_blank" rel="noopener noreferrer">#773</a>)</li><li>build(deps): bump @babel/eslint-parser from 7.13.10 to 7.13.14 (<a href="https://github.com/compasjs/compas/pull/772" target="_blank" rel="noopener noreferrer">#772</a>)</li><li>build(deps): bump c8 from 7.6.0 to 7.7.0 (<a href="https://github.com/compasjs/compas/pull/775" target="_blank" rel="noopener noreferrer">#775</a>)</li><li>build(deps): bump koa-session from 6.1.0 to 6.2.0 (<a href="https://github.com/compasjs/compas/pull/774" target="_blank" rel="noopener noreferrer">#774</a>)</li><li>build(deps): bump mime-types from 2.1.29 to 2.1.30 (<a href="https://github.com/compasjs/compas/pull/784" target="_blank" rel="noopener noreferrer">#784</a>)</li><li>chore(ci): fix token for docs sync after release</li><li>feat(insight): support error formatting for Github actions (<a href="https://github.com/compasjs/compas/pull/771" target="_blank" rel="noopener noreferrer">#771</a>)</li><li>fix(cli): prevent ESLint from throwing errors when no JS files are found (<a href="https://github.com/compasjs/compas/pull/783" target="_blank" rel="noopener noreferrer">#783</a>)</li><li>fix(code-gen): use formatData.append for multipart body in the api client (<a href="https://github.com/compasjs/compas/pull/782" target="_blank" rel="noopener noreferrer">#782</a>)</li><li>fix(store): add TS type definition for <code>updateFileGroupOrder</code> (<a href="https://github.com/compasjs/compas/pull/781" target="_blank" rel="noopener noreferrer">#781</a>)</li></ul><h3 id="v0-0-126" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.126" target="_blank" rel="noopener noreferrer">v0.0.126</a> <a class="header-anchor" href="#v0-0-126" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @babel/core from 7.13.10 to 7.13.13 (<a href="https://github.com/compasjs/compas/pull/770" target="_blank" rel="noopener noreferrer">#770</a>)</li><li>build(deps): bump @types/node from 14.14.35 to 14.14.37 (<a href="https://github.com/compasjs/compas/pull/765" target="_blank" rel="noopener noreferrer">#765</a>, <a href="https://github.com/compasjs/compas/pull/769" target="_blank" rel="noopener noreferrer">#769</a>)</li><li>build(deps): bump eslint from 7.22.0 to 7.23.0 (<a href="https://github.com/compasjs/compas/pull/768" target="_blank" rel="noopener noreferrer">#768</a>)</li><li>chore(ci): add git push when updating compas docs</li><li>chore(ci): automate docs sync on release</li><li>feat(code-gen): add error handling case when inferring type on function</li><li>feat(code-gen): add internal setting support, utilize it for OpenAPI form data conversion (<a href="https://github.com/compasjs/compas/pull/767" target="_blank" rel="noopener noreferrer">#767</a>)</li></ul><p>Removed <code>loadFromOpenAPISpec</code> in favor of <code>app.extendWithOpenApi</code></p><h3 id="v0-0-125" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.125" target="_blank" rel="noopener noreferrer">v0.0.125</a> <a class="header-anchor" href="#v0-0-125" aria-hidden="true">#</a></h3><ul><li>chore: add changelog for v0.0.124</li><li>feat(code-gen): throw error on duplicate routes (<a href="https://github.com/compasjs/compas/pull/763" target="_blank" rel="noopener noreferrer">#763</a>)</li><li>feat(code-gen): throw on inferred array with more than a single element (<a href="https://github.com/compasjs/compas/pull/764" target="_blank" rel="noopener noreferrer">#764</a>)</li><li>fix(code-gen): use tsx extension for the <code>common</code> react-query file</li></ul><h3 id="v0-0-124" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.124" target="_blank" rel="noopener noreferrer">v0.0.124</a> <a class="header-anchor" href="#v0-0-124" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.31 to 14.14.35 (<a href="https://github.com/compasjs/compas/pull/740" target="_blank" rel="noopener noreferrer">#740</a>, <a href="https://github.com/compasjs/compas/pull/743" target="_blank" rel="noopener noreferrer">#743</a>, <a href="https://github.com/compasjs/compas/pull/745" target="_blank" rel="noopener noreferrer">#745</a>, <a href="https://github.com/compasjs/compas/pull/748" target="_blank" rel="noopener noreferrer">#748</a>)</li><li>build(deps): bump eslint from 7.21.0 to 7.22.0 (<a href="https://github.com/compasjs/compas/pull/746" target="_blank" rel="noopener noreferrer">#746</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 32.2.0 to 32.3.0 (<a href="https://github.com/compasjs/compas/pull/749" target="_blank" rel="noopener noreferrer">#749</a>)</li><li>chore(ci): use custom token to comment on PR&#39;s</li><li>chore: move to fastify/github-action-merge-dependabot@v2.0.0</li><li>feat(code-gen): generate a code splittable api client (<a href="https://github.com/compasjs/compas/pull/756" target="_blank" rel="noopener noreferrer">#756</a>)</li><li>feat(code-gen): introduce common, split generator output per &#39;group&#39; (<a href="https://github.com/compasjs/compas/pull/758" target="_blank" rel="noopener noreferrer">#758</a>)</li><li>feat(lint-config): move to @babel/eslint-parser (<a href="https://github.com/compasjs/compas/pull/747" target="_blank" rel="noopener noreferrer">#747</a>)</li><li>feat(lint-config): remove no-return-await add require-await (<a href="https://github.com/compasjs/compas/pull/752" target="_blank" rel="noopener noreferrer">#752</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.124.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-123" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.123" target="_blank" rel="noopener noreferrer">v0.0.123</a> <a class="header-anchor" href="#v0-0-123" aria-hidden="true">#</a></h3><ul><li>chore: fix version number in changelog for v0.0.122</li><li>chore: various typos and type fixes</li><li>feat(cli): ignore test runner timeout when detecting open inspector (<a href="https://github.com/compasjs/compas/pull/736" target="_blank" rel="noopener noreferrer">#736</a>)</li><li>feat(code-gen): date validators min,max,future and past options (<a href="https://github.com/compasjs/compas/pull/739" target="_blank" rel="noopener noreferrer">#739</a>)</li><li>feat(stdlib): drop the vendor uuid implementation</li><li>feat(store): batch objects when copying all files over buckets</li></ul><h3 id="v0-0-122" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.122" target="_blank" rel="noopener noreferrer">v0.0.122</a> <a class="header-anchor" href="#v0-0-122" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint from 7.20.0 to 7.21.0 (<a href="https://github.com/compasjs/compas/pull/729" target="_blank" rel="noopener noreferrer">#729</a>)</li><li>chore,feat(insight,cli,store): move to Node.js 15 &amp; integrate AbortSignal (<a href="https://github.com/compasjs/compas/pull/733" target="_blank" rel="noopener noreferrer">#733</a>)</li><li>feat(store): default session maxAge to 30 minutes</li><li>fix(code-gen): sql where notIn should return all results on empty array (<a href="https://github.com/compasjs/compas/pull/728" target="_blank" rel="noopener noreferrer">#728</a>)</li></ul><p>There are some breaking changes related to events, see the commit message for <a href="https://github.com/compasjs/compas/pull/733" target="_blank" rel="noopener noreferrer">#733</a> for more details.</p><h3 id="v0-0-121" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.121" target="_blank" rel="noopener noreferrer">v0.0.121</a> <a class="header-anchor" href="#v0-0-121" aria-hidden="true">#</a></h3><ul><li>fix(code-gen): fix usage of sql &#39;where in&#39; with an empty array and other where field (<a href="https://github.com/compasjs/compas/pull/726" target="_blank" rel="noopener noreferrer">#726</a>)</li></ul><h3 id="v0-0-120" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.120" target="_blank" rel="noopener noreferrer">v0.0.120</a> <a class="header-anchor" href="#v0-0-120" aria-hidden="true">#</a></h3><ul><li>fix(code-gen): allow &#39;optional&#39; order by for deletedAt column (<a href="https://github.com/compasjs/compas/pull/725" target="_blank" rel="noopener noreferrer">#725</a>)</li></ul><h3 id="v0-0-119" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.119" target="_blank" rel="noopener noreferrer">v0.0.119</a> <a class="header-anchor" href="#v0-0-119" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint-config-prettier from 8.0.0 to 8.1.0 (<a href="https://github.com/compasjs/compas/pull/724" target="_blank" rel="noopener noreferrer">#724</a>)</li><li>build(deps): bump eslint-plugin-jsdoc from 32.1.0 to 32.2.0 (<a href="https://github.com/compasjs/compas/pull/715" target="_blank" rel="noopener noreferrer">#715</a>, <a href="https://github.com/compasjs/compas/pull/719" target="_blank" rel="noopener noreferrer">#719</a>)</li><li>feat(code-gen): add sql order by support (<a href="https://github.com/compasjs/compas/pull/721" target="_blank" rel="noopener noreferrer">#721</a>)</li><li>feat(store): remove getNestedFileGroup (<a href="https://github.com/compasjs/compas/pull/723" target="_blank" rel="noopener noreferrer">#723</a>)</li><li>fix(code-gen): fix empty where xxIn behaviour in the sql generator (<a href="https://github.com/compasjs/compas/pull/722" target="_blank" rel="noopener noreferrer">#722</a>)</li><li>fix(code-gen): jsdoc lint compliant output of the api client (<a href="https://github.com/compasjs/compas/pull/717" target="_blank" rel="noopener noreferrer">#717</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.119.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-118" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.118" target="_blank" rel="noopener noreferrer">v0.0.118</a> <a class="header-anchor" href="#v0-0-118" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint-config-prettier from 7.2.0 to 8.0.0 (<a href="https://github.com/compasjs/compas/pull/708" target="_blank" rel="noopener noreferrer">#708</a>)</li><li>chore(ci): improve CI for external contributors (<a href="https://github.com/compasjs/compas/pull/712" target="_blank" rel="noopener noreferrer">#712</a>)</li><li>chore(ci): remove test and lint dependency for benchmark and coverage jobs</li><li>feat(cli): support <code>--jsdoc</code> flag on <code>compas lint</code> (<a href="https://github.com/compasjs/compas/pull/713" target="_blank" rel="noopener noreferrer">#713</a>)</li><li>feat(code-gen): expose baseKeys for generated hooks (<a href="https://github.com/compasjs/compas/pull/709" target="_blank" rel="noopener noreferrer">#709</a>)</li><li>feat(code-gen): make <code>queryKey()</code> generation consistent with <code>baseKey()</code> (<a href="https://github.com/compasjs/compas/pull/714" target="_blank" rel="noopener noreferrer">#714</a>)</li><li>fix(code-gen): ensure a jsdoc stable output without jsdoc linter (<a href="https://github.com/compasjs/compas/pull/711" target="_blank" rel="noopener noreferrer">#711</a>)</li></ul><p>Thanks to <a href="https://github.com/rodymolenaar" target="_blank" rel="noopener noreferrer">@rodymolenaar</a> for the baseKey generation!</p><h3 id="v0-0-117" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.117" target="_blank" rel="noopener noreferrer">v0.0.117</a> <a class="header-anchor" href="#v0-0-117" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.27 to 14.14.31 (<a href="https://github.com/compasjs/compas/pull/689" target="_blank" rel="noopener noreferrer">#689</a>, <a href="https://github.com/compasjs/compas/pull/698" target="_blank" rel="noopener noreferrer">#698</a>, <a href="https://github.com/compasjs/compas/pull/705" target="_blank" rel="noopener noreferrer">#705</a>)</li><li>build(deps): bump c8 from 7.5.0 to 7.6.0 (<a href="https://github.com/compasjs/compas/pull/695" target="_blank" rel="noopener noreferrer">#695</a>)</li><li>build(deps): bump mime-types from 2.1.28 to 2.1.29 (<a href="https://github.com/compasjs/compas/pull/693" target="_blank" rel="noopener noreferrer">#693</a>)</li><li>chore(changelog): skip dev-deps updates in the changelog generator</li><li>ci: add benchmarks as a requirement for dependabot auto merge</li><li>docs(cli): expand exported function documentation for the cli (<a href="https://github.com/compasjs/compas/pull/696" target="_blank" rel="noopener noreferrer">#696</a>)</li><li>docs(server): expand exported function documentation</li><li>docs(store): expand exported function documentation</li><li>feat(code-gen): expose query key functions for generated hooks (<a href="https://github.com/compasjs/compas/pull/702" target="_blank" rel="noopener noreferrer">#702</a>)</li><li>feat(lint-config): add support for JSDoc linting (<a href="https://github.com/compasjs/compas/pull/707" target="_blank" rel="noopener noreferrer">#707</a>)</li><li>fix(code-gen): date validator should support special string cases (<a href="https://github.com/compasjs/compas/pull/706" target="_blank" rel="noopener noreferrer">#706</a>)</li><li>fix(code-gen): fix missing relation type in sub query builder (<a href="https://github.com/compasjs/compas/pull/700" target="_blank" rel="noopener noreferrer">#700</a>)</li><li>fix(stdlib): handle &#39;undefined&#39; in AppError#format (<a href="https://github.com/compasjs/compas/pull/701" target="_blank" rel="noopener noreferrer">#701</a>)</li></ul><p>It is expected that react-query generator consumers move to the generated <code>queryKey</code> functions in this release, as the next release may break the query keys. For JSDoc linting it currenlty is only enabled when the env variable <code>CI</code> is set to <code>true</code>, so <code>CI=true yarn compas lint</code>. Thanks to <a href="https://github.com/tjonger" target="_blank" rel="noopener noreferrer">@tjonger</a> for the query builder fix!</p><h3 id="v0-0-116" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.116" target="_blank" rel="noopener noreferrer">v0.0.116</a> <a class="header-anchor" href="#v0-0-116" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.25 to 14.14.27 (<a href="https://github.com/compasjs/compas/pull/672" target="_blank" rel="noopener noreferrer">#672</a>, <a href="https://github.com/compasjs/compas/pull/680" target="_blank" rel="noopener noreferrer">#680</a>)</li><li>build(deps): bump eslint from 7.19.0 to 7.20.0 (<a href="https://github.com/compasjs/compas/pull/681" target="_blank" rel="noopener noreferrer">#681</a>)</li><li>build(deps): bump postgres from 2.0.0-beta.3 to 2.0.0-beta.4 (<a href="https://github.com/compasjs/compas/pull/683" target="_blank" rel="noopener noreferrer">#683</a>)</li><li>build(deps-dev): bump @types/react from 17.0.1 to 17.0.2 (<a href="https://github.com/compasjs/compas/pull/679" target="_blank" rel="noopener noreferrer">#679</a>)</li><li>build(deps-dev): bump react-query from 3.8.2 to 3.9.4 (<a href="https://github.com/compasjs/compas/pull/671" target="_blank" rel="noopener noreferrer">#671</a>, <a href="https://github.com/compasjs/compas/pull/682" target="_blank" rel="noopener noreferrer">#682</a>, <a href="https://github.com/compasjs/compas/pull/686" target="_blank" rel="noopener noreferrer">#686</a>)</li><li>build(deps-dev): bump typescript from 4.1.3 to 4.1.5 (<a href="https://github.com/compasjs/compas/pull/669" target="_blank" rel="noopener noreferrer">#669</a>, <a href="https://github.com/compasjs/compas/pull/670" target="_blank" rel="noopener noreferrer">#670</a>)</li><li>docs(stdlib): expand a bunch of doc blocks on exported functions</li><li>docs: fix order of website synced files</li><li>feat(code-gen): stable query builder join key generation (<a href="https://github.com/compasjs/compas/pull/684" target="_blank" rel="noopener noreferrer">#684</a>)</li><li>feat(stdlib): remove pipeline from streamToBuffer (<a href="https://github.com/compasjs/compas/pull/687" target="_blank" rel="noopener noreferrer">#687</a>)</li><li>feat(store): add event to queue worker handler (<a href="https://github.com/compasjs/compas/pull/685" target="_blank" rel="noopener noreferrer">#685</a>)</li><li>fix(cli): proper exit on test worker failure (<a href="https://github.com/compasjs/compas/pull/668" target="_blank" rel="noopener noreferrer">#668</a>)</li><li>fix(cli,store): fix dynamic imports with absolute url on windows (<a href="https://github.com/compasjs/compas/pull/667" target="_blank" rel="noopener noreferrer">#667</a>)</li><li>fix(stdlib): force use of Posix path join (<a href="https://github.com/compasjs/compas/pull/676" target="_blank" rel="noopener noreferrer">#676</a>)</li></ul><p>The only breaking change can be found in <a href="https://github.com/compasjs/compas/issues/674" target="_blank" rel="noopener noreferrer">this issue</a>.</p><h3 id="v0-0-115" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.115" target="_blank" rel="noopener noreferrer">v0.0.115</a> <a class="header-anchor" href="#v0-0-115" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.22 to 14.14.25 (<a href="https://github.com/compasjs/compas/pull/652" target="_blank" rel="noopener noreferrer">#652</a>, <a href="https://github.com/compasjs/compas/pull/658" target="_blank" rel="noopener noreferrer">#658</a>)</li><li>build(deps-dev): bump @types/react from 17.0.0 to 17.0.1 (<a href="https://github.com/compasjs/compas/pull/650" target="_blank" rel="noopener noreferrer">#650</a>)</li><li>build(deps-dev): bump fastest-validator from 1.9.0 to 1.10.0 (<a href="https://github.com/compasjs/compas/pull/653" target="_blank" rel="noopener noreferrer">#653</a>)</li><li>build(deps-dev): bump react-query from 3.6.0 to 3.8.2 (<a href="https://github.com/compasjs/compas/pull/659" target="_blank" rel="noopener noreferrer">#659</a>, <a href="https://github.com/compasjs/compas/pull/664" target="_blank" rel="noopener noreferrer">#664</a>)</li><li>code-gen: add error for unused oneToMany relations (<a href="https://github.com/compasjs/compas/pull/657" target="_blank" rel="noopener noreferrer">#657</a>)</li><li>code-gen: support multiple &#39;viaXxx&#39; in the query builder (<a href="https://github.com/compasjs/compas/pull/661" target="_blank" rel="noopener noreferrer">#661</a>)</li><li>docs: consistent JSDoc return usage, add since tag to insight exports</li><li>feat(store): handler timeout for job queue (<a href="https://github.com/compasjs/compas/pull/663" target="_blank" rel="noopener noreferrer">#663</a>)</li><li>feat(store): max retry count on job failures (<a href="https://github.com/compasjs/compas/pull/662" target="_blank" rel="noopener noreferrer">#662</a>)</li><li>server: catch errors while creating and closing a test app (<a href="https://github.com/compasjs/compas/pull/656" target="_blank" rel="noopener noreferrer">#656</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.115.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-114" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.114" target="_blank" rel="noopener noreferrer">v0.0.114</a> <a class="header-anchor" href="#v0-0-114" aria-hidden="true">#</a></h3><ul><li>build(deps): bump c8 from 7.4.0 to 7.5.0 (<a href="https://github.com/compasjs/compas/pull/641" target="_blank" rel="noopener noreferrer">#641</a>)</li><li>ci: revert release automation, go back to auto changelog</li><li>code-gen: add file validator support (<a href="https://github.com/compasjs/compas/pull/649" target="_blank" rel="noopener noreferrer">#649</a>)</li><li>code-gen: fix field types of update partial for optional fields (<a href="https://github.com/compasjs/compas/pull/647" target="_blank" rel="noopener noreferrer">#647</a>)</li><li>code-gen: fix float support in sql structure generator (<a href="https://github.com/compasjs/compas/pull/646" target="_blank" rel="noopener noreferrer">#646</a>)</li><li>store: add stringifyQueryPart function (<a href="https://github.com/compasjs/compas/pull/648" target="_blank" rel="noopener noreferrer">#648</a>)</li></ul><h3 id="v0-0-113" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.113" target="_blank" rel="noopener noreferrer">v0.0.113</a> <a class="header-anchor" href="#v0-0-113" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint from 7.18.0 to 7.19.0 (<a href="https://github.com/compasjs/compas/pull/634" target="_blank" rel="noopener noreferrer">#634</a>)</li><li>chore: fix lint of workflow files</li><li>ci: auto-merge dependabot PR&#39;s</li><li>ci: automate release process (<a href="https://github.com/compasjs/compas/pull/635" target="_blank" rel="noopener noreferrer">#635</a>)</li><li>ci: use default merge method for dependabot PR&#39;s</li><li>code-gen: detect reference recursion when converting from OpenApi (<a href="https://github.com/compasjs/compas/pull/640" target="_blank" rel="noopener noreferrer">#640</a>)</li><li>code-gen: error when JS keywords are used as group names (<a href="https://github.com/compasjs/compas/pull/638" target="_blank" rel="noopener noreferrer">#638</a>)</li><li>code-gen: fix names for optional, pick, omit and searchable type (<a href="https://github.com/compasjs/compas/pull/639" target="_blank" rel="noopener noreferrer">#639</a>)</li></ul><h3 id="v0-0-112" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.112" target="_blank" rel="noopener noreferrer">v0.0.112</a> <a class="header-anchor" href="#v0-0-112" aria-hidden="true">#</a></h3><ul><li>code-gen: add $raw to generated where clause builder (<a href="https://github.com/compasjs/compas/pull/633" target="_blank" rel="noopener noreferrer">#633</a>)</li><li>code-gen: simplify generated select query via query builder (<a href="https://github.com/compasjs/compas/pull/632" target="_blank" rel="noopener noreferrer">#632</a>)</li><li>code-gen: throw when generated queryBuilder function is awaited (<a href="https://github.com/compasjs/compas/pull/631" target="_blank" rel="noopener noreferrer">#631</a>)</li></ul><h3 id="v0-0-111" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.111" target="_blank" rel="noopener noreferrer">v0.0.111</a> <a class="header-anchor" href="#v0-0-111" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.21 to 14.14.22 (<a href="https://github.com/compasjs/compas/pull/622" target="_blank" rel="noopener noreferrer">#622</a>)</li><li>build(deps): bump eslint-config-prettier from 7.1.0 to 7.2.0 (<a href="https://github.com/compasjs/compas/pull/621" target="_blank" rel="noopener noreferrer">#621</a>)</li><li>build(deps): bump postgres from 2.0.0-beta.2 to 2.0.0-beta.3 (<a href="https://github.com/compasjs/compas/pull/623" target="_blank" rel="noopener noreferrer">#623</a>)</li><li>build(deps-dev): bump react-query from 3.5.15 to 3.6.0 (<a href="https://github.com/compasjs/compas/pull/620" target="_blank" rel="noopener noreferrer">#620</a>, <a href="https://github.com/compasjs/compas/pull/627" target="_blank" rel="noopener noreferrer">#627</a>)</li><li>cli: cleaner test output on failed results (<a href="https://github.com/compasjs/compas/pull/628" target="_blank" rel="noopener noreferrer">#628</a>)</li><li>code-gen: generate queries per model in a file (<a href="https://github.com/compasjs/compas/pull/629" target="_blank" rel="noopener noreferrer">#629</a>)</li><li>stdlib: add types to process errors (<a href="https://github.com/compasjs/compas/pull/626" target="_blank" rel="noopener noreferrer">#626</a>)</li><li>stdlib: use crypto randomUUID if available (<a href="https://github.com/compasjs/compas/pull/619" target="_blank" rel="noopener noreferrer">#619</a>)</li><li>store: force call <code>setStoreQueries</code> (<a href="https://github.com/compasjs/compas/pull/630" target="_blank" rel="noopener noreferrer">#630</a>)</li></ul><h3 id="v0-0-110" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.110" target="_blank" rel="noopener noreferrer">v0.0.110</a> <a class="header-anchor" href="#v0-0-110" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.20 to 14.14.21 (<a href="https://github.com/compasjs/compas/pull/610" target="_blank" rel="noopener noreferrer">#610</a>)</li><li>build(deps): bump chokidar from 3.5.0 to 3.5.1 (<a href="https://github.com/compasjs/compas/pull/614" target="_blank" rel="noopener noreferrer">#614</a>)</li><li>build(deps): bump eslint from 7.17.0 to 7.18.0 (<a href="https://github.com/compasjs/compas/pull/613" target="_blank" rel="noopener noreferrer">#613</a>)</li><li>build(deps-dev): bump react-query from 3.5.12 to 3.5.15 (<a href="https://github.com/compasjs/compas/pull/612" target="_blank" rel="noopener noreferrer">#612</a> , <a href="https://github.com/compasjs/compas/pull/615" target="_blank" rel="noopener noreferrer">#615</a>)</li><li>chore: minor comment and type fixes</li><li>chore: update order of changelog and contributing</li><li>code-gen: add possible type results to the query builder functions (<a href="https://github.com/compasjs/compas/pull/618" target="_blank" rel="noopener noreferrer">#618</a>)</li><li>code-gen: fix name clash for self referencing tables in the query-builder (<a href="https://github.com/compasjs/compas/pull/616" target="_blank" rel="noopener noreferrer">#616</a>)</li></ul><h3 id="v0-0-109" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.109" target="_blank" rel="noopener noreferrer">v0.0.109</a> <a class="header-anchor" href="#v0-0-109" aria-hidden="true">#</a></h3><ul><li>build(deps-dev): bump react-query from 3.5.11 to 3.5.12 (<a href="https://github.com/compasjs/compas/pull/608" target="_blank" rel="noopener noreferrer">#608</a>)</li><li>chore: fix linting on CI</li><li>chore: various code-gen OpenAPI fixes + bench using Github API spec (<a href="https://github.com/compasjs/compas/pull/609" target="_blank" rel="noopener noreferrer">#609</a>)</li><li>cli: harden test runner by waiting till all results are collected from the workers</li><li>code-gen: add support for idempotent routes (<a href="https://github.com/compasjs/compas/pull/607" target="_blank" rel="noopener noreferrer">#607</a>)</li><li>store: format caught job queue errors</li><li>bench: create benchmark against the Github v3 API</li><li>code-gen: transform named types in the OpenAPI importer</li><li>code-gen: support default and optional path and query params in openAPI converter</li><li>code-gen: deep copy validation result on App extend</li></ul><h3 id="v0-0-108" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.108" target="_blank" rel="noopener noreferrer">v0.0.108</a> <a class="header-anchor" href="#v0-0-108" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/minio from 7.0.6 to 7.0.7 (<a href="https://github.com/compasjs/compas/pull/596" target="_blank" rel="noopener noreferrer">#596</a>)</li><li>build(deps): bump @types/node from 14.14.19 to 14.14.20 (<a href="https://github.com/compasjs/compas/pull/584" target="_blank" rel="noopener noreferrer">#584</a>)</li><li>build(deps): bump chokidar from 3.4.3 to 3.5.0 (<a href="https://github.com/compasjs/compas/pull/594" target="_blank" rel="noopener noreferrer">#594</a>)</li><li>build(deps): bump koa from 2.13.0 to 2.13.1 (<a href="https://github.com/compasjs/compas/pull/585" target="_blank" rel="noopener noreferrer">#585</a>)</li><li>build(deps-dev): bump react-query from 3.5.9 to 3.5.11 (<a href="https://github.com/compasjs/compas/pull/592" target="_blank" rel="noopener noreferrer">#592</a>, <a href="https://github.com/compasjs/compas/pull/586" target="_blank" rel="noopener noreferrer">#586</a>)</li><li>chore: fix changelog for v0.0.107</li><li>chore: verify oneToOneReverse sql builder</li><li>cli: add verbose option to proxy (<a href="https://github.com/compasjs/compas/pull/587" target="_blank" rel="noopener noreferrer">#587</a>)</li><li>cli: bump dependencies for template</li><li>code-gen: add support for sql ILIKE (<a href="https://github.com/compasjs/compas/pull/599" target="_blank" rel="noopener noreferrer">#599</a>)</li><li>code-gen: allow custom shortName and detect duplicate short names (<a href="https://github.com/compasjs/compas/pull/602" target="_blank" rel="noopener noreferrer">#602</a>)</li><li>code-gen: fix loading of patterns via OpenAPI spec (<a href="https://github.com/compasjs/compas/pull/601" target="_blank" rel="noopener noreferrer">#601</a>)</li><li>code-gen: generated router should work without events on the context (<a href="https://github.com/compasjs/compas/pull/591" target="_blank" rel="noopener noreferrer">#591</a>)</li><li>server: add option to logger to disable event creation and logging (<a href="https://github.com/compasjs/compas/pull/590" target="_blank" rel="noopener noreferrer">#590</a>)</li><li>store: prioritize priority over scheduled at in JobWorker (<a href="https://github.com/compasjs/compas/pull/600" target="_blank" rel="noopener noreferrer">#600</a>)</li><li>store: remove duplicate recurring jobs when recurring job is registered</li><li>store: use different internal function for minio listObjects</li></ul><h3 id="v0-0-107" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.107" target="_blank" rel="noopener noreferrer">v0.0.107</a> <a class="header-anchor" href="#v0-0-107" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.16 to 14.14.19 (<a href="https://github.com/compasjs/compas/pull/577" target="_blank" rel="noopener noreferrer">#577</a>, <a href="https://github.com/compasjs/compas/pull/580" target="_blank" rel="noopener noreferrer">#580</a>)</li><li>build(deps): bump c8 from 7.3.5 to 7.4.0 (<a href="https://github.com/compasjs/compas/pull/578" target="_blank" rel="noopener noreferrer">#578</a>)</li><li>build(deps): bump eslint from 7.16.0 to 7.17.0 (<a href="https://github.com/compasjs/compas/pull/581" target="_blank" rel="noopener noreferrer">#581</a>)</li><li>build(deps): bump mime-types from 2.1.27 to 2.1.28 (<a href="https://github.com/compasjs/compas/pull/579" target="_blank" rel="noopener noreferrer">#579</a>)</li><li>build(deps-dev): bump react-query from 3.5.5 to 3.5.9 (<a href="https://github.com/compasjs/compas/pull/576" target="_blank" rel="noopener noreferrer">#576</a>, <a href="https://github.com/compasjs/compas/pull/582" target="_blank" rel="noopener noreferrer">#582</a>)</li><li>chore: fix changelog script to accomadate for front-matter</li><li>chore: remove all references to docs in this repo</li><li>cli: add parallel test running and order randomizer (<a href="https://github.com/compasjs/compas/pull/575" target="_blank" rel="noopener noreferrer">#575</a>)</li><li>cli: add test case for visualise with arguments</li><li>cli: fix watch and restart behaviour of long running processes (<a href="https://github.com/compasjs/compas/pull/583" target="_blank" rel="noopener noreferrer">#583</a>)</li><li>docs: move all docs to the docs repo</li><li>insight: logger write pretty in a single call</li><li>stdlib: fix promise printing on unhandledRejections</li><li>store: await connection closes on errors in migrations</li><li>store: fix flaky test postgres connections</li></ul><h3 id="v0-0-106" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.106" target="_blank" rel="noopener noreferrer">v0.0.106</a> <a class="header-anchor" href="#v0-0-106" aria-hidden="true">#</a></h3><ul><li>*: remove @name usage in JSDoc</li><li>build(deps): bump @types/node from 14.14.14 to 14.14.16 (<a href="https://github.com/compasjs/compas/pull/569" target="_blank" rel="noopener noreferrer">#569</a>)</li><li>build(deps-dev): bump react-query from 3.4.1 to 3.5.5 (<a href="https://github.com/compasjs/compas/pull/570" target="_blank" rel="noopener noreferrer">#570</a>)</li><li>code-gen: generate some default type imports for sql and router generator (<a href="https://github.com/compasjs/compas/pull/571" target="_blank" rel="noopener noreferrer">#571</a>)</li><li>insight,stdlib: stricter NODE_ENV checks (<a href="https://github.com/compasjs/compas/pull/572" target="_blank" rel="noopener noreferrer">#572</a>)</li><li>store: rename isQueryObject to isQueryPart (<a href="https://github.com/compasjs/compas/pull/573" target="_blank" rel="noopener noreferrer">#573</a>)</li></ul><h3 id="v0-0-105" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.105" target="_blank" rel="noopener noreferrer">v0.0.105</a> <a class="header-anchor" href="#v0-0-105" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint from 7.15.0 to 7.16.0 (<a href="https://github.com/compasjs/compas/pull/557" target="_blank" rel="noopener noreferrer">#557</a>)</li><li>build(deps): bump eslint-config-prettier from 7.0.0 to 7.1.0 (<a href="https://github.com/compasjs/compas/pull/556" target="_blank" rel="noopener noreferrer">#556</a>)</li><li>build(deps-dev): bump axios from 0.21.0 to 0.21.1 (<a href="https://github.com/compasjs/compas/pull/561" target="_blank" rel="noopener noreferrer">#561</a>)</li><li>build(deps-dev): bump react-query from 3.4.0 to 3.4.1 (<a href="https://github.com/compasjs/compas/pull/562" target="_blank" rel="noopener noreferrer">#562</a>)</li><li>cli: fix usage of code-gen internals in visualise (<a href="https://github.com/compasjs/compas/pull/563" target="_blank" rel="noopener noreferrer">#563</a>)</li><li>code-gen: fix duplicate check and hash calculation for validators (<a href="https://github.com/compasjs/compas/pull/565" target="_blank" rel="noopener noreferrer">#565</a>)</li><li>code-gen: remove getGroupsThatIncludeType (<a href="https://github.com/compasjs/compas/pull/564" target="_blank" rel="noopener noreferrer">#564</a>)</li></ul><h3 id="v0-0-104" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.104" target="_blank" rel="noopener noreferrer">v0.0.104</a> <a class="header-anchor" href="#v0-0-104" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.11 to 14.14.14 (<a href="https://github.com/compasjs/compas/pull/545" target="_blank" rel="noopener noreferrer">#545</a>, <a href="https://github.com/compasjs/compas/pull/548" target="_blank" rel="noopener noreferrer">#548</a>, <a href="https://github.com/compasjs/compas/pull/552" target="_blank" rel="noopener noreferrer">#552</a>)</li><li>build(deps): bump ini from 1.3.5 to 1.3.7 (<a href="https://github.com/compasjs/compas/pull/546" target="_blank" rel="noopener noreferrer">#546</a>)</li><li>build(deps): bump minio from 7.0.17 to 7.0.18 (<a href="https://github.com/compasjs/compas/pull/553" target="_blank" rel="noopener noreferrer">#553</a>)</li><li>build(deps-dev): bump react-query from 2.26.4 to 3.4.0 (<a href="https://github.com/compasjs/compas/pull/550" target="_blank" rel="noopener noreferrer">#550</a>, <a href="https://github.com/compasjs/compas/pull/554" target="_blank" rel="noopener noreferrer">#554</a>, <a href="https://github.com/compasjs/compas/pull/555" target="_blank" rel="noopener noreferrer">#555</a>)</li><li>build(deps-dev): bump typescript from 4.1.2 to 4.1.3 (<a href="https://github.com/compasjs/compas/pull/549" target="_blank" rel="noopener noreferrer">#549</a>)</li><li>build(deps-dev): bump yup from 0.32.6 to 0.32.8 (<a href="https://github.com/compasjs/compas/pull/544" target="_blank" rel="noopener noreferrer">#544</a>)</li><li>chore: only run CodeQL checks on main</li><li>code-gen: remove App#new</li><li>code-gen: remove trailing dot from propertyPath when validating query arguments (<a href="https://github.com/compasjs/compas/pull/543" target="_blank" rel="noopener noreferrer">#543</a>)</li><li>code-gen: support react-query v3</li></ul><h3 id="v0-0-103" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.103" target="_blank" rel="noopener noreferrer">v0.0.103</a> <a class="header-anchor" href="#v0-0-103" aria-hidden="true">#</a></h3><ul><li>bench: make validator benchmarks more comparable (<a href="https://github.com/compasjs/compas/pull/536" target="_blank" rel="noopener noreferrer">#536</a>)</li><li>build(deps): bump @types/node from 14.14.9 to 14.14.11 (<a href="https://github.com/compasjs/compas/pull/541" target="_blank" rel="noopener noreferrer">#541</a>, <a href="https://github.com/compasjs/compas/pull/513" target="_blank" rel="noopener noreferrer">#513</a>)</li><li>build(deps): bump eslint from 7.14.0 to 7.15.0 (<a href="https://github.com/compasjs/compas/pull/531" target="_blank" rel="noopener noreferrer">#531</a>)</li><li>build(deps): bump eslint-config-prettier from 6.15.0 to 7.0.0 (<a href="https://github.com/compasjs/compas/pull/537" target="_blank" rel="noopener noreferrer">#537</a>)</li><li>build(deps): bump minio from 7.0.16 to 7.0.17 (<a href="https://github.com/compasjs/compas/pull/512" target="_blank" rel="noopener noreferrer">#512</a>)</li><li>build(deps): bump prettier from 2.2.0 to 2.2.1 (<a href="https://github.com/compasjs/compas/pull/520" target="_blank" rel="noopener noreferrer">#520</a>)</li><li>build(deps-dev): bump react-query from 2.26.3 to 2.26.4 (<a href="https://github.com/compasjs/compas/pull/538" target="_blank" rel="noopener noreferrer">#538</a>)</li><li>build(deps-dev): bump yup from 0.30.0 to 0.32.6 (<a href="https://github.com/compasjs/compas/pull/510" target="_blank" rel="noopener noreferrer">#510</a>, <a href="https://github.com/compasjs/compas/pull/528" target="_blank" rel="noopener noreferrer">#528</a>, <a href="https://github.com/compasjs/compas/pull/529" target="_blank" rel="noopener noreferrer">#529</a>, <a href="https://github.com/compasjs/compas/pull/530" target="_blank" rel="noopener noreferrer">#530</a>, <a href="https://github.com/compasjs/compas/pull/539" target="_blank" rel="noopener noreferrer">#539</a>, <a href="https://github.com/compasjs/compas/pull/540" target="_blank" rel="noopener noreferrer">#540</a>)</li><li>chore: bump dependabot config so github picks it up</li><li>chore: checkout CodeQL</li><li>chore: initial release notes for 0.0.103 (<a href="https://github.com/compasjs/compas/pull/527" target="_blank" rel="noopener noreferrer">#527</a>)</li><li>chore: remove external checks on CI</li><li>chore: rename lbu to compas</li><li>code-gen: add dumpApiStructure and throwingValidators options (<a href="https://github.com/compasjs/compas/pull/534" target="_blank" rel="noopener noreferrer">#534</a>)</li><li>code-gen: add support for OR in the sql where partials (<a href="https://github.com/compasjs/compas/pull/518" target="_blank" rel="noopener noreferrer">#518</a>)</li><li>code-gen: add support for custom any validators (<a href="https://github.com/compasjs/compas/pull/517" target="_blank" rel="noopener noreferrer">#517</a>)</li><li>code-gen: almost always inline &#39;any&#39; validators</li><li>code-gen: decently stable hash calculation for anonymous validators (<a href="https://github.com/compasjs/compas/pull/519" target="_blank" rel="noopener noreferrer">#519</a>)</li><li>code-gen: fix generic type sql transformer</li><li>code-gen: fix property access quoting in sql result transformers</li><li>code-gen: inline basic validators (<a href="https://github.com/compasjs/compas/pull/521" target="_blank" rel="noopener noreferrer">#521</a>)</li><li>code-gen: introduce query-builder, drop query-traverser (<a href="https://github.com/compasjs/compas/pull/511" target="_blank" rel="noopener noreferrer">#511</a>)</li><li>code-gen: remove validatorSetError (<a href="https://github.com/compasjs/compas/pull/535" target="_blank" rel="noopener noreferrer">#535</a>)</li><li>code-gen: simplify object strict validation</li><li>code-gen: validators for sql where and builders (<a href="https://github.com/compasjs/compas/pull/526" target="_blank" rel="noopener noreferrer">#526</a>)</li><li>code-gen: various inline validator fixes, inline booleans</li><li>docs: use a Jekyll plugin to generate the sitemap</li><li>lint-config: add no-unsafe-optional-chain rule to lint config (<a href="https://github.com/compasjs/compas/pull/533" target="_blank" rel="noopener noreferrer">#533</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.103.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-102" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.102" target="_blank" rel="noopener noreferrer">v0.0.102</a> <a class="header-anchor" href="#v0-0-102" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.7 to 14.14.9 (<a href="https://github.com/compasjs/compas/pull/493" target="_blank" rel="noopener noreferrer">#493</a>, <a href="https://github.com/compasjs/compas/pull/501" target="_blank" rel="noopener noreferrer">#501</a>)</li><li>build(deps): bump eslint from 7.13.0 to 7.14.0 (<a href="https://github.com/compasjs/compas/pull/504" target="_blank" rel="noopener noreferrer">#504</a>)</li><li>build(deps): bump prettier from 2.1.2 to 2.2.0 (<a href="https://github.com/compasjs/compas/pull/505" target="_blank" rel="noopener noreferrer">#505</a>)</li><li>build(deps-dev): bump fastest-validator from 1.8.0 to 1.9.0 (<a href="https://github.com/compasjs/compas/pull/492" target="_blank" rel="noopener noreferrer">#492</a>)</li><li>build(deps-dev): bump react-query from 2.26.2 to 2.26.3 (<a href="https://github.com/compasjs/compas/pull/503" target="_blank" rel="noopener noreferrer">#503</a>)</li><li>build(deps-dev): bump typescript from 4.0.5 to 4.1.2 (<a href="https://github.com/compasjs/compas/pull/500" target="_blank" rel="noopener noreferrer">#500</a>)</li><li>build(deps-dev): bump yup from 0.29.3 to 0.30.0 (<a href="https://github.com/compasjs/compas/pull/499" target="_blank" rel="noopener noreferrer">#499</a>)</li><li>ci: move to new set-env way (<a href="https://github.com/compasjs/compas/pull/496" target="_blank" rel="noopener noreferrer">#496</a>)</li><li>code-gen: deduplicate values passed to anyOf (<a href="https://github.com/compasjs/compas/pull/506" target="_blank" rel="noopener noreferrer">#506</a>)</li><li>code-gen: support not defined route responses (<a href="https://github.com/compasjs/compas/pull/507" target="_blank" rel="noopener noreferrer">#507</a>)</li><li>lint-config: use meriyah parser in prettier, disable eslint import rules</li><li>stdlib: improve error formatting (<a href="https://github.com/compasjs/compas/pull/502" target="_blank" rel="noopener noreferrer">#502</a>)</li></ul><p>Overall a few small breaking changes. We format errors with AppError#format in more places now, which should result in consistent behaviour. Running <code>yarn compoas lint</code> should be 10 - 20 % faster than before, however this also meant disabling some slow rules related to analyzing imports, namely <code>import/named, import/namespace &amp; import/export</code>.</p><p>Not sure what the timeline will be on the next release, because the <a href="https://github.com/compasjs/compas/issues/388" target="_blank" rel="noopener noreferrer">query-builder</a> is somewhat more complex than expected.</p><h3 id="v0-0-101" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.101" target="_blank" rel="noopener noreferrer">v0.0.101</a> <a class="header-anchor" href="#v0-0-101" aria-hidden="true">#</a></h3><ul><li HOST,USER,PASSWORD,DATABASE="">store: support POSTGRES_</li></ul><h3 id="v0-0-100" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.100" target="_blank" rel="noopener noreferrer">v0.0.100</a> <a class="header-anchor" href="#v0-0-100" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.6 to 14.14.7 (<a href="https://github.com/compasjs/compas/pull/486" target="_blank" rel="noopener noreferrer">#486</a>)</li><li>cli: better timeout error message in the test runner</li><li>cli: log response status in proxy (<a href="https://github.com/compasjs/compas/pull/489" target="_blank" rel="noopener noreferrer">#489</a>)</li><li>code-gen: better error message when loading from remote.</li><li>code-gen: support setting primary key in generated insert queries (<a href="https://github.com/compasjs/compas/pull/491" target="_blank" rel="noopener noreferrer">#491</a>)</li><li>server: expose x-request-id in CORS headers (<a href="https://github.com/compasjs/compas/pull/490" target="_blank" rel="noopener noreferrer">#490</a>)</li></ul><h3 id="v0-0-99" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.99" target="_blank" rel="noopener noreferrer">v0.0.99</a> <a class="header-anchor" href="#v0-0-99" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint from 7.12.1 to 7.13.0 (<a href="https://github.com/compasjs/compas/pull/485" target="_blank" rel="noopener noreferrer">#485</a>)</li><li>build(deps-dev): bump react from 16.14.0 to 17.0.1 (<a href="https://github.com/compasjs/compas/pull/478" target="_blank" rel="noopener noreferrer">#478</a>)</li><li>cli: better error messages when graphviz is not installed (<a href="https://github.com/compasjs/compas/pull/480" target="_blank" rel="noopener noreferrer">#480</a>)</li><li>cli: visualise use format and output from cli arguments (<a href="https://github.com/compasjs/compas/pull/484" target="_blank" rel="noopener noreferrer">#484</a>)</li><li>code-gen: add raw value support to AnyType</li><li>code-gen: fix deletedAt check with Date in the future (<a href="https://github.com/compasjs/compas/pull/483" target="_blank" rel="noopener noreferrer">#483</a>)</li><li>code-gen: micro optimization in array validators</li></ul><p>The most notable feature is <code>T.any().raw(&quot;QueryPart&quot;, { typeScript: &quot;import { QueryPart } from &#39;@lbu/store&#39;;&quot; })</code> support. This allows you to generate correct typings and integrate with native types provided by the platform or other packages. There should be no breaking changes.</p><h3 id="v0-0-98" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.98" target="_blank" rel="noopener noreferrer">v0.0.98</a> <a class="header-anchor" href="#v0-0-98" aria-hidden="true">#</a></h3><ul><li>build(deps-dev): bump react-query from 2.25.2 to 2.26.2 (<a href="https://github.com/compasjs/compas/pull/465" target="_blank" rel="noopener noreferrer">#465</a>, <a href="https://github.com/compasjs/compas/pull/474" target="_blank" rel="noopener noreferrer">#474</a>)</li><li>cli: add visualise command, sql only (<a href="https://github.com/compasjs/compas/pull/472" target="_blank" rel="noopener noreferrer">#472</a>)</li><li>code-gen: add field checks to partials when on staging (<a href="https://github.com/compasjs/compas/pull/477" target="_blank" rel="noopener noreferrer">#477</a>)</li><li>code-gen: various small fixes (<a href="https://github.com/compasjs/compas/pull/475" target="_blank" rel="noopener noreferrer">#475</a>)</li><li>store: various migration error handling improvements (<a href="https://github.com/compasjs/compas/pull/476" target="_blank" rel="noopener noreferrer">#476</a>)</li></ul><p>No release notes, but migration file has changed, so a database reset is necessary. We also are stricter on input values in the query partials, so expect tests breaking.</p><h3 id="v0-0-97" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.97" target="_blank" rel="noopener noreferrer">v0.0.97</a> <a class="header-anchor" href="#v0-0-97" aria-hidden="true">#</a></h3><ul><li>code-gen: fix generating ES Modules when it&#39;s not needed</li></ul><h3 id="v0-0-96" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.96" target="_blank" rel="noopener noreferrer">v0.0.96</a> <a class="header-anchor" href="#v0-0-96" aria-hidden="true">#</a></h3><ul><li>bench: add yup and fastest-validators to the benchmarks (<a href="https://github.com/compasjs/compas/pull/463" target="_blank" rel="noopener noreferrer">#463</a>)</li><li>code-gen: always use string for date in browser environments</li><li>code-gen: only use an extensions in imports in ES Modules (<a href="https://github.com/compasjs/compas/pull/464" target="_blank" rel="noopener noreferrer">#464</a>)</li></ul><h3 id="v0-0-95" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.95" target="_blank" rel="noopener noreferrer">v0.0.95</a> <a class="header-anchor" href="#v0-0-95" aria-hidden="true">#</a></h3><ul><li>code-gen: some refactoring for more correct type output</li></ul><h3 id="v0-0-94" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.94" target="_blank" rel="noopener noreferrer">v0.0.94</a> <a class="header-anchor" href="#v0-0-94" aria-hidden="true">#</a></h3><ul><li>code-gen: collect static check errors and pretty print (<a href="https://github.com/compasjs/compas/pull/457" target="_blank" rel="noopener noreferrer">#457</a>)</li><li>code-gen: flatten output (<a href="https://github.com/compasjs/compas/pull/460" target="_blank" rel="noopener noreferrer">#460</a>)</li><li>code-gen: sort structure imports and root exports (<a href="https://github.com/compasjs/compas/pull/459" target="_blank" rel="noopener noreferrer">#459</a>)</li><li>stdlib: add support for util.inspect.custom to AppError (<a href="https://github.com/compasjs/compas/pull/458" target="_blank" rel="noopener noreferrer">#458</a>)</li></ul><p>Structure and validators imports and exports have changed. Make sure to fix these.</p><h3 id="v0-0-93" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.93" target="_blank" rel="noopener noreferrer">v0.0.93</a> <a class="header-anchor" href="#v0-0-93" aria-hidden="true">#</a></h3><ul><li>insight: remove dependency on stdlib</li></ul><h3 id="v0-0-92" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.92" target="_blank" rel="noopener noreferrer">v0.0.92</a> <a class="header-anchor" href="#v0-0-92" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.5 to 14.14.6 (<a href="https://github.com/compasjs/compas/pull/451" target="_blank" rel="noopener noreferrer">#451</a>)</li><li>code-gen: add more input checks to App.addRelations</li><li>code-gen: fix TS strict for apiClient with file uploads</li><li>code-gen: fix missing response when importing from OpenApi spec</li><li>code-gen: fix recursive types with a suffix</li><li>code-gen: fix whereIn and whereNotIn generation</li><li>code-gen: process data before resolving addRelations</li><li>stdlib: cache environment variables (<a href="https://github.com/compasjs/compas/pull/454" target="_blank" rel="noopener noreferrer">#454</a>)</li></ul><h3 id="v0-0-91" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.91" target="_blank" rel="noopener noreferrer">v0.0.91</a> <a class="header-anchor" href="#v0-0-91" aria-hidden="true">#</a></h3><ul><li>code-gen: fix default allowNull on uuid type</li></ul><h3 id="v0-0-90" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.90" target="_blank" rel="noopener noreferrer">v0.0.90</a> <a class="header-anchor" href="#v0-0-90" aria-hidden="true">#</a></h3><ul><li>code-gen: fix tags set on a RouteBuilder (<a href="https://github.com/compasjs/compas/pull/449" target="_blank" rel="noopener noreferrer">#449</a>)</li><li>code-gen: short circuit insert queries without values (<a href="https://github.com/compasjs/compas/pull/448" target="_blank" rel="noopener noreferrer">#448</a>)</li><li>code-gen: support allow null on various types, loosen schema (<a href="https://github.com/compasjs/compas/pull/450" target="_blank" rel="noopener noreferrer">#450</a>)</li></ul><p>No release notes today :S</p><h3 id="v0-0-89" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.89" target="_blank" rel="noopener noreferrer">v0.0.89</a> <a class="header-anchor" href="#v0-0-89" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.2 to 14.14.5 (<a href="https://github.com/compasjs/compas/pull/422" target="_blank" rel="noopener noreferrer">#422</a>, <a href="https://github.com/compasjs/compas/pull/435" target="_blank" rel="noopener noreferrer">#435</a>)</li><li>build(deps): bump eslint from 7.12.0 to 7.12.1 (<a href="https://github.com/compasjs/compas/pull/434" target="_blank" rel="noopener noreferrer">#434</a>)</li><li>build(deps): bump eslint-config-prettier from 6.14.0 to 6.15.0 (<a href="https://github.com/compasjs/compas/pull/441" target="_blank" rel="noopener noreferrer">#441</a>)</li><li>build(deps-dev): bump typescript from 4.0.3 to 4.0.5 (<a href="https://github.com/compasjs/compas/pull/433" target="_blank" rel="noopener noreferrer">#433</a>)</li><li>chore: lowercase &#39;type&#39; in logs (<a href="https://github.com/compasjs/compas/pull/429" target="_blank" rel="noopener noreferrer">#429</a>)</li><li>cli: skip restart debounce on &#39;rs&#39; in watch mode (<a href="https://github.com/compasjs/compas/pull/440" target="_blank" rel="noopener noreferrer">#440</a>)</li><li>code-gen: add docs to types (<a href="https://github.com/compasjs/compas/pull/442" target="_blank" rel="noopener noreferrer">#442</a>)</li><li>docs: update <a href="http://README.md" target="_blank" rel="noopener noreferrer">README.md</a> (<a href="https://github.com/compasjs/compas/pull/432" target="_blank" rel="noopener noreferrer">#432</a>)</li><li>stdlib: use format error on global exception handlers (<a href="https://github.com/compasjs/compas/pull/443" target="_blank" rel="noopener noreferrer">#443</a>)</li><li>store: fix typ definition of isQueryPart</li><li>store: floor result of average time to completion (<a href="https://github.com/compasjs/compas/pull/430" target="_blank" rel="noopener noreferrer">#430</a>)</li><li>store: queue scheduling and updating of recurring jobs (<a href="https://github.com/compasjs/compas/pull/431" target="_blank" rel="noopener noreferrer">#431</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.89.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-88" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.88" target="_blank" rel="noopener noreferrer">v0.0.88</a> <a class="header-anchor" href="#v0-0-88" aria-hidden="true">#</a></h3><ul><li>build(deps): bump c8 from 7.3.4 to 7.3.5 (<a href="https://github.com/compasjs/compas/pull/418" target="_blank" rel="noopener noreferrer">#418</a>)</li><li>build(deps): bump eslint from 7.11.0 to 7.12.0 (<a href="https://github.com/compasjs/compas/pull/415" target="_blank" rel="noopener noreferrer">#415</a>)</li><li>build(deps-dev): bump axios from 0.20.0 to 0.21.0 (<a href="https://github.com/compasjs/compas/pull/414" target="_blank" rel="noopener noreferrer">#414</a>)</li><li>code-gen: subquery support in &#39;in&#39; and &#39;notIn&#39; sql where (<a href="https://github.com/compasjs/compas/pull/420" target="_blank" rel="noopener noreferrer">#420</a>)</li><li>code-gen: support Typescript script mode (<a href="https://github.com/compasjs/compas/pull/416" target="_blank" rel="noopener noreferrer">#416</a>)</li><li>docs: add information about test and bench to <a href="http://cli.md" target="_blank" rel="noopener noreferrer">cli.md</a></li><li>insight: add application name to context (<a href="https://github.com/compasjs/compas/pull/419" target="_blank" rel="noopener noreferrer">#419</a>)</li><li>insight: improve performance of ndjson logging (<a href="https://github.com/compasjs/compas/pull/417" target="_blank" rel="noopener noreferrer">#417</a>)</li></ul><h3 id="v0-0-87" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.87" target="_blank" rel="noopener noreferrer">v0.0.87</a> <a class="header-anchor" href="#v0-0-87" aria-hidden="true">#</a></h3><ul><li>code-gen: follow references completely when linking up</li><li>code-gen: make sure apiClient types are registered</li></ul><h3 id="v0-0-86" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.86" target="_blank" rel="noopener noreferrer">v0.0.86</a> <a class="header-anchor" href="#v0-0-86" aria-hidden="true">#</a></h3><ul><li>server: add support for keeping a public cookie (<a href="https://github.com/compasjs/compas/pull/412" target="_blank" rel="noopener noreferrer">#412</a>)</li></ul><h3 id="v0-0-85" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.85" target="_blank" rel="noopener noreferrer">v0.0.85</a> <a class="header-anchor" href="#v0-0-85" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.14.0 to 14.14.2 (<a href="https://github.com/compasjs/compas/pull/410" target="_blank" rel="noopener noreferrer">#410</a>)</li><li>build(deps): bump eslint-config-prettier from 6.13.0 to 6.14.0 (<a href="https://github.com/compasjs/compas/pull/409" target="_blank" rel="noopener noreferrer">#409</a>)</li><li>build(deps-dev): bump react-query from 2.23.1 to 2.25.2 (<a href="https://github.com/compasjs/compas/pull/411" target="_blank" rel="noopener noreferrer">#411</a>)</li><li>ci: fix create release workflow</li><li>ci: improve release note formatting</li><li>code-gen: fix api client error handling with streams (<a href="https://github.com/compasjs/compas/pull/408" target="_blank" rel="noopener noreferrer">#408</a>)</li><li>code-gen: improve types of generated routes</li><li>code-gen: improve types of sql traversal queries</li><li>code-gen: router rename event before validators</li><li>stdlib: add stream to buffer function (<a href="https://github.com/compasjs/compas/pull/407" target="_blank" rel="noopener noreferrer">#407</a>)</li></ul><h3 id="v0-0-84" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.84" target="_blank" rel="noopener noreferrer">v0.0.84</a> <a class="header-anchor" href="#v0-0-84" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.11.10 to 14.14.0 (<a href="https://github.com/compasjs/compas/pull/405" target="_blank" rel="noopener noreferrer">#405</a>)</li><li>chore: automatically create a release on new tags</li><li>ci: run tests and benchmarks on Node.js 15 (<a href="https://github.com/compasjs/compas/pull/403" target="_blank" rel="noopener noreferrer">#403</a>)</li><li>code-gen: do loose structure validation (<a href="https://github.com/compasjs/compas/pull/398" target="_blank" rel="noopener noreferrer">#398</a>)</li><li>code-gen: fix structure dump (<a href="https://github.com/compasjs/compas/pull/396" target="_blank" rel="noopener noreferrer">#396</a>)</li><li>code-gen: fix where &#39;in&#39; and &#39;notIn&#39; generation</li><li>code-gen: implement &#39;patch&#39; method support (<a href="https://github.com/compasjs/compas/pull/404" target="_blank" rel="noopener noreferrer">#404</a>)</li><li>code-gen: support adding relations to &#39;foreign&#39; structure. (<a href="https://github.com/compasjs/compas/pull/402" target="_blank" rel="noopener noreferrer">#402</a>)</li><li>server: skip event logging on OPTIONS requests (<a href="https://github.com/compasjs/compas/pull/397" target="_blank" rel="noopener noreferrer">#397</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.84.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-83" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.83" target="_blank" rel="noopener noreferrer">v0.0.83</a> <a class="header-anchor" href="#v0-0-83" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.11.8 to 14.11.10 (<a href="https://github.com/compasjs/compas/pull/390" target="_blank" rel="noopener noreferrer">#390</a>)</li><li>build(deps): bump c8 from 7.3.3 to 7.3.4 (<a href="https://github.com/compasjs/compas/pull/382" target="_blank" rel="noopener noreferrer">#382</a>)</li><li>build(deps): bump eslint-config-prettier from 6.12.0 to 6.13.0 (<a href="https://github.com/compasjs/compas/pull/389" target="_blank" rel="noopener noreferrer">#389</a>)</li><li>build(deps-dev): bump react from 16.13.1 to 16.14.0 (<a href="https://github.com/compasjs/compas/pull/381" target="_blank" rel="noopener noreferrer">#381</a>)</li><li>code-gen: disable some sql generation parts when type is a view (<a href="https://github.com/compasjs/compas/pull/392" target="_blank" rel="noopener noreferrer">#392</a>)</li><li>code-gen: refactor types, validator and sql generators (<a href="https://github.com/compasjs/compas/pull/377" target="_blank" rel="noopener noreferrer">#377</a>)</li><li>store: add support to explain and analyze any query (<a href="https://github.com/compasjs/compas/pull/391" target="_blank" rel="noopener noreferrer">#391</a>)</li><li>store: support nested file groups with custom ordering (<a href="https://github.com/compasjs/compas/pull/393" target="_blank" rel="noopener noreferrer">#393</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.83.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-82" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.82" target="_blank" rel="noopener noreferrer">v0.0.82</a> <a class="header-anchor" href="#v0-0-82" aria-hidden="true">#</a></h3><ul><li>build(deps): bump chokidar from 3.4.2 to 3.4.3 (<a href="https://github.com/compasjs/compas/pull/379" target="_blank" rel="noopener noreferrer">#379</a>)</li><li>store: add export for &#39;addRecurringJobToQueue&#39; (<a href="https://github.com/compasjs/compas/pull/376" target="_blank" rel="noopener noreferrer">#376</a>)</li><li>store: add tests for recurring job scheduling (<a href="https://github.com/compasjs/compas/pull/380" target="_blank" rel="noopener noreferrer">#380</a>)</li></ul><h3 id="v0-0-81" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.81" target="_blank" rel="noopener noreferrer">v0.0.81</a> <a class="header-anchor" href="#v0-0-81" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.11.4 to 14.11.8 (<a href="https://github.com/compasjs/compas/pull/362" target="_blank" rel="noopener noreferrer">#362</a>, <a href="https://github.com/compasjs/compas/pull/368" target="_blank" rel="noopener noreferrer">#368</a>, <a href="https://github.com/compasjs/compas/pull/374" target="_blank" rel="noopener noreferrer">#374</a>)</li><li>build(deps): bump c8 from 7.3.1 to 7.3.3 (<a href="https://github.com/compasjs/compas/pull/369" target="_blank" rel="noopener noreferrer">#369</a>)</li><li>build(deps): bump eslint from 7.10.0 to 7.11.0 (<a href="https://github.com/compasjs/compas/pull/373" target="_blank" rel="noopener noreferrer">#373</a>)</li><li>build(deps): bump koa-session from 6.0.0 to 6.1.0 (<a href="https://github.com/compasjs/compas/pull/365" target="_blank" rel="noopener noreferrer">#365</a>)</li><li>ci: dispatch sha and pr to external e2e test repo (<a href="https://github.com/compasjs/compas/pull/359" target="_blank" rel="noopener noreferrer">#359</a>)</li><li>code-gen: add T.searchable and support boolean in where clauses (<a href="https://github.com/compasjs/compas/pull/371" target="_blank" rel="noopener noreferrer">#371</a>)</li><li>docs: include <a href="http://contributing.md" target="_blank" rel="noopener noreferrer">contributing.md</a> on Github pages</li><li>store: add meta field on file (<a href="https://github.com/compasjs/compas/pull/363" target="_blank" rel="noopener noreferrer">#363</a>)</li><li>store: add support for recurring jobs (<a href="https://github.com/compasjs/compas/pull/364" target="_blank" rel="noopener noreferrer">#364</a>)</li><li>store: try multiple ways of resolving a migration namespace import (<a href="https://github.com/compasjs/compas/pull/361" target="_blank" rel="noopener noreferrer">#361</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.81.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-80" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.80" target="_blank" rel="noopener noreferrer">v0.0.80</a> <a class="header-anchor" href="#v0-0-80" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.11.2 to 14.11.4 (<a href="https://github.com/compasjs/compas/pull/351" target="_blank" rel="noopener noreferrer">#351</a>)</li><li>code-gen: fix generated query function promise type (<a href="https://github.com/compasjs/compas/pull/352" target="_blank" rel="noopener noreferrer">#352</a>)</li><li>insight: add basic event system (<a href="https://github.com/compasjs/compas/pull/356" target="_blank" rel="noopener noreferrer">#356</a>)</li><li>insight: add function to get rowCount and diskSize per postgres table (<a href="https://github.com/compasjs/compas/pull/355" target="_blank" rel="noopener noreferrer">#355</a>)</li><li>server: implement event from insight on the context (<a href="https://github.com/compasjs/compas/pull/357" target="_blank" rel="noopener noreferrer">#357</a>)</li></ul><h3 id="v0-0-79" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.79" target="_blank" rel="noopener noreferrer">v0.0.79</a> <a class="header-anchor" href="#v0-0-79" aria-hidden="true">#</a></h3><ul><li>build(deps): bump postgres from 2.0.0-beta.0 to 2.0.0-beta.2 (<a href="https://github.com/compasjs/compas/pull/332" target="_blank" rel="noopener noreferrer">#332</a>, <a href="https://github.com/compasjs/compas/pull/346" target="_blank" rel="noopener noreferrer">#346</a>)</li><li>build(deps-dev): bump react-query from 2.23.0 to 2.23.1 (<a href="https://github.com/compasjs/compas/pull/349" target="_blank" rel="noopener noreferrer">#349</a>)</li><li>chore: automatically add link to release notes in the changelog and update publish guide</li><li>chore: cleanup dependabot config</li><li>chore: change default branch name to <code>main</code></li><li>cli: warn on usage of parent <code>t.xx</code> in sub tests (<a href="https://github.com/compasjs/compas/pull/348" target="_blank" rel="noopener noreferrer">#348</a>)</li><li>code-gen: generate cancel token support in browser environments (<a href="https://github.com/compasjs/compas/pull/347" target="_blank" rel="noopener noreferrer">#347</a>)</li><li>code-gen: open api importer fixes (<a href="https://github.com/compasjs/compas/pull/345" target="_blank" rel="noopener noreferrer">#345</a>)</li><li>code-gen: remove defaultValue from generated where type (<a href="https://github.com/compasjs/compas/pull/339" target="_blank" rel="noopener noreferrer">#339</a>)</li><li>code-gen: support <code>withSoftDeletes</code> and remove <code>withHistory</code> (<a href="https://github.com/compasjs/compas/pull/334" target="_blank" rel="noopener noreferrer">#334</a>)</li><li>store: cleanup table names (<a href="https://github.com/compasjs/compas/pull/350" target="_blank" rel="noopener noreferrer">#350</a>)</li><li>store: consistent internal query formatting</li><li>store: enable soft deletes for fileStore (<a href="https://github.com/compasjs/compas/pull/340" target="_blank" rel="noopener noreferrer">#340</a>)</li><li>store: reset postgres#end timeout in tests</li><li>store: return hash changes from getMigrationsToBeApplied (<a href="https://github.com/compasjs/compas/pull/341" target="_blank" rel="noopener noreferrer">#341</a>)</li></ul><p>For a detailed description and more details about this release, please read the <a href="https://compasjs.com/releases/0.0.79.html" target="_blank" rel="noopener noreferrer">release notes</a>.</p><h3 id="v0-0-78" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.78" target="_blank" rel="noopener noreferrer">v0.0.78</a> <a class="header-anchor" href="#v0-0-78" aria-hidden="true">#</a></h3><ul><li>code-gen: fix default value of <code>docString</code> (<a href="https://github.com/compasjs/compas/pull/326" target="_blank" rel="noopener noreferrer">#326</a>)</li></ul><h3 id="v0-0-77" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.77" target="_blank" rel="noopener noreferrer">v0.0.77</a> <a class="header-anchor" href="#v0-0-77" aria-hidden="true">#</a></h3><ul><li>cli: remove concurrent test support (<a href="https://github.com/compasjs/compas/pull/324" target="_blank" rel="noopener noreferrer">#324</a>)</li><li>code-gen: validator default to undefined on empty strings (<a href="https://github.com/compasjs/compas/pull/325" target="_blank" rel="noopener noreferrer">#325</a>)</li></ul><h3 id="v0-0-76" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.76" target="_blank" rel="noopener noreferrer">v0.0.76</a> <a class="header-anchor" href="#v0-0-76" aria-hidden="true">#</a></h3><ul><li>build(deps): bump eslint from 7.9.0 to 7.10.0 (<a href="https://github.com/compasjs/compas/pull/313" target="_blank" rel="noopener noreferrer">#313</a>)</li><li>build(deps): bump eslint-config-prettier from 6.11.0 to 6.12.0 (<a href="https://github.com/compasjs/compas/pull/312" target="_blank" rel="noopener noreferrer">#312</a>)</li><li>build(deps): bump eslint-plugin-import from 2.22.0 to 2.22.1 (<a href="https://github.com/compasjs/compas/pull/321" target="_blank" rel="noopener noreferrer">#321</a>)</li><li>cli: allow running tests in concurrently (<a href="https://github.com/compasjs/compas/pull/322" target="_blank" rel="noopener noreferrer">#322</a>)</li><li>cli: allow switching between postgres versions (<a href="https://github.com/compasjs/compas/pull/317" target="_blank" rel="noopener noreferrer">#317</a>)</li><li>cli: make sure Postgres is ready before returning from <code>docker up</code> (<a href="https://github.com/compasjs/compas/pull/306" target="_blank" rel="noopener noreferrer">#306</a>)</li><li>code-gen: convert default value always to a string</li><li>code-gen: generate sql where clause for optional values with a default type (<a href="https://github.com/compasjs/compas/pull/314" target="_blank" rel="noopener noreferrer">#314</a>)</li><li>code-gen: sql follow references in DDL and where clause (<a href="https://github.com/compasjs/compas/pull/315" target="_blank" rel="noopener noreferrer">#315</a>)</li><li>code-gen: support providing default types on a RouteCreator (<a href="https://github.com/compasjs/compas/pull/318" target="_blank" rel="noopener noreferrer">#318</a>)</li><li>code-gen: verify path params against params type before generating (<a href="https://github.com/compasjs/compas/pull/305" target="_blank" rel="noopener noreferrer">#305</a>)</li><li>docs: consistent urls in config and sitemap</li><li>docs: update env documentation</li><li>docs: update sitemap to use extensions on the urls</li><li>store: remove FileStoreContext out of files (<a href="https://github.com/compasjs/compas/pull/320" target="_blank" rel="noopener noreferrer">#320</a>)</li></ul><h3 id="v0-0-75" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.75" target="_blank" rel="noopener noreferrer">v0.0.75</a> <a class="header-anchor" href="#v0-0-75" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.11.1 to 14.11.2 (<a href="https://github.com/compasjs/compas/pull/299" target="_blank" rel="noopener noreferrer">#299</a>)</li><li>build(deps): bump c8 from 7.3.0 to 7.3.1 (<a href="https://github.com/compasjs/compas/pull/301" target="_blank" rel="noopener noreferrer">#301</a>)</li><li>code-gen: apiClient should not call getHeaders in browser environment (<a href="https://github.com/compasjs/compas/pull/302" target="_blank" rel="noopener noreferrer">#302</a>)</li><li>docs: move to plain Github pages and Jekyll (<a href="https://github.com/compasjs/compas/pull/298" target="_blank" rel="noopener noreferrer">#298</a>)</li></ul><h3 id="v0-0-74" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.74" target="_blank" rel="noopener noreferrer">v0.0.74</a> <a class="header-anchor" href="#v0-0-74" aria-hidden="true">#</a></h3><ul><li>build(deps-dev): bump react-query from 2.22.0 to 2.23.0 (<a href="https://github.com/compasjs/compas/pull/292" target="_blank" rel="noopener noreferrer">#292</a>)</li><li>build(deps-dev): bump typescript from 4.0.2 to 4.0.3 (<a href="https://github.com/compasjs/compas/pull/293" target="_blank" rel="noopener noreferrer">#293</a>)</li><li>cli: fix bench callback type</li><li>cli: fix recursive error formatting</li><li>cli: lint exit with error when CI=true</li><li>code-gen: scoped api client generation for browser envs (<a href="https://github.com/compasjs/compas/pull/294" target="_blank" rel="noopener noreferrer">#294</a>, <a href="https://github.com/compasjs/compas/pull/295" target="_blank" rel="noopener noreferrer">#295</a>)</li></ul><h3 id="v0-0-73" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.73" target="_blank" rel="noopener noreferrer">v0.0.73</a> <a class="header-anchor" href="#v0-0-73" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.10.2 to 14.11.1 (<a href="https://github.com/compasjs/compas/pull/281" target="_blank" rel="noopener noreferrer">#281</a>, <a href="https://github.com/compasjs/compas/pull/287" target="_blank" rel="noopener noreferrer">#287</a>)</li><li>build(deps-dev): bump react-query from 2.20.0 to 2.22.0 (<a href="https://github.com/compasjs/compas/pull/282" target="_blank" rel="noopener noreferrer">#282</a>, <a href="https://github.com/compasjs/compas/pull/288" target="_blank" rel="noopener noreferrer">#288</a>)</li><li>chore: cleanup fs/promises imports (<a href="https://github.com/compasjs/compas/pull/289" target="_blank" rel="noopener noreferrer">#289</a>)</li><li>chore: disable testing.js script, since the generated code is not checked in</li><li>cli: catch and handle assertion errors in tests (<a href="https://github.com/compasjs/compas/pull/285" target="_blank" rel="noopener noreferrer">#285</a>)</li><li>code-gen,stdlib: move templates to code-gen (<a href="https://github.com/compasjs/compas/pull/286" target="_blank" rel="noopener noreferrer">#286</a>)</li><li>code-gen: apiClient calls returns Promise</li><li>code-gen: apiClient handleError should use response headers and data</li><li>stdlib,cli,server: add and use AppError.format (<a href="https://github.com/compasjs/compas/pull/284" target="_blank" rel="noopener noreferrer">#284</a>)</li></ul><h3 id="v0-0-72" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.72" target="_blank" rel="noopener noreferrer">v0.0.72</a> <a class="header-anchor" href="#v0-0-72" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.10.1 to 14.10.2 (<a href="https://github.com/compasjs/compas/pull/277" target="_blank" rel="noopener noreferrer">#277</a>)</li><li>build(deps): bump prettier from 2.1.1 to 2.1.2 (<a href="https://github.com/compasjs/compas/pull/278" target="_blank" rel="noopener noreferrer">#278</a>)</li><li>build(deps-dev): bump react-query from 2.17.0 to 2.20.0 (<a href="https://github.com/compasjs/compas/pull/268" target="_blank" rel="noopener noreferrer">#268</a>, <a href="https://github.com/compasjs/compas/pull/275" target="_blank" rel="noopener noreferrer">#275</a>, <a href="https://github.com/compasjs/compas/pull/276" target="_blank" rel="noopener noreferrer">#276</a>, <a href="https://github.com/compasjs/compas/pull/280" target="_blank" rel="noopener noreferrer">#280</a>)</li><li>chore: add <a href="http://SECURITY.md" target="_blank" rel="noopener noreferrer">SECURITY.md</a> (<a href="https://github.com/compasjs/compas/pull/271" target="_blank" rel="noopener noreferrer">#271</a>)</li><li>code-gen: AppError and response validation in apiClient (<a href="https://github.com/compasjs/compas/pull/274" target="_blank" rel="noopener noreferrer">#274</a>)</li><li>code-gen: add group and item sorting before generation (<a href="https://github.com/compasjs/compas/pull/272" target="_blank" rel="noopener noreferrer">#272</a>)</li><li>code-gen: experiment with using <code>isBrowser</code> and <code>isNode</code> in the generated file type</li><li>code-gen: make tags available in the router</li><li>code-gen: use isNode check in apiClient generator (<a href="https://github.com/compasjs/compas/pull/273" target="_blank" rel="noopener noreferrer">#273</a>)</li><li>server: consistent logging of request length</li></ul><h3 id="v0-0-71" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.71" target="_blank" rel="noopener noreferrer">v0.0.71</a> <a class="header-anchor" href="#v0-0-71" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.6.4 to 14.10.1 (<a href="https://github.com/compasjs/compas/pull/264" target="_blank" rel="noopener noreferrer">#264</a>, <a href="https://github.com/compasjs/compas/pull/261" target="_blank" rel="noopener noreferrer">#261</a>)</li><li>build(deps): bump eslint from 7.8.1 to 7.9.0 (<a href="https://github.com/compasjs/compas/pull/265" target="_blank" rel="noopener noreferrer">#265</a>)</li><li>build(deps): bump node-fetch from 2.6.0 to 2.6.1 (<a href="https://github.com/compasjs/compas/pull/258" target="_blank" rel="noopener noreferrer">#258</a>)</li><li>build(deps-dev): bump react-query from 2.15.4 to 2.17.0 (<a href="https://github.com/compasjs/compas/pull/263" target="_blank" rel="noopener noreferrer">#263</a>, <a href="https://github.com/compasjs/compas/pull/266" target="_blank" rel="noopener noreferrer">#266</a>)</li><li>cli: format info property on caught exceptions in bench and test (<a href="https://github.com/compasjs/compas/pull/257" target="_blank" rel="noopener noreferrer">#257</a>)</li><li>code-gen: add simple options to App#generate to provide better defaults (<a href="https://github.com/compasjs/compas/pull/260" target="_blank" rel="noopener noreferrer">#260</a>)</li><li>code-gen: add validators in App#addRaw and before dumping structure (<a href="https://github.com/compasjs/compas/pull/259" target="_blank" rel="noopener noreferrer">#259</a>)</li><li>code-gen: consistent handling of references</li><li>code-gen: consistent usage of &#39;item&#39; in generators</li><li>code-gen: fix sql generation of nullable foreign key column (<a href="https://github.com/compasjs/compas/pull/255" target="_blank" rel="noopener noreferrer">#255</a>)</li><li>code-gen: object validation strict by default (<a href="https://github.com/compasjs/compas/pull/256" target="_blank" rel="noopener noreferrer">#256</a>)</li><li>code-gen: remove unnecessary internal nesting on structure</li><li>store: fix sessions with a maxAge of &#39;session&#39; (<a href="https://github.com/compasjs/compas/pull/267" target="_blank" rel="noopener noreferrer">#267</a>)</li></ul><h3 id="v0-0-70" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.70" target="_blank" rel="noopener noreferrer">v0.0.70</a> <a class="header-anchor" href="#v0-0-70" aria-hidden="true">#</a></h3><ul><li>code-gen: fix breaking changes in react-query types (<a href="https://github.com/compasjs/compas/pull/252" target="_blank" rel="noopener noreferrer">#252</a>)</li></ul><h3 id="v0-0-69" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.69" target="_blank" rel="noopener noreferrer">v0.0.69</a> <a class="header-anchor" href="#v0-0-69" aria-hidden="true">#</a></h3><ul><li>build(deps-dev): bump react-query from 2.15.1 to 2.15.4 (<a href="https://github.com/compasjs/compas/pull/249" target="_blank" rel="noopener noreferrer">#249</a>)</li><li>code-gen: add sql properties to generated types (<a href="https://github.com/compasjs/compas/pull/250" target="_blank" rel="noopener noreferrer">#250</a>)</li><li>code-gen: remove stub generators (<a href="https://github.com/compasjs/compas/pull/247" target="_blank" rel="noopener noreferrer">#247</a>)</li></ul><h3 id="v0-0-68" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.68" target="_blank" rel="noopener noreferrer">v0.0.68</a> <a class="header-anchor" href="#v0-0-68" aria-hidden="true">#</a></h3><ul><li>build(deps): bump @types/node from 14.6.1 to 14.6.4 (<a href="https://github.com/compasjs/compas/pull/229" target="_blank" rel="noopener noreferrer">#229</a>, <a href="https://github.com/compasjs/compas/pull/237" target="_blank" rel="noopener noreferrer">#237</a>)</li><li>build(deps): bump eslint from 7.7.0 to 7.8.1 (<a href="https://github.com/compasjs/compas/pull/224" target="_blank" rel="noopener noreferrer">#224</a>)</li><li>build(deps-dev): bump react-query from 2.12.1 to 2.15.1 (<a href="https://github.com/compasjs/compas/pull/222" target="_blank" rel="noopener noreferrer">#222</a>, <a href="https://github.com/compasjs/compas/pull/225" target="_blank" rel="noopener noreferrer">#225</a>, <a href="https://github.com/compasjs/compas/pull/228" target="_blank" rel="noopener noreferrer">#228</a>, <a href="https://github.com/compasjs/compas/pull/238" target="_blank" rel="noopener noreferrer">#238</a>, <a href="https://github.com/compasjs/compas/pull/241" target="_blank" rel="noopener noreferrer">#241</a>)</li><li>build(deps-dev): bump typedoc from 0.18.0 to 0.19.0</li><li>chore: add coverage summary to PR&#39;s (<a href="https://github.com/compasjs/compas/pull/243" target="_blank" rel="noopener noreferrer">#243</a>)</li><li>chore: create script to automate changelog a little bit</li><li>chore: fix PR links in the changelog</li><li>chore: fix linting (<a href="https://github.com/compasjs/compas/pull/231" target="_blank" rel="noopener noreferrer">#231</a>)</li><li>chore: remove typedoc setup (<a href="https://github.com/compasjs/compas/pull/236" target="_blank" rel="noopener noreferrer">#236</a>)</li><li>chore: setup CODEOWNERS again</li><li>ci: comment benchmark result to PR (<a href="https://github.com/compasjs/compas/pull/244" target="_blank" rel="noopener noreferrer">#244</a>)</li><li>ci: create dependabot config file (<a href="https://github.com/compasjs/compas/pull/226" target="_blank" rel="noopener noreferrer">#226</a>)</li><li>cli, stdlib: move bench to cli (<a href="https://github.com/compasjs/compas/pull/240" target="_blank" rel="noopener noreferrer">#240</a>)</li><li>cli: add some testing for the provided template (<a href="https://github.com/compasjs/compas/pull/234" target="_blank" rel="noopener noreferrer">#234</a>)</li><li>cli: configure timeout of sub tests via <code>t.timeout</code> (<a href="https://github.com/compasjs/compas/pull/232" target="_blank" rel="noopener noreferrer">#232</a>)</li><li>code-gen: add optional, omit and pick types (<a href="https://github.com/compasjs/compas/pull/220" target="_blank" rel="noopener noreferrer">#220</a>)</li><li>code-gen: change default number to be an integer instead of float (<a href="https://github.com/compasjs/compas/pull/221" target="_blank" rel="noopener noreferrer">#221</a>)</li><li>code-gen: self host validation for App.extend (<a href="https://github.com/compasjs/compas/pull/246" target="_blank" rel="noopener noreferrer">#246</a>)</li><li>docs: regenerate for v0.0.67</li><li>stdlib: improve perf of uuid (<a href="https://github.com/compasjs/compas/pull/242" target="_blank" rel="noopener noreferrer">#242</a>)</li><li>stdlib: support custom exec options (<a href="https://github.com/compasjs/compas/pull/233" target="_blank" rel="noopener noreferrer">#233</a>)</li></ul><h3 id="v0-0-67" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.67" target="_blank" rel="noopener noreferrer">v0.0.67</a> <a class="header-anchor" href="#v0-0-67" aria-hidden="true">#</a></h3><ul><li>cli: add command to reset current database (<a href="https://github.com/compasjs/compas/pull/213" target="_blank" rel="noopener noreferrer">#213</a>)</li><li>cli: run test teardown before printing results (<a href="https://github.com/compasjs/compas/pull/212" target="_blank" rel="noopener noreferrer">#212</a>)</li><li>code-gen: follow references when resolving defaults in sql generation (<a href="https://github.com/compasjs/compas/pull/215" target="_blank" rel="noopener noreferrer">#215</a>)</li></ul><h3 id="v0-0-66" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.66" target="_blank" rel="noopener noreferrer">v0.0.66</a> <a class="header-anchor" href="#v0-0-66" aria-hidden="true">#</a></h3><p>Everything is breaking!</p><ul><li>code-gen: add default min(1) to string type</li><li>code-gen: generated ORDER BY for select queries withDates</li><li>cli: configure test timeout, setup and teardown function in test/config.js</li><li>store: add copyAllObjects to clone a complete bucket</li><li>store: configurable postgres template support</li></ul><h3 id="v0-0-65" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.65" target="_blank" rel="noopener noreferrer">v0.0.65</a> <a class="header-anchor" href="#v0-0-65" aria-hidden="true">#</a></h3><ul><li>cli: increase static test timeout to 15 seconds</li></ul><h3 id="v0-0-64" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.64" target="_blank" rel="noopener noreferrer">v0.0.64</a> <a class="header-anchor" href="#v0-0-64" aria-hidden="true">#</a></h3><ul><li>cli: various exit code fixes</li><li>store: add setupTestDatabase</li><li>cli: replace tape with custom test runner</li></ul><h5 id="breaking" tabindex="-1">Breaking <a class="header-anchor" href="#breaking" aria-hidden="true">#</a></h5><p>Tape is replace by a custom test runner.</p><ul><li>Make sure to <code>import { test } from &quot;@lbu/cli</code> instead of <code>import test from tape</code></li><li>To run a test file via <code>lbu run</code> add <code>mainTestFn</code> to the file</li><li>Unnecessary <code>async</code> and <code>.end()</code> calls can be removed</li><li>Only a handful of assertions, see <a href="https://compasjs.com/#/api?id=interface-testrunner" target="_blank" rel="noopener noreferrer"><code>TestRunner</code></a></li></ul><h3 id="v0-0-63" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.63" target="_blank" rel="noopener noreferrer">v0.0.63</a> <a class="header-anchor" href="#v0-0-63" aria-hidden="true">#</a></h3><ul><li>code-gen: remove support for both files and body add the same time</li><li>server: remove support for fields in a multipart scenario</li></ul><h5 id="breaking-1" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-1" aria-hidden="true">#</a></h5><ul><li>Use separate routes when both files and body are currently on a single route.</li></ul><h3 id="v0-0-62" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.62" target="_blank" rel="noopener noreferrer">v0.0.62</a> <a class="header-anchor" href="#v0-0-62" aria-hidden="true">#</a></h3><ul><li>cli: use http-proxy directly</li><li>cli: support &#39;rs&#39; in watch mode, mimicking nodemon</li><li>stdlib: add exitCode to <code>exec</code></li><li>stdlib: rename <code>code</code> to <code>exitCode</code> in <code>spawn</code></li><li>server,code-gen: fix serialization of nested objects</li><li>code-gen: postgres relation generation fixes</li></ul><h5 id="breaking-2" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-2" aria-hidden="true">#</a></h5><ul><li>The return type of <code>spawn</code> and <code>exec</code> now have an <code>exitCode</code></li><li>Using a lower level <code>http-proxy</code> for <code>lbu proxy</code></li></ul><h3 id="v0-0-61" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.61" target="_blank" rel="noopener noreferrer">v0.0.61</a> <a class="header-anchor" href="#v0-0-61" aria-hidden="true">#</a></h3><ul><li>code-gen: cleanup tags in doc blocks Conditionally render tags if they exists in doc blocks for router, apiClient and reactQuery</li><li>server: log key and info if originalError is also AppError</li></ul><h5 id="breaking-3" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-3" aria-hidden="true">#</a></h5><ul><li>code-gen: remove tag middleware</li><li>cli: replace nodemon with chokidar</li><li>server: handle multipart request with formidable (without koa-body)</li><li>code-gen: transform array/objects to Querystrings because of missing support in FormData</li></ul><h3 id="v0-0-60" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.60" target="_blank" rel="noopener noreferrer">v0.0.60</a> <a class="header-anchor" href="#v0-0-60" aria-hidden="true">#</a></h3><ul><li>stdlib: remove logger as argument to mainFn</li><li>stdlib: add process exception handling in mainFn</li><li>stdlib: AppError check typeof status and key parameter</li></ul><h5 id="breaking-4" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-4" aria-hidden="true">#</a></h5><ul><li>Remove logger argument from <code>mainFn</code>, change to <code>mainFn(import.<wbr>meta, () =&gt; {})</code></li></ul><h3 id="v0-0-59" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.59" target="_blank" rel="noopener noreferrer">v0.0.59</a> <a class="header-anchor" href="#v0-0-59" aria-hidden="true">#</a></h3><ul><li>cli: add some logging to proxy errors</li><li>code-gen: fix react-query enabled check</li></ul><h3 id="v0-0-58" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.58" target="_blank" rel="noopener noreferrer">v0.0.58</a> <a class="header-anchor" href="#v0-0-58" aria-hidden="true">#</a></h3><ul><li>code-gen: fix setting headers in form-data upload</li><li>code-gen: add support for file download in the apiClient</li></ul><h3 id="v0-0-57" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.57" target="_blank" rel="noopener noreferrer">v0.0.57</a> <a class="header-anchor" href="#v0-0-57" aria-hidden="true">#</a></h3><ul><li>cli: fix memory leak in proxy</li><li>cli: add some request logging to the proxy</li><li>server: add request content-length to server logs</li></ul><h3 id="v0-0-56" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.56" target="_blank" rel="noopener noreferrer">v0.0.56</a> <a class="header-anchor" href="#v0-0-56" aria-hidden="true">#</a></h3><ul><li>cli: use isProduction and isStaging in template</li><li>cli: add proxy command for local development. Usable via <code>yarn compoas proxy</code></li><li>store: make sure sessionStore checks expired sessions</li><li>server: use isProduction and isStaging in defaults</li><li>server: simplify session handling</li><li>server: fix sendFile compatibility with FileStore and FileCache</li></ul><h3 id="v0-0-55" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.55" target="_blank" rel="noopener noreferrer">v0.0.55</a> <a class="header-anchor" href="#v0-0-55" aria-hidden="true">#</a></h3><ul><li>code-gen: fix reactQuery disabled options</li><li>code-gen: add getGroupsThatIncludeType utility</li><li>store: fix types for FileCache</li><li>stdlib: add isProduction and isStaging helpers</li><li>server: cors allow localhost when <code>isStaging</code></li><li>server: set localhost cookies when server runs on staging</li></ul><h3 id="v0-0-54" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.54" target="_blank" rel="noopener noreferrer">v0.0.54</a> <a class="header-anchor" href="#v0-0-54" aria-hidden="true">#</a></h3><ul><li>code-gen: hotfix apiClient body template error (missing comma)</li></ul><h3 id="v0-0-53" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.53" target="_blank" rel="noopener noreferrer">v0.0.53</a> <a class="header-anchor" href="#v0-0-53" aria-hidden="true">#</a></h3><ul><li>docs: more docs for @lbu/server and @lbu/store</li><li>docs: add sitemap.xml</li><li>deps: bump various dependencies</li><li>code-gen: fix FormData package usage in the apiClient</li><li>code-gen: fix headers send by the apiClient when using FormData</li><li>code-gen: render Date as type string in all cases for frontend generation</li><li>stdlib: improve benchmark performance</li></ul><h3 id="v0-0-52" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.52" target="_blank" rel="noopener noreferrer">v0.0.52</a> <a class="header-anchor" href="#v0-0-52" aria-hidden="true">#</a></h3><ul><li>code-gen: add AppErrorResponse to generated reactQueries.ts</li><li>store: remove auto delete interval from session store</li><li>store: provide clean method on session store</li><li>server: support custom _domain and _secure on session cookies</li><li>server: fork koa-compose</li></ul><h5 id="breaking-5" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-5" aria-hidden="true">#</a></h5><ul><li>Run <code>const store = newSessionStore(); store.clean()</code> in a user scheduled job. The session store does not automatically cleanup old sessions</li><li><code>closeTestApp</code> always returns a Promise</li></ul><h3 id="v0-0-51" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.51" target="_blank" rel="noopener noreferrer">v0.0.51</a> <a class="header-anchor" href="#v0-0-51" aria-hidden="true">#</a></h3><ul><li>code-gen: support generating left join queries for oneToMany relations</li><li>code-gen: fix for Typescript not recognizing interfaces used in JS files</li></ul><h3 id="v0-0-50" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.50" target="_blank" rel="noopener noreferrer">v0.0.50</a> <a class="header-anchor" href="#v0-0-50" aria-hidden="true">#</a></h3><ul><li>code-gen: fix bug on <code>SelectWith</code> query identifiers</li></ul><h3 id="v0-0-49" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.49" target="_blank" rel="noopener noreferrer">v0.0.49</a> <a class="header-anchor" href="#v0-0-49" aria-hidden="true">#</a></h3><ul><li>code-gen: fix syntax error in apiClient (introduced in v0.0.48)</li></ul><h3 id="v0-0-48" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.48" target="_blank" rel="noopener noreferrer">v0.0.48</a> <a class="header-anchor" href="#v0-0-48" aria-hidden="true">#</a></h3><ul><li>stdlib: mainFn exit with status(1) when catching errors</li><li>stdlib,cli: add experimental support for benchmarking</li><li>code-gen: support both body and files on a single route</li><li>code-gen: support generating left join queries for manyToOne relations</li><li>code-gen: various small fixes</li></ul><h3 id="v0-0-47" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.47" target="_blank" rel="noopener noreferrer">v0.0.47</a> <a class="header-anchor" href="#v0-0-47" aria-hidden="true">#</a></h3><ul><li>code-gen: small fix for reference sql generation</li></ul><h3 id="v0-0-46" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.46" target="_blank" rel="noopener noreferrer">v0.0.46</a> <a class="header-anchor" href="#v0-0-46" aria-hidden="true">#</a></h3><ul><li>store: catch migrations errors and exit correctly</li><li>store: add typescript types</li><li>lint-config: more strict on control flow</li><li>code-gen: fix sql injection in <code>idIn</code> generated queries</li><li>code-gen: remove mock generator</li><li>code-gen: add relation type</li><li>code-gen: only import what is needed in generated reactQueries file</li></ul><h5 id="breaking-6" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-6" aria-hidden="true">#</a></h5><ul><li><code>T.reference().field</code> is removed. Use <code>T.relation().manyToOne()</code></li><li>Removed the mock generator</li></ul><h3 id="v0-0-45" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.45" target="_blank" rel="noopener noreferrer">v0.0.45</a> <a class="header-anchor" href="#v0-0-45" aria-hidden="true">#</a></h3><ul><li><p>code-gen: hotfix sql template issues for postgres 2.0</p><p>Fixes introduces template bug in 0.0.44</p></li></ul><h3 id="v0-0-44" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.44" target="_blank" rel="noopener noreferrer">v0.0.44</a> <a class="header-anchor" href="#v0-0-44" aria-hidden="true">#</a></h3><ul><li><p>BREAKING: code-gen: sql template column and table identifiers to camelCase</p><p>Generated sql templates use camelCase nameschema instead of snake_case now. All migrations or queries depended on LBU structure needs to be updated.</p></li></ul><h3 id="v0-0-43" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.43" target="_blank" rel="noopener noreferrer">v0.0.43</a> <a class="header-anchor" href="#v0-0-43" aria-hidden="true">#</a></h3><ul><li>stdlib: add AppError#instanceOf</li><li>code-gen: build path params type if necessary but not provided by user</li><li>server: fix koa-session options type</li><li>store: drop Postgres connections to database if used as a template for test database</li><li>code-gen: simplify TypeCreator methods</li><li>code-gen: support inferring basic types</li><li>code-gen: router supports arrays for tag and group middleware</li><li>code-gen: support generating <code>CREATE INDEX</code> statements</li><li>code-gen: added File type</li></ul><h5 id="breaking-7" tabindex="-1">Breaking <a class="header-anchor" href="#breaking-7" aria-hidden="true">#</a></h5><ul><li>Generated router exposes <code>setBodyParsers</code> which accepts the result of <code>createBodyParsers()</code></li><li>Passing in <code>dumpStructure</code> to <code>App.generate</code> is required if you want the router to expose lbu structure automatically</li><li>TypeCreator methods now only accept a name. This affects <code>anyOf</code>, <code>array</code> and <code>object</code></li><li><code>x instanceof AppError</code> should be replaced with <code>AppError.instanceOf(x)</code></li></ul><h3 id="v0-0-42" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.42" target="_blank" rel="noopener noreferrer">v0.0.42</a> <a class="header-anchor" href="#v0-0-42" aria-hidden="true">#</a></h3><ul><li>code-gen: useQuery hook now enabled by default</li></ul><h3 id="v0-0-41" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.41" target="_blank" rel="noopener noreferrer">v0.0.41</a> <a class="header-anchor" href="#v0-0-41" aria-hidden="true">#</a></h3><ul><li>server: fix cors issue, and do some micro optimizations</li></ul><h3 id="v0-0-40" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.40" target="_blank" rel="noopener noreferrer">v0.0.40</a> <a class="header-anchor" href="#v0-0-40" aria-hidden="true">#</a></h3><ul><li>code-gen: generate valid dependant queries for react-query &gt;=2 (#88, #80)</li></ul><h3 id="v0-0-39" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.39" target="_blank" rel="noopener noreferrer">v0.0.39</a> <a class="header-anchor" href="#v0-0-39" aria-hidden="true">#</a></h3><ul><li>code-gen: always quote object keys on mock objects</li></ul><h3 id="v0-0-38" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.38" target="_blank" rel="noopener noreferrer">v0.0.38</a> <a class="header-anchor" href="#v0-0-38" aria-hidden="true">#</a></h3><ul><li>code-gen: validator supports collecting errors instead of throwing</li><li>code-gen: always quote object keys in types generator</li></ul><h3 id="v0-0-37" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.37" target="_blank" rel="noopener noreferrer">v0.0.37</a> <a class="header-anchor" href="#v0-0-37" aria-hidden="true">#</a></h3><ul><li>code-gen: fix generic Typescript type when key is an union type</li></ul><h3 id="v0-0-36" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.36" target="_blank" rel="noopener noreferrer">v0.0.36</a> <a class="header-anchor" href="#v0-0-36" aria-hidden="true">#</a></h3><ul><li>code-gen: fix react-query import in generated file</li></ul><h3 id="v0-0-35" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.35" target="_blank" rel="noopener noreferrer">v0.0.35</a> <a class="header-anchor" href="#v0-0-35" aria-hidden="true">#</a></h3><ul><li>server: add server testing utilities</li><li>code-gen: e2e testing of generated router, validator and apiClient</li><li>cli: remove asyncShould(Not)Throw functions added to tape</li><li>code-gen: generate Postgres upsert queries for all searchable fields</li></ul><h3 id="v0-0-34" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.34" target="_blank" rel="noopener noreferrer">v0.0.34</a> <a class="header-anchor" href="#v0-0-34" aria-hidden="true">#</a></h3><ul><li>code-gen: try an fix for <code>WHERE IN</code> generation.</li></ul><h3 id="v0-0-33" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.33" target="_blank" rel="noopener noreferrer">v0.0.33</a> <a class="header-anchor" href="#v0-0-33" aria-hidden="true">#</a></h3><ul><li>code-gen: fix api client generation of interceptors</li></ul><h3 id="v0-0-32" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.32" target="_blank" rel="noopener noreferrer">v0.0.32</a> <a class="header-anchor" href="#v0-0-32" aria-hidden="true">#</a></h3><ul><li>code-gen: various fixes</li><li>code-gen: fixed x-request-id in apiClient</li><li>code-gen: add option to disable mock and validator generator for a type</li></ul><h3 id="v0-0-31" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.31" target="_blank" rel="noopener noreferrer">v0.0.31</a> <a class="header-anchor" href="#v0-0-31" aria-hidden="true">#</a></h3><ul><li>stdlib: resolve camelToSnakeCase issue with long strings</li></ul><h3 id="v0-0-30" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.30" target="_blank" rel="noopener noreferrer">v0.0.30</a> <a class="header-anchor" href="#v0-0-30" aria-hidden="true">#</a></h3><ul><li>docs: add api docs for code-gen and server</li><li>code-gen: various fixes</li><li>deps: various bumps</li></ul><h3 id="v0-0-29" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.29" target="_blank" rel="noopener noreferrer">v0.0.29</a> <a class="header-anchor" href="#v0-0-29" aria-hidden="true">#</a></h3><ul><li>server: add support for CORS_URL env variable</li><li>stdlib: add type definition file</li><li>stdlib: add uuid.isValid function</li><li>code-gen: improve router generated JSDoc</li></ul><h3 id="v0-0-28" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.28" target="_blank" rel="noopener noreferrer">v0.0.28</a> <a class="header-anchor" href="#v0-0-28" aria-hidden="true">#</a></h3><ul><li>code-gen: remove axios dependency in loadFromRemote and accept as argument</li></ul><h3 id="v0-0-27" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.27" target="_blank" rel="noopener noreferrer">v0.0.27</a> <a class="header-anchor" href="#v0-0-27" aria-hidden="true">#</a></h3><ul><li>stdlib: expose pathJoin as alternative for <code>import { join } from &quot;path&quot;;</code></li><li>cli: add coverage command, runs tests and collects coverage information</li><li>insight,cli: provide typescript declaration files</li><li>docs: initialize docsify</li><li>docs: add typedoc for generating api information based on declaration files</li></ul><h3 id="v0-0-26" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.26" target="_blank" rel="noopener noreferrer">v0.0.26</a> <a class="header-anchor" href="#v0-0-26" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: make sure to deepcopy baseData for type plugins</li></ul><h3 id="v0-0-25" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.25" target="_blank" rel="noopener noreferrer">v0.0.25</a> <a class="header-anchor" href="#v0-0-25" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: add react-query generator</li><li>@lbu/lint-config: remove JSDoc plugin</li><li>@lbu/code-gen: make generators stable</li><li>@lbu/cli: update boilerplate add (test-)services code</li></ul><h3 id="v0-0-24" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.24" target="_blank" rel="noopener noreferrer">v0.0.24</a> <a class="header-anchor" href="#v0-0-24" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: fix nested reference lookups in sql code-generation</li></ul><h3 id="v0-0-23" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.23" target="_blank" rel="noopener noreferrer">v0.0.23</a> <a class="header-anchor" href="#v0-0-23" aria-hidden="true">#</a></h3><ul><li>@lbu/lint-config: version bumps and disabled jsdoc/require-returns-description rule</li><li>@lbu/code-gen: minor fixes to the update queries generation</li></ul><h3 id="v0-0-22" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.22" target="_blank" rel="noopener noreferrer">v0.0.22</a> <a class="header-anchor" href="#v0-0-22" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: fix setting column to null in update queries</li></ul><h3 id="v0-0-21" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.21" target="_blank" rel="noopener noreferrer">v0.0.21</a> <a class="header-anchor" href="#v0-0-21" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: rework sql generator, now snake-cases table and column names</li><li>@lbu/code-gen: add support to generate count queries</li><li>@lbu/code-gen: add support to add createdAt and updatedAt fields for objects with queries enabled</li><li>@lbu/code-gen: add support for insert-on-update history table when generating sql</li><li>@lbu/code-gen: add support to dump a Postgres DDL based on lbu structure</li><li>@lbu/store: Most components are now backed by the sql generator</li><li>@lbu/lint-config: add jsdoc linting</li><li>@lbu/stdlib: support controlled output of newlines</li></ul><h3 id="v0-0-20" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.20" target="_blank" rel="noopener noreferrer">v0.0.20</a> <a class="header-anchor" href="#v0-0-20" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: support OpenAPI conversion</li><li>@lbu/store: add file-cache, uses memory &amp; local disk to speed up retrieving items from S3</li><li>*: various dependency bumps</li><li>@lbu/store: cleaner result on getMigrationsToBeApplied</li><li>@lbu/server: make sendFile compatible with file-cache</li></ul><h3 id="v0-0-19" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.19" target="_blank" rel="noopener noreferrer">v0.0.19</a> <a class="header-anchor" href="#v0-0-19" aria-hidden="true">#</a></h3><ul><li>@lbu/insight: BREAKING, remove &#39;varargs&#39; support from logger</li><li>@lbu/code-gen: reuse generated validators</li><li>@lbu/code-gen: strip more new lines from output, which results in better readability</li></ul><h3 id="v0-0-18" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.18" target="_blank" rel="noopener noreferrer">v0.0.18</a> <a class="header-anchor" href="#v0-0-18" aria-hidden="true">#</a></h3><ul><li>@lbu/stdlib: vendor uuid v4 generation</li></ul><h3 id="v0-0-17" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.17" target="_blank" rel="noopener noreferrer">v0.0.17</a> <a class="header-anchor" href="#v0-0-17" aria-hidden="true">#</a></h3><ul><li>@lbu/cli: various template fixes</li><li>@lbu/*: various dependency updates</li><li>@lbu/server: add a sendFile utility</li><li>@lbu/stdlib: add camelToSnakecase utility</li><li>@lbu/store: add JobQueue implementation</li><li>@lbu/code-gen: normalize generate &amp; generateStubs</li><li>@lbu/code-gen: add basic sql query generator</li></ul><h3 id="v0-0-16" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.16" target="_blank" rel="noopener noreferrer">v0.0.16</a> <a class="header-anchor" href="#v0-0-16" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: minor fixes</li><li>@lbu/cli: add tape as a dependency</li><li>@lbu/store: only truncate tables in testing when there are tables to be truncated</li><li>@lbu/stdlib: add noop function</li></ul><h3 id="v0-0-15" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.15" target="_blank" rel="noopener noreferrer">v0.0.15</a> <a class="header-anchor" href="#v0-0-15" aria-hidden="true">#</a></h3><ul><li>@lbu/server,stdlib: move AppError to stdlib</li><li>@lbu/code-gen: small fixes</li></ul><h3 id="v0-0-14" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.14" target="_blank" rel="noopener noreferrer">v0.0.14</a> <a class="header-anchor" href="#v0-0-14" aria-hidden="true">#</a></h3><ul><li>@lbu/store: add session store</li><li>@lbu/server: add session middleware</li><li>@lbu/code-gen: rename _Optional to _Input</li><li>@lbu/code-gen: add date type</li></ul><h3 id="v0-0-13" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.13" target="_blank" rel="noopener noreferrer">v0.0.13</a> <a class="header-anchor" href="#v0-0-13" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: add dumpStructure option to generateStubs</li></ul><h3 id="v0-0-12" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.12" target="_blank" rel="noopener noreferrer">v0.0.12</a> <a class="header-anchor" href="#v0-0-12" aria-hidden="true">#</a></h3><ul><li>Move project to Github</li><li>@lbu/cli: add docker clean command</li><li>@lbu/code-gen: remove the need to register coreTypes</li><li>@lbu/code-gen: support generating stubs</li><li>@lbu/stdlib: small fixes</li><li>@lbu/store: small fixes for database creation</li></ul><h3 id="v0-0-11" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.11" target="_blank" rel="noopener noreferrer">v0.0.11</a> <a class="header-anchor" href="#v0-0-11" aria-hidden="true">#</a></h3><ul><li>@lbu/store: initial release! Already supports test databases, migrations and a persistent file store in combination with minio</li><li>@lbu/server: remove global state from body parsers</li><li>@lbu/code-gen: various bug fixes. The output should be ESLint error free after formatting.</li><li>@lbu/cli: update template</li><li>@lbu/cli: improve command executor, now supports passing in flags to Node.js as well as to the program it self</li><li>Various test and documentation improvements</li></ul><h3 id="v0-0-10" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.10" target="_blank" rel="noopener noreferrer">v0.0.10</a> <a class="header-anchor" href="#v0-0-10" aria-hidden="true">#</a></h3><ul><li><p>Set minimum Node.js version to Node.js 14</p></li><li><p>@lbu/cli: Refactored</p><ul><li>Improved argument parser, logging and reload handling</li><li>Supports arguments and passing arguments to Node.js</li></ul></li><li><p>@lbu/code-gen: Refactored</p><ul><li>Moved to a double plugin structure with Generators and Types plugins</li><li>Generator plugins replace the previous store and generator plugins</li><li>Type plugins implement TypeBuilding, and code generation for specific types. All type plugins support the core generators</li><li>All plugins except Models are now operating on a group based way of generating. This ensures that auto-completion stays relevant to the context that you are working in</li></ul></li><li><p>@lbu/insight: removed global state from log parser</p></li><li><p>@lbu/insight: support <code>arrayBuffers</code> when printing memory usage</p></li><li><p>@lbu/insight: cleanup logger a bit</p></li><li><p>@lbu/server: supply <code>isServerLog</code> to check if a json object may be output from the log midleware</p></li><li><p>@lbu/stdlib: removed global state from teplates</p></li><li><p>@lbu/*: various dependency updates</p></li><li><p>@lbu/*: various docs improvements</p></li></ul><h3 id="v0-0-9" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.12" target="_blank" rel="noopener noreferrer">v0.0.9</a> <a class="header-anchor" href="#v0-0-9" aria-hidden="true">#</a></h3><ul><li>Export named functions instead of const and shorthand functions</li><li>@lbu/cli: Fix script ordering</li><li>@lbu/cli: Execute nodemon as a library</li><li>@lbu/code-gen: Various fixes</li><li>@lbu/code-gen: More logging in App build and Runner</li><li>@lbu/code-gen: Router refactoring, add group support. Also includes api client generated exports.</li><li>@lbu/code-gen: ModelBuilder refactoring, add docs, optional &amp; default on all models</li><li>@lbu/lint-config: Move to Prettier 2.0</li><li>@lbu/insight: Return a Logger instance instead of a POJO</li><li>@lbu/stdlib: Remove translation system</li></ul><h3 id="v0-0-8" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.8" target="_blank" rel="noopener noreferrer">v0.0.8</a> <a class="header-anchor" href="#v0-0-8" aria-hidden="true">#</a></h3><ul><li>Various fixes</li><li>@lbu/insight: Simple log processing setup</li></ul><h3 id="v0-0-7" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.7" target="_blank" rel="noopener noreferrer">v0.0.7</a> <a class="header-anchor" href="#v0-0-7" aria-hidden="true">#</a></h3><ul><li>BREAKING: export es modules and drop CommonJS support</li><li>BREAKING: Only supporting &gt;= Node.js 13</li><li>@lbu/code-gen: Big refactor, now with a separate model &amp; mocks generator</li><li>@lbu/cli: Supports yarn scripts in watch mode</li><li>@lbu/insight: A tad faster</li><li>@lbu/lint-config: Support ES modules</li><li>@lbu/server: Refactor error handler, inline cors, improvements to defaults</li><li>@lbu/stdlib: Translation system, utilities for moving from CommonJS to ES modules</li></ul><h3 id="v0-0-6" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.6" target="_blank" rel="noopener noreferrer">v0.0.6</a> <a class="header-anchor" href="#v0-0-6" aria-hidden="true">#</a></h3><ul><li>@lbu/code-gen: JSDoc generation and router tags support</li><li>@lbu/*: Various bugs fixed</li></ul><h3 id="v0-0-5" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.5" target="_blank" rel="noopener noreferrer">v0.0.5</a> <a class="header-anchor" href="#v0-0-5" aria-hidden="true">#</a></h3><ul><li>Rewritten from scratch in plain old JavaScript</li><li>@lbu/cli is now more a script runner than anything else</li><li>@lbu/koa is replaced by @lbu/server</li><li>@lbu/register is removed</li><li>@lbu/lint-config drops Typescript support</li><li>@lbu/stdlib now contains a basic templating functionality</li><li>@lbu/code-gen is refactored, needs some more thinking before adding a fluent api back</li></ul><h3 id="v0-0-4" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.4" target="_blank" rel="noopener noreferrer">v0.0.4</a> <a class="header-anchor" href="#v0-0-4" aria-hidden="true">#</a></h3><ul><li>Replaced @lbu/validator with @lbu/code-gen</li><li>@lbu/code-gen supports generating validator functions and routers</li><li>Add @lbu/koa with some minimal middleware</li></ul><h3 id="v0-0-3" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.3" target="_blank" rel="noopener noreferrer">v0.0.3</a> <a class="header-anchor" href="#v0-0-3" aria-hidden="true">#</a></h3><ul><li>@lbu/validator refactor and pretty much stable feature wise</li><li>Various fixes in @lbu/cli and @lbu/stdlib</li></ul><h3 id="v0-0-2" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.2" target="_blank" rel="noopener noreferrer">v0.0.2</a> <a class="header-anchor" href="#v0-0-2" aria-hidden="true">#</a></h3><ul><li>Add @lbu/register</li><li>Add @lbu/cli lint command</li><li>Improve @lbu/cli template</li></ul><h3 id="v0-0-1" tabindex="-1"><a href="https://github.com/compasjs/compas/releases/tag/v0.0.1" target="_blank" rel="noopener noreferrer">v0.0.1</a> <a class="header-anchor" href="#v0-0-1" aria-hidden="true">#</a></h3><ul><li>Initial release</li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"changelog.md\":\"a051c557\",\"contributing.md\":\"9bfce678\",\"examples.md\":\"20a7d50d\",\"features_background-jobs.md\":\"37d26688\",\"features_cli.md\":\"da0bbfcf\",\"features_code-gen-api-client.md\":\"4198e896\",\"features_code-gen-api.md\":\"5566d552\",\"features_code-gen-crud.md\":\"ef8194cf\",\"features_code-gen-sql.md\":\"c8c939a1\",\"features_code-gen-validators.md\":\"199472e2\",\"features_config-files.md\":\"0f11a587\",\"features_extending-the-cli.md\":\"6c205d8e\",\"features_file-handling.md\":\"8e8a72df\",\"features_http-server.md\":\"f0b10171\",\"features_lint-setup.md\":\"0e7b41d2\",\"features_logger-and-events.md\":\"9b76c254\",\"features_migrations.md\":\"233899ca\",\"features_postgres-and-minio.md\":\"507a97c4\",\"features_route-invalidations.md\":\"0e15fb4e\",\"features_session-handling.md\":\"098b3081\",\"features_test-and-bench-runner.md\":\"de3d5eee\",\"features_typescript-setup.md\":\"bae7af0c\",\"getting-started.md\":\"b88cae49\",\"index.md\":\"e7192c6b\",\"migrations_index.md\":\"83f1951e\",\"migrations_store.md\":\"6cddb0dd\",\"references_cli.md\":\"48cda47c\",\"references_compas-config.md\":\"fcd50741\",\"releases_0.0.103.md\":\"ffffe48f\",\"releases_0.0.115.md\":\"82be64cd\",\"releases_0.0.119.md\":\"857e335c\",\"releases_0.0.124.md\":\"64749ebb\",\"releases_0.0.138.md\":\"387d8339\",\"releases_0.0.158.md\":\"c5ef0701\",\"releases_0.0.171.md\":\"29980ce0\",\"releases_0.0.172.md\":\"f5893116\",\"releases_0.0.180.md\":\"4f4d6bea\",\"releases_0.0.79.md\":\"81bb756d\",\"releases_0.0.81.md\":\"f0c81d75\",\"releases_0.0.83.md\":\"9893b66f\",\"releases_0.0.84.md\":\"80f2a6ce\",\"releases_0.0.89.md\":\"389c7324\",\"releases_index.md\":\"d46c73ba\"}")</script>
    <script type="module" async src="/assets/app.cf930e1c.js"></script>
    
  </body>
</html>